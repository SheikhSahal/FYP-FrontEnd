/*! For license information please see 2.57ba74ca.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[2],[function(e,t,n){e.exports=n(168)()},function(e,t,n){"use strict";e.exports=n(138)},function(e,t,n){"use strict";e.exports=n(167)},function(e,t,n){"use strict";(function(e,r,o,i){n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return Se})),n.d(t,"c",(function(){return fu})),n.d(t,"d",(function(){return bc})),n.d(t,"e",(function(){return tu})),n.d(t,"f",(function(){return id})),n.d(t,"g",(function(){return bs})),n.d(t,"h",(function(){return En})),n.d(t,"i",(function(){return Ju})),n.d(t,"j",(function(){return nc})),n.d(t,"k",(function(){return vu})),n.d(t,"l",(function(){return Es})),n.d(t,"m",(function(){return Yn})),n.d(t,"n",(function(){return bn})),n.d(t,"o",(function(){return Fl})),n.d(t,"p",(function(){return nd})),n.d(t,"q",(function(){return uc})),n.d(t,"r",(function(){return Dc})),n.d(t,"s",(function(){return yc})),n.d(t,"t",(function(){return ku})),n.d(t,"u",(function(){return Is})),n.d(t,"v",(function(){return Jn})),n.d(t,"w",(function(){return Wc})),n.d(t,"x",(function(){return sr})),n.d(t,"y",(function(){return dn})),n.d(t,"z",(function(){return ic})),n.d(t,"A",(function(){return Ps})),n.d(t,"B",(function(){return Ec})),n.d(t,"C",(function(){return Sc})),n.d(t,"D",(function(){return Ar})),n.d(t,"E",(function(){return lr})),n.d(t,"F",(function(){return Nu})),n.d(t,"G",(function(){return ln})),n.d(t,"H",(function(){return hn})),n.d(t,"I",(function(){return pn})),n.d(t,"J",(function(){return vn})),n.d(t,"K",(function(){return mn})),n.d(t,"L",(function(){return zt})),n.d(t,"M",(function(){return fr})),n.d(t,"N",(function(){return Gc})),n.d(t,"O",(function(){return hr})),n.d(t,"P",(function(){return yn}));var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var l=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],o=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,o)}))}},e}();function f(){return d}var d=null,h=new Map,p=new Map;function v(e,t){var n=b(e,t);return h.get(n)}function m(e){for(var t=h.entries(),n=[];;){var r=t.next(),o=r.done,i=r.value;if(o)break;var a=i[0],s=i[1];a.split("_")[0]===e&&n.push(s)}return n}function g(e){var t=e.kernelName,n=e.backendName,r=b(t,n);if(h.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");h.set(r,e)}function y(e){var t=e.kernelName;p.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),p.set(t,e)}function b(e,t){return t+"_"+e}function w(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function _(e,t,n){return Math.max(e,Math.min(t,n))}function x(e){return e%2==0?e:e+1}function E(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function C(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function k(e,t,n){void 0===n&&(n=""),C(I(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function S(e){C(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function T(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||W(e)&&!n)for(var r=0;r<e.length;++r)T(e[r],t,n);else t.push(e);return t}function O(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function I(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function N(e){return e%1==0}function R(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function A(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function P(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function D(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,o){var i=0;!function a(){if(e())r();else{i++;var s=t(i);null!=n&&i>=n?o():setTimeout(a,s)}}()}))}function M(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function j(e,t){var n=t.length;return C((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),C(e.every((function(e){return N(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function L(e,t){for(var n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:j(t,e).sort(),a=0,s=0;s<e.length;++s){if(null!=i){if(i[a]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==i[a]||i[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function F(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function B(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function U(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function V(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function z(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function W(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function q(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function H(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function G(e){return"string"==typeof e||e instanceof String}function K(e){return"boolean"==typeof e}function Y(e){return"number"==typeof e}function $(e){return Array.isArray(e)?$(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":Y(e)?"float32":G(e)?"string":K(e)?"bool":"float32"}function X(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Q(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function J(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Z(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=T(e)),n&&U(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function ee(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var o=new Array;if(1===n.length)for(var i=n[0],a=0;a<i;a++)o[a]=r[t+a];else{i=n[0];var s=n.slice(1),u=s.reduce((function(e,t){return e*t}));for(a=0;a<i;a++)o[a]=e(t+a*u,s,r)}return o}(0,e,t)}function te(e,t){for(var n=ne(e,t),r=0;r<n.length;r++)n[r]=1;return n}function ne(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function re(){return f().platform.now()}function oe(e){e.forEach((function(t){C(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function ie(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",f().platform.encode(e,t)}function ae(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",f().platform.decode(e,t)}function se(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function ue(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}Object.freeze({shuffle:w,clamp:_,nearestLargerEven:x,sum:E,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n},assert:C,assertShapesMatch:k,assertNonNull:S,flatten:T,sizeFromShape:O,isScalarShape:function(e){return 0===e.length},arraysEqual:I,isInt:N,tanh:R,sizeToSquarishShape:A,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return w(t),t},rightPad:P,repeatedTry:D,inferFromImplicitShape:M,parseAxisParam:j,squeezeShape:L,getTypedArrayFromDType:F,getArrayFromDType:B,checkConversionForErrors:U,isValidDtype:V,hasEncodingLoss:z,isTypedArray:W,bytesPerElement:q,bytesFromStringArray:H,isString:G,isBoolean:K,isNumber:Y,inferDtype:$,isFunction:X,nearestDivisor:Q,computeStrides:J,toTypedArray:Z,toNestedArray:ee,makeOnesTypedArray:te,makeZerosTypedArray:ne,now:re,assertNonNegativeIntegerDimensions:oe,fetch:function(e,t){return f().platform.fetch(e,t)},encodeString:ie,decodeString:ae,locToIndex:se,indexToLoc:ue});var ce=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new le)}return e.prototype.profileKernel=function(e,t,n){var r,o=this,i=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var o=e[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),i.then((function(i){var a="";null!=i.getExtraProfileInfo&&(a=i.getExtraProfileInfo()),o.logger.logKernelProfile(e,n,r,i.kernelMs,t,a)}))}))})),r},e}(),le=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,o,i){var a="number"==typeof r?P(r+"ms",9):r.error,s=P(e,25),u=t.rank,c=t.size,l=P(t.shape.toString(),14),f="";for(var d in o){var h=o[d].shape||t.shape,p=h.length;f+=d+": "+p+"D "+(p>0?h:"")+" "}console.log("%c"+s+"\t%c"+a+"\t%c"+u+"D "+l+"\t%c"+c+"\t%c"+f+"\t%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),fe=7;function de(e,t,n){return P(Array.isArray(e)?parseFloat(e[0].toFixed(fe))+" + "+parseFloat(e[1].toFixed(fe))+"j":G(e)?"'"+e+"'":"bool"===n?he(e):parseFloat(e.toFixed(fe)).toString(),t)}function he(e){return 0===e?"false":"true"}function pe(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var ve=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=O(e),null!=n){var o=n.length;C(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||B(t,this.size),this.strides=J(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),C(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var o=this.locToIndex(n);this.values[o]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i<0||i>=this.shape[n]){var a="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(a)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return me().makeTensor(this.values,this.shape,this.dtype)},e}(),me=null,ge=null,ye=null,be=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=O(e),this.strides=J(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),C(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),this.reshape([e,t,n,r,o])},e.prototype.asType=function(e){return this.throwIfDisposed(),ge.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ge.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return ge.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ee(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return ee(this.shape,this.dataSync())},e.prototype.data=function(){return u(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=me().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return ae(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=me().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return ae(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,me().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(me().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),ge.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),ge.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),ge.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),ge.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),ge.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),ge.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),ge.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var o=J(t),i=function(e,t,n,r){var o=O(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,u="complex64"===n?pe(e):e;if(s>1)for(var c=0;c<o/i;c++)for(var l=c*i,f=0;f<i;f++)a[f]=Math.max(a[f],de(u[l+f],0,n).length);return a}(e,t,n,o),a=t.length,s=function e(t,n,r,o,i,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c)return"complex64"===r?[de(pe(t)[0],0,r)]:"bool"===r?[he(t[0])]:[t[0].toString()];if(1===c){if(u>20){var l=3*s,f=Array.from(t.slice(0,l)),d=Array.from(t.slice((u-3)*s,u*s));return"complex64"===r&&(f=pe(f),d=pe(d)),["["+f.map((function(e,t){return de(e,i[t],r)})).join(", ")+", ..., "+d.map((function(e,t){return de(e,i[u-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?pe(t):Array.from(t)).map((function(e,t){return de(e,i[t],r)})).join(", ")+"]"]}var h=n.slice(1),p=o.slice(1),v=o[0]*s,m=[];if(u>20){for(var g=0;g<3;g++){var y=(b=g*v)+v;m.push.apply(m,e(t.slice(b,y),h,r,p,i,!1))}for(m.push("..."),g=u-3;g<u;g++)y=(b=g*v)+v,m.push.apply(m,e(t.slice(b,y),h,r,p,i,g===u-1))}else for(g=0;g<u;g++){var b;y=(b=g*v)+v,m.push.apply(m,e(t.slice(b,y),h,r,p,i,g===u-1))}var w=2===c?",":"";for(m[0]="["+m[0]+w,g=1;g<m.length-1;g++)m[g]=" "+m[g]+w;var _=",\n";for(g=2;g<c;g++)_+="\n";return m[m.length-1]=" "+m[m.length-1]+"]"+(a?"":_),m}(e,t,n,o,i),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+a),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),ge.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ge.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),ge.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),ge.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),ge.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),ge.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),ge.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),ge.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ge.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),ge.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),ge.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),ge.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),ye("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,r,n)},e.prototype.batchNorm=function(e,t,n,r,o){return void 0===o&&(o=.001),this.throwIfDisposed(),ge.batchNorm(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ge.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ge.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ge.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),ge.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),ge.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),ge.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),ge.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),ge.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),ge.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),ge.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),ge.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),ge.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),ge.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),ge.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),ge.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),ge.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),ge.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),ge.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),ge.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),ge.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),ge.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),ge.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),ge.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),ge.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),ge.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),ge.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),ge.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),ge.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),ge.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),ge.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),ge.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),ge.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),ge.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),ge.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),ge.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),ge.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),ge.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),ge.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),ge.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),ge.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),ge.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),ge.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),ge.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),ge.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),ge.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),ge.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),ge.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),ge.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),ge.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),ge.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),ge.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),ge.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),ge.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),ge.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),ge.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),ge.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),ge.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),ge.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),ge.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),ge.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),ge.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),ge.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),ge.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),ge.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),ge.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),ge.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),ge.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),ge.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),ge.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),ge.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),ge.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),ge.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),ge.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),ge.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),ge.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),ge.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),ge.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),ge.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),ge.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),ge.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),ge.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),ge.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),ge.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),ge.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),ge.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ge.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ge.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ge.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ge.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,i){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),ge.conv1d(this,e,t,n,r,o,i)},e.prototype.conv2d=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),ge.conv2d(this,e,t,n,r,o,i)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),ge.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),ge.depthwiseConv2d(this,e,t,n,r,o,i)},e.prototype.separableConv2d=function(e,t,n,r,o,i){return void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC"),this.throwIfDisposed(),ge.separableConv2d(this,e,t,n,r,o,i)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),ge.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),ge.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),ge.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,o){return this.throwIfDisposed(),ge.pool(this,e,t,n,r,o)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),me().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),ge.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),ge.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),ge.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),ge.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),this.throwIfDisposed(),ge.stridedSlice(this,e,t,n,r,o,i,a,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),ge.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),ge.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),ge.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),ge.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),ge.spectral.irfft(this)},e}();Object.defineProperty(be,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var we,_e,xe,Ee,Ce,ke,Se=function(e){function t(t,n,r,o){var i=e.call(this,t.shape,t.dtype,t.dataId,o)||this;return i.trainable=n,i.name=r,i}return s(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!I(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");me().disposeTensor(this),this.dataId=e.dataId,me().incRef(this,null)},t.prototype.dispose=function(){me().disposeVariable(this),this.isDisposedInternal=!0},t}(be);Object.defineProperty(Se,Symbol.hasInstance,{value:function(e){return e instanceof be&&null!=e.assign&&e.assign instanceof Function}}),(ke=we||(we={})).R0="R0",ke.R1="R1",ke.R2="R2",ke.R3="R3",ke.R4="R4",ke.R5="R5",ke.R6="R6",function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(_e||(_e={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(xe||(xe={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ee||(Ee={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Ce||(Ce={}));var Te={float32:Ee,int32:_e,bool:xe,complex64:Ce};function Oe(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Te[e][t]}function Ie(e){return Oe(e,"int32")}function Ne(e,t){if(e.dtype===t.dtype)return[e,t];var n=Oe(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Re(e,t){C(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function Ae(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof be)n.push(t);else if(o=t,Array.isArray(o)||"object"==typeof o){var o,i=t;for(var a in i){var s=i[a];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:Ne,assertTypesMatch:Re,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:Ae});var Pe,De=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Me=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new De}return e.prototype.ready=function(){return u(this,void 0,void 0,(function(){var e,t,n;return c(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(o){switch(o.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=o.sent(),[3,3];case 2:r=n,o.label=3;case 3:if(!r)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new ce(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;m(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;m(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,i=r.then((function(n){return!(o<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),o=r.success,i=r.asyncInit;if(i||o)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun((function(){return r.startScope(o)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[]),t},e.prototype.runKernel=function(e,t,n,r,o){return this.runKernelFunc(null,t,null,e,n,r,o)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),o=0;n.forEach((function(e){o+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+a+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,o,i,a){var s,u=this;void 0===i&&(i=[]),void 0===a&&(a=[]);var c=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,d=function(e){l&&(c=e.map((function(e){return u.keep(u.clone(e))})))},h=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,g=v(r,this.backendName);return f=null!=g?function(){var e=u.backend.numDataIds();m=g.kernelFunc({inputs:t,attrs:o,backend:u.backend});var n=Array.isArray(m)?m:[m];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)})),c=s.filter((function(e,t){return a[t]}));return d((i||[]).slice().concat(c)),s}:function(){var t=u.backend.numDataIds();m=u.tidy((function(){return e(u.backend,d)}));var n=Array.isArray(m)?m:[m];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n},this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,(function(){return f()})):f()})),l&&this.addTapeNode(r,t,s,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var o=e;"string"===n&&G(e[0])&&(o=e.map((function(e){return ie(e)})));var i=r.write(o,t,n),a=new be(t,n,i,this.nextTensorId());if(this.incRef(a,r),"string"===n){var s=this.state.tensorInfo.get(i),u=H(o);this.state.numBytes+=u-s.bytes,s.bytes=u}return a},e.prototype.makeTensorFromDataId=function(e,t,n,r){var o=new be(t,n=n||"float32",e,this.nextTensorId());return this.incRef(o,r),o},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var o=new Se(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*q(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Se||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,o){var i=this,a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=function(e){return p.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],o=ne(r.size,r.dtype);return i.makeTensor(o,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],o)}),this.state.activeTape.push(a)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=Ae(e),r=new Set(n.map((function(e){return e.id}))),o=0;o<this.state.activeScope.track.length;o++){var i=this.state.activeScope.track[o];i.kept||r.has(i.id)||i.dispose()}var a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==a.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var o=this;if(void 0===r&&(r=!1),C(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var i=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",e)}));C(i instanceof be,(function(){return"The result y returned by f() must be a tensor."}));var a=function(e,t,n){for(var r={},o={},i=0;i<t.length;i++)r[t[i].id]=!0;for(i=0;i<e.length;i++){var a=(p=e[i]).inputs;for(var s in a){for(var u=a[s],c=!1,l=0;l<t.length;l++)if(r[u.id]){p.outputs.forEach((function(e){return r[e.id]=!0})),c=!0,o[p.id]=!0;break}if(c)break}}var f={};f[n.id]=!0;var d={};for(i=e.length-1;i>=0;i--)for(a=(p=e[i]).inputs,l=0;l<p.outputs.length;l++)if(f[p.outputs[l].id]){for(var s in a)f[a[s].id]=!0,d[p.id]=!0;break}var h=[];for(i=0;i<e.length;i++){var p;if(o[(p=e[i]).id]&&d[p.id]){var v={};for(var s in p.inputs){var m=p.inputs[s];r[m.id]&&(v[s]=m)}var g=Object.assign({},p);g.inputs=v,g.outputs=p.outputs,h.push(g)}}return h}(this.state.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[i.id]=null==n?(r=te(O(e=i.shape),"float32"),je.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var o=t[r],i=[];if(o.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+o.kernelName+".");var a=o.gradient(i),s=function(t){if(!(t in a))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(a)+".");var r=n((function(){return a[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var i=o.inputs[t];if(!I(r.shape,i.shape))throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+i.shape+"'");if(null==e[i.id])e[i.id]=r;else{var s=e[i.id];e[i.id]=s.add(r),s.dispose()}};for(var u in o.inputs)s(u)},o=t.length-1;o>=0;o--)r(o)}(s,a,(function(e){return o.tidy(e)}));var u=t.map((function(e){return s[e.id]}));return 0===o.state.gradientDepth&&(o.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),o.state.activeTape=null),{value:i,grads:u}}))},e.prototype.customGrad=function(e){var t=this;return C(X(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];C(r.every((function(e){return e instanceof be})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};return r.forEach((function(e,t){i[t]=e})),t.runKernelFunc((function(t,o){return C((n=e.apply(void 0,r.concat([o]))).value instanceof be,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),C(X(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),i,(function(e,t){var o=n.gradFunc(e,t),i=Array.isArray(o)?o:[o];C(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),C(i.every((function(e){return e instanceof be})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var a={};return i.forEach((function(e,t){a[t]=function(){return e}})),a}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return t=re(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=re()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new De,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),je=function(){var t=function(){if(null==Pe){var t=void 0;if("undefined"!=typeof window)t=window;else if("undefined"!=typeof e)t=e;else if("undefined"!=typeof r)t=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}Pe=t}return Pe}();if(null==t._tfengine){var n=new l(t);t._tfengine=new Me(n)}return function(e){d=e}(t._tfengine.ENV),me=function(){return t._tfengine},t._tfengine}();function Le(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Fe=f();Fe.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Fe.registerFlag("IS_BROWSER",(function(){return Le()})),Fe.registerFlag("IS_NODE",(function(){return"undefined"!=typeof r&&void 0!==r.versions&&void 0!==r.versions.node})),Fe.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Fe.registerFlag("PROD",(function(){return!1})),Fe.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Fe.getBool("DEBUG")})),Fe.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Fe.registerFlag("IS_TEST",(function(){return!1}));var Be,Ue,Ve,ze={},We={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function qe(e,t){ze[e]=t}function He(e){e in ze||(ze[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete ze[e]}),!1),1===e?t.getContext("webgl",We)||t.getContext("experimental-webgl",We):t.getContext("webgl2",We)}(e));var t=ze[e];return t.isContextLost()?(delete ze[e],He(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),ze[e])}function Ge(e,t){return[t,e]}function Ke(e){var t=O(e);return A(Math.ceil(t/4))}function Ye(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function $e(e,t){var n,r,o,i,a,s,u,c,l,d=e;return 2===f().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,o=d.RGBA16F,i=d.RGBA32F,a=d.RED,s=4,u=1,c=d.HALF_FLOAT,l=d.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,i=d.RGBA,a=e.RGBA,s=4,u=4,c=null!=t?t.HALF_FLOAT_OES:null,l=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:l}}function Xe(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Je(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Be||(Be={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Ue||(Ue={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Ve||(Ve={}));function Qe(e){return!!(f().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Je(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function Ze(e,t,n){return xt(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function et(e,t,n){var r=xt(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Xe(e,t,(function(){return e.shaderSource(r,n)})),Xe(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function tt(e,t,n){var r=xt(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Xe(e,t,(function(){return e.shaderSource(r,n)})),Xe(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=ot.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map((function(e,t){return P((t+1).toString(),i)+e})),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var c=a.slice(0,r-1),l=a.slice(r-1,r),f=a.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+P(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var nt,rt,ot=/ERROR: [0-9]+:([0-9]+):/g;function it(e,t){return xt(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function at(e,t,n){if(Xe(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function st(e,t,n){if(Xe(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function ut(e,t,n){var r=xt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Xe(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Xe(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function ct(e,t,n){var r=xt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Xe(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),Xe(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function lt(e,t){return xt(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function ft(e,t){var n=f().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function dt(e,t){return xt(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function ht(e,t,n,r,o,i,a,s){var u=e.getAttribLocation(n,r);return-1!==u&&(Xe(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,o)})),Xe(e,t,(function(){return e.vertexAttribPointer(u,i,e.FLOAT,!1,a,s)})),Xe(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function pt(e,t,n,r){Et(e,r),Xe(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),Xe(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function vt(e,t,n,r){return xt(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function mt(e,t,n){return e.getUniformLocation(t,n)}function gt(e,t,n,r,o,i){Xe(e,t,(function(){return pt(e,t,r,i)})),Xe(e,t,(function(){return e.uniform1i(o,i)}))}function yt(e,t,n,r){Xe(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),Xe(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function bt(e,t,n){Xe(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),Xe(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function wt(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+_t(e,t))}function _t(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function xt(e,t,n,r){var o=Xe(e,t,(function(){return n()}));if(null==o)throw new Error(r);return o}function Et(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Ct(e,t){return void 0===t&&(t=2),O(e.slice(0,e.length-t))}function kt(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function St(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Ct(e)].concat(kt(e))),t}function Tt(e,t){var n;void 0===t&&(t=!1);var r=f().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?x(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var o=L(e);e=o.newShape}var i=O(e);if(e.length<=1&&i<=r)return[1,i];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var a=Ct(e),s=2,u=2;return e.length&&(s=(n=kt(e))[0],u=n[1]),A(i=a*(s/2)*(u/2)).map((function(e){return 2*e}))}return A(i)}function Ot(e){return e%2==0}function It(e,t){if(I(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Ot(n)&&Ot(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Ot(e[0])&&Ot(t[0])}function Nt(e){if(null==nt){var t=He(e);nt=t.getParameter(t.MAX_TEXTURE_SIZE)}return nt}function Rt(e){if(null==rt){var t=He(e);rt=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,rt)}function At(e){if(0===e)return 0;var t=He(e);return Pt(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Pt(t,"EXT_disjoint_timer_query")?1:0}function Pt(e,t){return null!=e.getExtension(t)}function Dt(e){try{if(null!=He(e))return!0}catch(e){return!1}return!1}function Mt(e){if(0===e)return!1;var t=He(e);if(1===e){if(!Pt(t,"OES_texture_float"))return!1}else if(!Pt(t,"EXT_color_buffer_float"))return!1;return Lt(t)}function jt(e){if(0===e)return!1;var t=He(e);if(1!==e){if(Pt(t,"EXT_color_buffer_float"))return Lt(t);if(Pt(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=$e(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),i}(t,n)}return!1}return!!Pt(t,"OES_texture_float")&&!!Pt(t,"WEBGL_color_buffer_float")&&Lt(t)}function Lt(e){var t=$e(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function Ft(e){return 2===e&&null!=He(e).fenceSync}var Bt=Object.freeze({callAndCheck:Xe,canBeRepresented:Qe,getWebGLErrorMessage:Je,getExtensionOrThrow:Ze,createVertexShader:et,createFragmentShader:tt,createProgram:it,linkProgram:at,validateProgram:st,createStaticVertexBuffer:ut,createStaticIndexBuffer:ct,getNumChannels:function(){return 2===f().getNumber("WEBGL_VERSION")?1:4},createTexture:lt,validateTextureSize:ft,createFramebuffer:dt,bindVertexBufferToProgramAttribute:ht,bindTextureUnit:pt,unbindTextureUnit:function(e,t,n){Et(e,n),Xe(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),Xe(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:vt,getProgramUniformLocation:mt,bindTextureToProgramUniformSampler:gt,bindCanvasToFramebuffer:function(e,t){Xe(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),Xe(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),Xe(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:yt,unbindColorTextureFromFramebuffer:bt,validateFramebuffer:wt,getFramebufferErrorMessage:_t,getBatchDim:Ct,getRowsCols:kt,getShapeAs3D:St,getTextureShapeFromLogicalShape:Tt,isReshapeFree:It,getWebGLMaxTextureSize:Nt,resetMaxTextureSize:function(){nt=null},resetMaxTexturesInShader:function(){rt=null},getMaxTexturesInShader:Rt,getWebGLDisjointQueryTimerVersion:At,hasExtension:Pt,isWebGLVersionEnabled:Dt,isCapableOfRenderingToFloatTexture:Mt,isDownloadFloatTextureEnabled:jt,isWebGLFenceEnabled:Ft}),Ut=f();function Vt(e){f().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function zt(e,t){return je.tidy(e,t)}function Wt(e){Ae(e).forEach((function(e){return e.dispose()}))}function qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f().getBool("IS_TEST")||console.warn.apply(console,e)}function Ht(e,t){var n=e;if(W(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||W(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&f().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||W(t)){C(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),C(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var o=n.slice(1),i=0;i<t.length;++i)e(t[i],o,r.concat(i))}else C(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function Gt(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function Kt(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof be)return Gt(r,e.dtype,t,n),e;var o=$(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),Gt(r,o,t,n),null==e||!W(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var i=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var a=Ht(e,o);W(e)||Array.isArray(e)||(e=[e]);var s="string"!==o?Z(e,o,f().getBool("DEBUG")):T(e,[],!0);return je.makeTensor(s,a,o)}function Yt(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return Kt(e,t+"["+r+"]",n)}),r)}function $t(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Xt(e,t,n){for(var r=e.length+t.length,o=[],i=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function Qt(e,t){for(var n=[],r=e.length,o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((function(t){return e[t]}))]}function Jt(e,t){return Xt(e,t.map((function(e){return 1})),t)}function Zt(e,t,n){C($t(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function en(e,t){if($t(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function tn(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function nn(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function rn(e,t){var n=e[0].length;e.forEach((function(e,t){C(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),C(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,o){for(var i=0;i<n;i++)C(i===t||e[i]===r[i],(function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."}))}))}function on(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function an(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];je.startScope(n);try{var o=r.apply(void 0,e);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),je.endScope(o),o}catch(e){throw je.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}Ut.registerFlag("HAS_WEBGL",(function(){return Ut.getNumber("WEBGL_VERSION")>0})),Ut.registerFlag("WEBGL_VERSION",(function(){return Dt(2)?2:Dt(1)?1:0})),Ut.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Ut.get("WEBGL_VERSION")})),Ut.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Ut.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Ut.registerFlag("WEBGL_PACK",(function(){return Ut.getBool("HAS_WEBGL")})),Ut.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_PACK_CLIP",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),Ut.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_PACK_REDUCE",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_CONV_IM2COL",(function(){return Ut.getBool("WEBGL_PACK")})),Ut.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Nt(Ut.getNumber("WEBGL_VERSION"))})),Ut.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Rt(Ut.getNumber("WEBGL_VERSION"))})),Ut.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Ut.getNumber("WEBGL_VERSION");return 0===e?0:At(e)})),Ut.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Ut.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),Ut.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Mt(Ut.getNumber("WEBGL_VERSION"))})),Ut.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Ut.getBool("WEBGL_FORCE_F16_TEXTURES")&&Ut.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Ut.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return jt(Ut.getNumber("WEBGL_VERSION"))})),Ut.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return Ft(Ut.getNumber("WEBGL_VERSION"))})),Ut.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Ut.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),ye=Vt;var sn=an({complex_:function(e,t){var n=Kt(e,"real","complex"),r=Kt(t,"imag","complex");return k(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),je.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),un=an({real_:function(e){var t=Kt(e,"input","real");return je.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),cn=an({imag_:function(e){var t=Kt(e,"input","imag");return je.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function ln(e,t,n){return fn(e,t,Ht(e,n),n)}function fn(e,t,n,r){if(null==r&&(r=$(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!W(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){oe(t);var o=O(t),i=O(n);C(o===i,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+i}));for(var a=0;a<n.length;++a){var s=n[a],u=a!==n.length-1||s!==O(t.slice(a));C(n[a]===t[a]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return W(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Z(e,r,f().getBool("DEBUG")):T(e,[],!0),je.makeTensor(e,t,r)}function dn(e,t){if((W(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&W(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return fn(e,[],[],t)}function hn(e,t){S(e);var n=Ht(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return fn(e,null,n,t)}function pn(e,t,n){if(S(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Ht(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return fn(e,t,r,n)}function vn(e,t,n){if(S(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Ht(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return fn(e,t,r,n)}function mn(e,t,n){if(S(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Ht(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return fn(e,t,r,n)}function gn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=gn(e,"float32"),r=yn(e,"float32");return sn(n,r)}var o=te(O(e),t);return je.makeTensor(o,e,t)}function yn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=yn(e,"float32"),r=yn(e,"float32");return sn(n,r)}var o=ne(O(e),t);return je.makeTensor(o,e,t)}function bn(e,t,n){return je.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function wn(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return yn([0],r);var o=ne(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return hn(o,r)}var _n=an({onesLike_:function(e){var t=Kt(e,"x","onesLike");if("complex64"===t.dtype){var n=_n(un(t)),r=xn(cn(t));return sn(n,r)}return je.runKernelFunc((function(e){return e.onesLike(t)}),{$x:t},(function(e,t){return{$x:function(){return xn(e)}}}))}}),xn=an({zerosLike_:function(e){var t=Kt(e,"x","zerosLike");return je.runKernelFunc((function(e){return e.zerosLike(t)}),{$x:t},(function(e,t){return{$x:function(){return xn(e)}}}))}}),En=an({concat_:function(e,t){void 0===t&&(t=0),C(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Yt(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=j(t,n[0].shape)[0];var r=on(n.map((function(e){return e.shape})),t);if(0===O(r))return ln([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var o=n.map((function(e){return e.shape}));rn(o,t);var i=n,a={axis:t};return je.runKernelFunc((function(e){return e.concat(n,t)}),i,(function(e){var n=o.map((function(e){return e[t]}));return On(e,n,t).map((function(e){return function(){return e}}))}),"Concat",a)}}),Cn=an({concat1d_:function(e){return En(e,0)}}),kn=an({concat2d_:function(e,t){return En(e,t)}}),Sn=an({concat3d_:function(e,t){return En(e,t)}}),Tn=an({concat4d_:function(e,t){return En(e,t)}}),On=an({split_:function(e,t,n){void 0===n&&(n=0);var r,o=Kt(e,"x","split");return n=j(n,o.shape)[0],"number"==typeof t?(C(o.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(o.shape[n]/t)):(C(o.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),je.runKernelFunc((function(e){return e.split(o,r,n)}),{$x:o},(function(e){return{$x:function(){return En(e,n)}}}))}});function In(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var Nn=In((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.alea=i}(0,e)})),Rn=In((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor128=i}(0,e)})),An=In((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)})),Pn=In((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)})),Dn=In((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),o=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)})),Mn=In((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.tychei=i}(0,e)})),jn=In((function(e){!function(t,r){var o,i=this,a=256,s="random",u=r.pow(a,6),c=r.pow(2,52),l=2*c,f=a-1;function d(e,n,f){var d=[],g=v(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,m(t)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(a):(e=new Uint8Array(a),(i.crypto||i.msCrypto).getRandomValues(e)),m(e)}catch(e){var n=i.navigator,r=n&&n.plugins;return[+new Date,i,r,i.screen,m(t)]}}():e,3),d),y=new h(d),b=function(){for(var e=y.g(6),t=u,n=0;e<c;)e=(e+n)*a,t*=a,n=y.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,v(m(y.S),t),(n.pass||f||function(e,t,n,o){return o&&(o.S&&p(o,y),e.state=function(){return p(y,{})}),n?(r[s]=e,t):e})(b,g,"global"in n?n.global:this==r,n.state)}function h(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=f&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=f&o+1],n=n*a+s[f&(s[o]=s[i=f&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){for(var n,r=e+"",o=0;o<r.length;)t[f&o]=f&(n^=19*t[f&o])+r.charCodeAt(o++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=d,v(r.random(),t),e.exports){e.exports=d;try{o=n(161)}catch(e){}}}([],Math)}));jn.alea=Nn,jn.xor128=Rn,jn.xorwow=An,jn.xorshift7=Pn,jn.xor4096=Dn,jn.tychei=Mn;var Ln=jn.alea,Fn=function(){function e(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Ln(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,i=void 0,a=void 0;do{a=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),Bn=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var o=r||Math.random();this.randu=Ln(o.toString()),this.randn=new Fn(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,o,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(o=this.randu())<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),Un=function(){function e(e,t,n,r){var o=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Ln(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function Vn(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",oe(e),new ve(e,t,n)}var zn=an({batchToSpaceND_:function(e,t,n){var r=Kt(e,"x","batchToSpaceND"),o=t.reduce((function(e,t){return e*t}));return C(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),C(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),C(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o})),je.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),Wn=an({broadcastTo_:function(e,t){var n=Kt(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var i=Array.from(t),a=t.length-1;a>=0;a--)if(n.shape[a]===t[a])i[a]=1;else if(1!==n.shape[a])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));return 0===s.length?n.clone():je.runKernelFunc((function(e){return e.tile(n,i)}),{input:n},(function(e){return{input:function(){return e.sum(s,!0)}}}))}}),qn=an({cast_:function(e,t){var n=Kt(e,"x","cast");if(!V(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return je.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),Hn=an({clone_:function(e){var t=Kt(e,"x","clone",null);return je.runKernelFunc((function(){return je.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(e){return{$x:function(){return e.toFloat()}}}))}}),Gn=an({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=Kt(e,"x","cumsum"),i=en([t|=0],o.rank),a=o;null!=i&&(a=o.transpose(i));var s=nn(1,o.rank)[0],u=je.runKernelFunc((function(e){return e.cumsum(a,s,n,r)}),{permutedX:a},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=i&&(u=u.transpose(i)),u}}),Kn=an({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=Kt(e,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return C(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),C(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),C(a%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape})),je.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),Yn=an({expandDims_:function(e,t){void 0===t&&(t=0);var n=Kt(e,"x","expandDims",null);C(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(C(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),sr(n,r)}}),$n=an({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var o=Vn([e,t],r),i=e<=t?e:t,a=0;a<i;++a)o.set(1,a,a);var s=o.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return fr(Yn(s,0),[n[0],1,1]);if(2===n.length)return fr(Yn(Yn(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return fr(Yn(Yn(Yn(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Xn=an({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var o=Kt(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?o.as2D(1,-1):o,u=je.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===a?u.as1D():u}}),Qn=an({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=Kt(e,"indices","oneHot","int32"),i=o.shape.concat([t]);return o=o.flatten(),je.runKernelFunc((function(e){return e.oneHot(o,t,n,r)}),{$indices:o},(function(e){return{$indices:function(){return yn(o.shape,"float32")}}})).reshape(i)}}),Jn=an({pad_:function(e,t,n){void 0===n&&(n=0);var r=Kt(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return je.runKernelFunc((function(e){return e.pad(r,t,n)}),{x:r},(function(e){var n=t.map((function(e){return e[0]}));return{x:function(){return e.slice(n,r.shape)}}}),"PadV2",o)}}),Zn=an({pad1d_:function(e,t,n){return void 0===n&&(n=0),C(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Jn(e,[t],n)}}),er=an({pad2d_:function(e,t,n){return void 0===n&&(n=0),C(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Jn(e,t,n)}}),tr=an({pad3d_:function(e,t,n){return void 0===n&&(n=0),C(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Jn(e,t,n)}}),nr=an({pad4d_:function(e,t,n){return void 0===n&&(n=0),C(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Jn(e,t,n)}}),rr=an({rand_:function(e,t,n){var r=O(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var i=0;i<r;i++)o[i]=t();return je.makeTensor(o,e,n)}}),or=an({randomNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Fn(t,n,r,!1,o),a=Vn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),ir=an({randomGamma_:function(e,t,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var i=new Bn(t,n,r,o),a=Vn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),ar=an({randomUniform_:function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var i=Vn(e,r),a=new Un(t,n,null,o),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),sr=an({reshape_:function(e,t){var n=Kt(e,"x","reshape",null);t=M(t,n.size),C(n.size===O(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return je.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),ur=an({spaceToBatchND_:function(e,t,n){var r=Kt(e,"x","spaceToBatchND");return C(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),C(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),C(r.shape.reduce((function(e,r,o){return o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),je.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),cr=an({squeeze_:function(e,t){var n=Kt(e,"x","squeeze");return sr(n,L(n.shape,t).newShape)}}),lr=an({stack_:function(e,t){void 0===t&&(t=0);var n=Yt(e,"tensors","stack");if(C(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,i=n[0].dtype;C(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){k(o,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){C(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var a=n.map((function(e){return e.expandDims(t)}));return En(a,t)}}),fr=an({tile_:function(e,t){var n=Kt(e,"x","tile",null);C(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],o={reps:t};return je.runKernelFunc((function(e,r){var o=e.tile(n,t);return r([n]),o}),{x:n},(function(e,n){var r=n[0];return{x:function(){var n=xn(r);if(1===r.rank)for(var o=0;o<t[0];++o)n=n.add(e.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(o=0;o<t[0];++o)for(var i=0;i<t[1];++i)n=n.add(e.slice([o*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(var a=0;a<t[2];++a)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(a=0;a<t[2];++a)for(var s=0;s<t[3];++s)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}),"Tile",o,r)}}),dr=an({truncatedNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Fn(t,n,r,!0,o),a=Vn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),hr=an({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=Kt(e,"x","unstack");C(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return je.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return lr(e,t)}}}),"Unpack",r)}});function pr(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=t.length,a=0;a<i;++a)o=o.concat([e[a+1]/t[a],t[a]]);o=o.concat(e.slice(i+1))}return o}function vr(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?a.push(o):i.push(o);r.push.apply(r,i),r.push(0),r.push.apply(r,a)}return r}function mr(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function gr(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function yr(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function br(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,i=0;i<n.length-1;++i)o*=n[i];var a=e.shape,s=n.slice();s.pop();var u=1;for(i=r;i<e.rank;++i)u*=a[i],s.push(a[i]);var c=J(e.shape).map((function(e){return e/u})).concat([1]).slice(0,r);return[s,o,u,c]}Object.freeze({prepareAndValidate:br});function wr(e){return e<=30?e:Q(e,Math.floor(Math.sqrt(e)))}function _r(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(var a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape["+(a+o)+"] ("+n.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}function xr(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}_r(n,t,e)}function Er(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length,a=1,s=o;s<i;++s)a*=n[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:O(t.shape)/u,sliceSize:a,strides:J(n.slice(0,o)).concat([1]),outputSize:O(n)}}Object.freeze({validateUpdateShape:_r,validateInput:xr,calculateShapes:Er});function Cr(e,t,n){C(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),C(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){C(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},o=0;o<e.rank;++o)r(o)}function kr(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Sr(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function Tr(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),_(0,i,s-1)}function Or(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),a>0?_(0,i,s):_(-1,i,s-1)}function Ir(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function Nr(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:Cr,maskToAxes:kr,computeOutShape:Sr,startForAxis:Tr,stopForAxis:Or,isSliceContinous:Ir,computeFlatOffset:Nr});function Rr(e){return je.customGrad(e)}var Ar=an({softmax_:function(e,t){void 0===t&&(t=-1);var n=Kt(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return je.runKernelFunc((function(e,r){var o=e.softmax(n,t);return r([o]),o}),{logits:n},(function(e,n){var r=n[0],o=e.mul(r);return{logits:function(){return o.sub(o.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),Pr=an({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=Kt(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Rr((function(e,n){var r=e.max(t,!0),o=e.sub(r),i=o.toFloat().sub(o.exp().sum(t,!0).log());return n([i]),{value:i,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),Dr=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),Mr=function(){function e(){}return e.prototype.time=function(e){return jr("time")},e.prototype.read=function(e){return jr("read")},e.prototype.readSync=function(e){return jr("readSync")},e.prototype.numDataIds=function(){return jr("numDataIds")},e.prototype.disposeData=function(e){return jr("disposeData")},e.prototype.write=function(e,t,n){return jr("write")},e.prototype.move=function(e,t,n,r){return jr("move")},e.prototype.memory=function(){return jr("memory")},e.prototype.floatPrecision=function(){return jr("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return jr("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,jr("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return jr("slice")},e.prototype.stridedSlice=function(e,t,n,r){return jr("stridedSlice")},e.prototype.unstack=function(e,t){return jr("unstack")},e.prototype.reverse=function(e,t){return jr("reverse")},e.prototype.concat=function(e,t){return jr("concat")},e.prototype.neg=function(e){return jr("neg")},e.prototype.add=function(e,t){return jr("add")},e.prototype.addN=function(e){return jr("addN")},e.prototype.subtract=function(e,t){return jr("subtract")},e.prototype.multiply=function(e,t){return jr("multiply")},e.prototype.realDivide=function(e,t){return jr("realDivide")},e.prototype.floorDiv=function(e,t){return jr("floorDiv")},e.prototype.sum=function(e,t){return jr("sum")},e.prototype.prod=function(e,t){return jr("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return jr("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return jr("argMin")},e.prototype.argMax=function(e,t){return jr("argMax")},e.prototype.equal=function(e,t){return jr("equal")},e.prototype.notEqual=function(e,t){return jr("notEqual")},e.prototype.less=function(e,t){return jr("less")},e.prototype.lessEqual=function(e,t){return jr("lessEqual")},e.prototype.greater=function(e,t){return jr("greater")},e.prototype.greaterEqual=function(e,t){return jr("greaterEqual")},e.prototype.logicalNot=function(e){return jr("logicalNot")},e.prototype.logicalAnd=function(e,t){return jr("logicalAnd")},e.prototype.logicalOr=function(e,t){return jr("logicalOr")},e.prototype.where=function(e){return jr("where")},e.prototype.select=function(e,t,n){return jr("select")},e.prototype.topk=function(e,t,n){return jr("topk")},e.prototype.min=function(e,t){return jr("min")},e.prototype.minimum=function(e,t){return jr("minimum")},e.prototype.mod=function(e,t){return jr("mod")},e.prototype.max=function(e,t){return jr("max")},e.prototype.maximum=function(e,t){return jr("maximum")},e.prototype.all=function(e,t){return jr("all")},e.prototype.any=function(e,t){return jr("any")},e.prototype.squaredDifference=function(e,t){return jr("squaredDifference")},e.prototype.ceil=function(e){return jr("ceil")},e.prototype.floor=function(e){return jr("floor")},e.prototype.round=function(e){return jr("round")},e.prototype.sign=function(e){return jr("sign")},e.prototype.isNaN=function(e){return jr("isNaN")},e.prototype.isInf=function(e){return jr("isInf")},e.prototype.isFinite=function(e){return jr("isFinite")},e.prototype.pow=function(e,t){return jr("pow")},e.prototype.exp=function(e){return jr("exp")},e.prototype.expm1=function(e){return jr("expm1")},e.prototype.softmax=function(e,t){return jr("softmax")},e.prototype.log=function(e){return jr("log")},e.prototype.log1p=function(e){return jr("log1p")},e.prototype.sqrt=function(e){return jr("sqrt")},e.prototype.rsqrt=function(e){return jr("rsqrt")},e.prototype.square=function(e){return jr("square")},e.prototype.reciprocal=function(e){return jr("reciprocal")},e.prototype.relu=function(e){return jr("relu")},e.prototype.relu6=function(e){return jr("relu6")},e.prototype.prelu=function(e,t){return jr("prelu")},e.prototype.elu=function(e){return jr("elu")},e.prototype.eluDer=function(e,t){return jr("eluDer")},e.prototype.selu=function(e){return jr("selu")},e.prototype.int=function(e){return jr("int")},e.prototype.clip=function(e,t,n){return jr("clip")},e.prototype.abs=function(e){return jr("abs")},e.prototype.complexAbs=function(e){return jr("complexAbs")},e.prototype.sigmoid=function(e){return jr("sigmoid")},e.prototype.softplus=function(e){return jr("softplus")},e.prototype.sin=function(e){return jr("sin")},e.prototype.cos=function(e){return jr("cos")},e.prototype.tan=function(e){return jr("tan")},e.prototype.asin=function(e){return jr("asin")},e.prototype.acos=function(e){return jr("acos")},e.prototype.atan=function(e){return jr("atan")},e.prototype.atan2=function(e,t){return jr("atan2")},e.prototype.sinh=function(e){return jr("sinh")},e.prototype.cosh=function(e){return jr("cosh")},e.prototype.tanh=function(e){return jr("tanh")},e.prototype.asinh=function(e){return jr("asinh")},e.prototype.acosh=function(e){return jr("acosh")},e.prototype.atanh=function(e){return jr("atanh")},e.prototype.erf=function(e){return jr("erf")},e.prototype.step=function(e,t){return jr("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,jr("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return jr("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return jr("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return jr("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,jr("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return jr("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return jr("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return jr("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return jr("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return jr("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return jr("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return jr("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return jr("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return jr("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return jr("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return jr("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return jr("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return jr("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return jr("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return jr("reshape")},e.prototype.cast=function(e,t){return jr("cast")},e.prototype.tile=function(e,t){return jr("tile")},e.prototype.pad=function(e,t,n){return jr("pad")},e.prototype.transpose=function(e,t){return jr("transpose")},e.prototype.gather=function(e,t,n){return jr("gather")},e.prototype.gatherND=function(e,t){return jr("gatherND")},e.prototype.scatterND=function(e,t,n){return jr("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return jr("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return jr("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return jr("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return jr("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return jr("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return jr("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,o,i){return jr("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){return jr("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){return jr("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return jr("multinomial")},e.prototype.oneHot=function(e,t,n,r){return jr("oneHot")},e.prototype.cumsum=function(e,t,n,r){return jr("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return jr("nonMaxSuppression")},e.prototype.fft=function(e){return jr("fft")},e.prototype.ifft=function(e){return jr("ifft")},e.prototype.complex=function(e,t){return jr("complex")},e.prototype.real=function(e){return jr("real")},e.prototype.imag=function(e){return jr("imag")},e.prototype.cropAndResize=function(e,t,n,r,o,i){return jr("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return jr("depthToSpace")},e.prototype.split=function(e,t,n){return jr("split")},e.prototype.sparseToDense=function(e,t,n,r){return jr("sparseToDense")},e.prototype.diag=function(e){return jr("diag")},e.prototype.fill=function(e,t,n){return jr("fill")},e.prototype.onesLike=function(e){return jr("onesLike")},e.prototype.zerosLike=function(e){return jr("zerosLike")},e.prototype.linspace=function(e,t,n){return jr("linspace")},e.prototype.dispose=function(){return jr("dispose")},e}();function jr(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Lr(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function Fr(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function Br(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e[e.length-o-1];null==i&&(i=1);var a=t[t.length-o-1];if(null==a&&(a=1),1===i)n.unshift(a);else if(1===a)n.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function Ur(e,t,n,r,o,i,a){void 0===a&&(a="channelsLast");var s,u=Hr(t),c=u[0],l=u[1];if("channelsLast"===a)s=[c,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[c,l,e[1],e[1]]}return zr(e,s,n,r,o,i,!1,a)}function Vr(e,t,n,r,o,i,a){void 0===a&&(a="NDHWC");var s,u,c=Gr(t),l=c[0],f=c[1],d=c[2];if("NDHWC"===a)u="channelsLast",s=[l,f,d,e[4],e[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);u="channelsFirst",s=[l,f,d,e[1],e[1]]}return Wr(e,s,n,r,o,!1,u,i)}function zr(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3];if("channelsLast"===s)c=e[0],l=e[1],f=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);c=e[0],d=e[1],l=e[2],f=e[3]}var h,p=t[0],v=t[1],m=t[3],g=Hr(n),y=g[0],b=g[1],w=Hr(r),_=w[0],x=w[1],E=Kr(p,_),k=Kr(v,x),S=function(e,t,n,r,o,i,a,s){var u,c,l;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,o){null==r&&(r=qr(e,t,n));var i=e[1],a=Yr((e[0]-t+2*r)/n+1,o);C(N(a),(function(){return"The output # of rows ("+a+") must be an integer. Change the stride and/or zero pad parameters"}));var s=Yr((i-t+2*r)/n+1,o);return C(N(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[a,s]}([t,n],i,r,e,s);c=f[0],l=f[1]}else if("same"===e){c=Math.ceil(t/r),l=Math.ceil(n/o);var d=Math.max(0,(c-1)*r+i-t),h=Math.max(0,(l-1)*o+a-n),p=Math.floor(d/2),v=d-p,m=Math.floor(h/2);u={top:p,bottom:v,left:m,right:h-m,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),l=Math.ceil((n-a+1)/o)}return{padInfo:u,outHeight:c,outWidth:l}}(o,l,f,y,b,E,k,i),T=S.padInfo,O=S.outHeight,I=S.outWidth,R=a?m*d:m;return"channelsFirst"===s?h=[c,R,O,I]:"channelsLast"===s&&(h=[c,O,I,R]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:f,inChannels:d,outHeight:O,outWidth:I,outChannels:R,padInfo:T,strideHeight:y,strideWidth:b,filterHeight:p,filterWidth:v,effectiveFilterHeight:E,effectiveFilterWidth:k,dilationHeight:_,dilationWidth:x,inShape:e,outShape:h,filterShape:t}}function Wr(e,t,n,r,o,i,a,s){void 0===i&&(i=!1),void 0===a&&(a="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3],h=u[4];if("channelsLast"===a)c=e[0],l=e[1],f=e[2],d=e[3],h=e[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);c=e[0],h=e[1],l=e[2],f=e[3],d=e[4]}var p,v=t[0],m=t[1],g=t[2],y=t[4],b=Gr(n),w=b[0],_=b[1],x=b[2],E=Gr(r),k=E[0],S=E[1],T=E[2],O=Kr(v,k),I=Kr(m,S),R=Kr(g,T),A=function(e,t,n,r,o,i,a,s,u,c,l){var f,d,h,p;if("number"==typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var v=function(e,t,n,r,o,i){null==o&&(o=qr(e,t,r));var a=e[1],s=e[2],u=Yr((e[0]-t+2*o)/r+1,i);C(N(u),(function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var c=Yr((a-t+2*o)/r+1,i);C(N(c),(function(){return"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters"}));var l=Yr((s-t+2*o)/r+1,i);return C(N(l),(function(){return"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"})),[u,c,l,1]}([t,n,r,1],s,0,o,e,l);d=v[0],h=v[1],p=v[2]}else if("same"===e){var m=((d=Math.ceil(t/o))-1)*o+s-t,g=((h=Math.ceil(n/i))-1)*i+u-n,y=((p=Math.ceil(r/a))-1)*a+c-r,b=Math.floor(m/2),w=m-b,_=Math.floor(g/2),x=g-_,E=Math.floor(y/2);f={top:_,bottom:x,left:E,right:y-E,front:b,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/o),h=Math.ceil((n-u+1)/i),p=Math.ceil((r-c+1)/a)}return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}(o,l,f,d,w,_,x,O,I,R,s),P=A.padInfo,D=A.outDepth,M=A.outHeight,j=A.outWidth,L=i?y*h:y;return"channelsFirst"===a?p=[c,L,D,M,j]:"channelsLast"===a&&(p=[c,D,M,j,L]),{batchSize:c,dataFormat:a,inDepth:l,inHeight:f,inWidth:d,inChannels:h,outDepth:D,outHeight:M,outWidth:j,outChannels:L,padInfo:P,strideDepth:w,strideHeight:_,strideWidth:x,filterDepth:v,filterHeight:m,filterWidth:g,effectiveFilterDepth:O,effectiveFilterHeight:I,effectiveFilterWidth:R,dilationDepth:k,dilationHeight:S,dilationWidth:T,inShape:e,outShape:p,filterShape:t}}function qr(e,t,n,r){void 0===r&&(r=1);var o=Kr(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function Hr(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Gr(e){return"number"==typeof e?[e,e,e]:e}function Kr(e,t){return t<=1?e:e+(e-1)*(t-1)}function Yr(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function $r(e){var t=Hr(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function Xr(e,t){return $r(e)||$r(t)}function Qr(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function Jr(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=yn(e.shape),o=e.toFloat(),i=n.complex(o,r);return r.dispose(),o.dispose(),i}if(!z(e.dtype,t))return je.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var a=n.real(e);return i=a.cast(t),a.dispose(),i}if("int32"===t)return n.int(e);if("bool"===t){var s=dn(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function Zr(e,t){return je.makeTensorFromDataId(e.dataId,t,e.dtype)}function eo(e,t,n){var r=(t-e)/(n-1),o=ne(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return hn(o,"float32")}Object.freeze({castTensor:Jr,reshapeTensor:Zr,linspaceImpl:eo,upcastType:Oe,axesAreInnerMostDims:$t,combineLocations:Xt,computeOutAndReduceShapes:Qt,expandShapeToKeepDim:Jt,assertAxesAreInnerMostDims:Zt,getAxesPermutation:en,getUndoAxesPermutation:tn,getInnerMostAxes:nn,getBroadcastDims:Lr,getReductionAxes:Fr,assertAndGetBroadcastShape:Br,assertParamsConsistent:rn,computeOutShape:on,computePool2DInfo:Ur,computePool3DInfo:Vr,computeConv2DInfo:zr,computeConv3DInfo:Wr,computeDefaultPad:qr,tupleValuesAreOne:$r,eitherStridesOrDilationsAreOne:Xr,convertConv2DDataFormat:Qr,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:wr});function to(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function no(e,t){return{real:e[2*t],imag:e[2*t+1]}}function ro(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function oo(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function io(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,o=e.length,i=0,a=!1;r<o;){var s=n(t,e[i=r+(o-r>>>1)]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||ao)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function ao(e,t){return e>t?1:e<t?-1:0}function so(e,t,n,r,o){return co(e,t,n,r,o,0).selectedIndices}function uo(e,t,n,r,o,i){var a=co(e,t,n,r,o,i,!0);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function co(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>o})).sort(ho),c=i>0?-.5/i:0,l=[],f=[];l.length<n&&u.length>0;){var d=u.pop(),h=d.score,p=d.boxIndex,v=d.suppressBeginIndex;if(h<o)break;for(var m=!1,g=l.length-1;g>=v;--g){var y=lo(e,p,l[g]);if(y>=r){m=!0;break}if(d.score=d.score*fo(r,c,y),d.score<=o)break}d.suppressBeginIndex=l.length,m||(d.score===h?(l.push(p),f.push(d.score)):d.score>o&&io(u,d,ho))}var b=l.length;return s&&(l.fill(0,b),f.fill(0,b)),{selectedIndices:hn(l,"int32"),selectedScores:hn(f,"float32"),numValidOutputs:dn(b,"int32")}}function lo(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),f=Math.max(o[0],o[2]),d=Math.max(o[1],o[3]),h=(s-i)*(u-a),p=(f-c)*(d-l);if(h<=0||p<=0)return 0;var v=Math.max(i,c),m=Math.max(a,l),g=Math.min(s,f),y=Math.min(u,d),b=Math.max(g-v,0)*Math.max(y-m,0);return b/(h+p-b)}function fo(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function ho(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function po(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map((function(t){o[n]=t;var i=e.slice(r,o);return r[n]+=t,i}))}function vo(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=Vn(n,e.dtype);for(r=0;r<o.values.length;++r){for(var i=o.indexToLoc(r),a=new Array(e.rank),s=0;s<a.length;s++)a[s]=i[s]%e.shape[s];var u=e.locToIndex(a);o.values[r]=e.values[u]}return o.toTensor()}function mo(e,t,n,r,o){for(var i=t[t.length-1],a=[e.length/i,i],s=a[0],u=a[1],c=F(n,s*r),l=F("int32",s*r),f=0;f<s;f++){for(var d=f*u,h=e.subarray(d,d+u),p=[],v=0;v<h.length;v++)p.push({value:h[v],index:v});p.sort((function(e,t){return t.value-e.value}));var m=f*r,g=c.subarray(m,m+r),y=l.subarray(m,m+r);for(v=0;v<r;v++)g[v]=p[v].value,y[v]=p[v].index}var b=t.slice();return b[b.length-1]=r,[ln(c,b,n),ln(l,b,"int32")]}function go(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=Vn(e,"int32"),i=Vn([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=o.indexToLoc(n[r]),s=r*e.length;i.values.set(a,s)}return i.toTensor()}var yo=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},bo=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},wo=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function _o(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function xo(e,t){return 1===t?[e]:_o(e,t)}function Eo(){var e,t,n,r,o,i,a,s,u,c;return 2===f().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function Co(e,t,n){void 0===n&&(n="index");var r=J(t);return r.map((function(t,o){return"int "+e[o]+" = "+n+" / "+t+"; "+(o===r.length-1?"int "+e[o+1]+" = "+n+" - "+e[o]+" * "+t:"index -= "+e[o]+" * "+t)+";"})).join("")}function ko(e){var t=J(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var So="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function To(e,t,n,r){var o=[];e.forEach((function(e){var t=O(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?o.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(o.push("uniform sampler2D "+e.name+";"),o.push("uniform int offset"+e.name+";"))}));var i,a,s=o.join("\n"),u=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?Io(e):Oo(e);var o=e.shapeInfo.logicalShape,i=t.logicalShape;return o.length<=i.length&&(r+=n?function(e,t){var n,r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),i="get"+o+"AtOutCoords",a=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=Lr(e.shapeInfo.logicalShape,t.logicalShape),c=jo(s),l=s-a,f=["x","y","z","w","u","v"];n=0===a?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords."+f[e+l]+" = 0;"})).join("\n");var d;d=s<2&&a>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+l]})).join(", ");var h="return outputValue;",p=1===O(e.shapeInfo.logicalShape),v=1===O(t.logicalShape);if(1!==a||p||v){if(p&&!v)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var m=a-2,g=a-1;u.indexOf(m)>-1&&u.indexOf(g)>-1?h="return vec4(outputValue.x);":u.indexOf(m)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(g)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+i+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+o+"("+d+");\n      "+h+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&I(a,i))return"\n      float "+o+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var c,l=jo(u),f=Lr(e.shapeInfo.logicalShape,t.logicalShape),d=u-s,h=["x","y","z","w","u","v"];c=0===s?"":u<2&&f.length>=1?"coords = 0;":f.map((function(e){return"coords."+h[e+d]+" = 0;"})).join("\n");var p;return p=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+h[t+d]})).join(", "),"\n    float "+o+"() {\n      "+l+" coords = getOutputCoords();\n      "+c+"\n      return get"+r+"("+p+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),c=t.texShape,l=Eo(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(l),d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+No+"\n    "+Ro+"\n    "+Ao+"\n  "}(l);return t.isPacked?(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(I(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=(i=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+o[0]+", "+o[1]+"));\n      int index = resTexRC.x * "+o[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+i+");\n      int c = imod(index, "+i+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2),i=o,a="",s="b, r, c",u=2;u<e.length-1;u++)a="\n      int b"+u+" = index / "+(i*=e[e.length-u-1])+";\n      index -= b"+u+" * "+i+";\n    "+a,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+a+"\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,o,i,a}(t.logicalShape,c),a=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(l)):(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return I(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=Co(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=Co(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=Co(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=Co(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,c),a=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(l)),r&&(d+=Po),[d,f,a,s,i,u,n].join("\n")}function Oo(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===o&&1===i)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+a[0]+", "+a[1]+", "+Do(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+Mo(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===i&&1===o)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=Do(t);return 1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+a+") + 0.5) / "+o+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+a+") + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+o+", "+i+", index + "+a+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape;if(null!=o&&I(t,o)){var i=o[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+o[1]+".0, "+i+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var a=L(t),s=a.newShape,u=a.keptDims,c=s;if(c.length<t.length)return"\n      "+Oo(Lo(e,c))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+Fo(["row","col"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+Mo(e)+"\n      }\n    ";var l=o[0],f=o[1],d=Do(n);return 1===f?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+l+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===l?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+f+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+d+";\n    vec2 uv = uvFromFlat("+l+", "+f+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[1]*t[2],i=t[2],a=L(t),s=a.newShape,u=a.keptDims,c=s;if(c.length<t.length)return"\n        "+Oo(Lo(e,c))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+Fo(["row","col","depth"],u)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+o+", "+i+", 1)));\n        "+Mo(e)+"\n      }\n    ";var l=e.shapeInfo.texShape,f=l[0],d=l[1],h=e.shapeInfo.flatOffset;return d===o&&null==h?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+i+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+d+".0, "+f+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":d===i&&null==h?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+d+".0, "+f+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+o+" + col * "+i+" + depth + "+Do(n)+";\n        vec2 uv = uvFromFlat("+f+", "+d+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[3],i=t[2]*o,a=t[1]*i,s=L(t),u=s.newShape,c=s.keptDims;if(u.length<t.length)return"\n      "+Oo(Lo(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+Fo(["row","col","depth","depth2"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+a+", "+i+", "+o+", 1)));\n        "+Mo(e)+"\n      }\n    ";var l=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1];return h===a&&null==l?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===o&&null==l?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+a+" + col * "+i+" +\n          depth * "+o+" + depth2;\n      vec2 uv = uvFromFlat("+d+", "+h+", index + "+Do(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,a=t[2]*i,s=t[1]*a,u=L(t),c=u.newShape,l=u.keptDims;if(c.length<t.length)return"\n      "+Oo(Lo(e,c))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+Fo(["row","col","depth","depth2","depth3"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+a+", "+i+", "+o+")) +\n          depth3;\n        "+Mo(e)+"\n      }\n    ";var f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];return p===s&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+a+", "+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===o&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+a+" + depth * "+i+" +\n          depth2 * "+o+" + depth3 + "+Do(n)+";\n      vec2 uv = uvFromFlat("+h+", "+p+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=L(t),i=o.newShape,a=o.keptDims;if(i.length<t.length)return"\n      "+Oo(Lo(e,i))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+Fo(["row","col","depth","depth2","depth3","depth4"],a)+");\n      }\n    ";var s=t[5],u=t[4]*s,c=t[3]*u,l=t[2]*c,f=t[1]*l;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+f+", "+l+", "+c+", "+u+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+Mo(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,p=h[0],v=h[1];return v===f&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+l+", "+c+", "+u+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":v===s&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+f+" + col * "+l+" + depth * "+c+" +\n          depth2 * "+u+" + depth3 * "+s+" + depth4 + "+Do(n)+";\n      vec2 uv = uvFromFlat("+p+", "+v+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function Io(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+Eo().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=Eo();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return "+i.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1],s=Eo();if(null!=o&&I(t,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+i+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===t[0])return"\n        "+Io(Lo(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+Fo(["b","row","col"],[1,2])+");\n        }\n      ";var a=i[0],s=i[1],u=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+a+", "+s+", "+u*Math.ceil(t[1]/2)+", "+u+", b, row, col);\n      return "+Eo().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],s=a[0],u=a[1],c=Math.ceil(t[n-1]/2),l=c*Math.ceil(t[n-2]/2),f="int b, int row, int col",d="b * "+l+" + (row / 2) * "+c+" + (col / 2)",h=2;h<n-1;h++)f="int b"+h+", "+f,d="b"+h+" * "+(l*=t[n-h-1])+" + "+d;return"\n    vec4 "+o+"("+f+") {\n      int index = "+d+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+Eo().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var No="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ro="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ao="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Po="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Do(e){return"offset"+e}function Mo(e){var t=e.name,n=O(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function jo(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Lo(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Fo(e,t){return t.map((function(t){return e[t]})).join(", ")}var Bo=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,C(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var a,s,u=this.outputShape,c=u.length,l=jo(c),f=xo("coords",c);if(1===i){var d=jo(s=c+1);a="\n        "+d+" sourceLocR = "+d+"("+f.join()+", 0);\n        ++"+f[c-1]+";\n        "+d+" sourceLocG = "+d+"("+f.join()+", 0);\n        ++"+f[c-2]+";\n        "+d+" sourceLocA = "+d+"("+f.join()+", 0);\n        --"+f[c-1]+";\n        "+d+" sourceLocB = "+d+"("+f.join()+", 0);\n        --"+f[c-2]+";"}else s=c,a="\n        "+l+" sourceLocR = coords;\n        ++"+f[c-1]+";\n        "+l+" sourceLocG = coords;\n        ++"+f[c-2]+";\n        "+l+" sourceLocA = coords;\n        --"+f[c-1]+";\n        "+l+" sourceLocB = coords;\n        --"+f[c-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),p="."+h[s-1],v=h.map((function(e){return"int "+e})),m=xo("sourceLocR",s-1).concat("inIdx.r"),g=xo("sourceLocG",s-1).concat("inIdx.g"),y=xo("sourceLocB",s-1).concat("inIdx.b"),b=xo("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",_=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",x="vec4(\n            getAChannel("+m.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",E=r?"":"\n      float getBestIndicesAChannel("+v.join()+") {\n        return getChannel(getBestIndicesA("+h.join()+"),\n                                          vec2("+h.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+v.join()+") {\n        return getChannel(getA("+h.join()+"),\n                               vec2("+h.slice(-2).join()+"));\n      }\n      "+E+"\n      void main() {\n        "+l+" coords = getOutputCoords();\n        bool hasNextCol = "+f[c-1]+" < "+(u[c-1]-1)+";\n        bool hasNextRow = "+f[c-2]+" < "+(u[c-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+x+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+_+"\n          vec4 candidate = "+x+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Uo=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.top,l=u-1-e.padInfo.left,f=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+l+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+i+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Vo=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=l-1-e.padInfo.front,p=f-1-e.padInfo.top,v=d-1-e.padInfo.left,m=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+h+", "+p+", "+v+");\n      const float avgMultiplier = float("+m+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+o+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},zo=function(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Br(e,t),Br(e,n);var a="0.0";null!=r&&(Br(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=o&&(Br(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Wo=function(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Br(e,t),Br(e,n);var a="vec4(0.0)";null!=r&&(Br(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(Br(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+i+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},qo=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Br(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Ho="return a + b;",Go="return a - b;",Ko="return a * b;",Yo="return (a < 0.) ? b * a : a;",$o=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Br(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Xo="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Qo=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Br(t,n);var o=this.outputShape.length,i="";if(r)if(0===o||1===O(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(i="\n          "+jo(o)+" coords = getOutputCoords();\n        ",1===o)i+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=xo("coords",o);i+="\n            bool nextRowOutOfBounds =\n              ("+a[o-2]+" + 1) >= "+this.outputShape[o-2]+";\n            bool nextColOutOfBounds =\n              ("+a[o-1]+" + 1) >= "+this.outputShape[o-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+i+"\n\n        setOutput(result);\n      }\n    "},Jo=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Zo=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),ei=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},ti=function(e){this.outputShape=[],this.outputShape=on(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var i=t.length,a=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},ni=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=on(e,t);var n=this.outputShape,r=n.length,o=jo(r),i=xo("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var c=a[t],l=a.slice(-2),f=a.join(),d="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+l.join()+"));\n        }";for(u=1;u<s.length;u++){var h=s[u-1];d+="\n        if ("+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+ri(a,c,h)+"),\n            vec2("+ri(l,c,h)+"));\n        }"}var p=s.length,v=s[s.length-1];d+="\n        return getChannel(\n          getT"+p+"("+ri(a,c,v)+"),\n          vec2("+ri(l,c,v)+"));",this.userCode="\n      float getValue("+a.map((function(e){return"int "+e}))+") {\n        "+d+"\n      }\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+i+"), 0., 0., 0.);\n\n        "+i[r-1]+" = "+i[r-1]+" + 1;\n        if ("+i[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+i+");\n        }\n\n        "+i[r-2]+" = "+i[r-2]+" + 1;\n        if ("+i[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+i+");\n        }\n\n        "+i[r-1]+" = "+i[r-1]+" - 1;\n        if ("+i[r-2]+" < "+n[r-2]+" &&\n            "+i[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+i+");\n        }\n        setOutput(result);\n      }\n    "};function ri(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var oi=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+i+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ii=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=i?1:2,c=i?2:3,l=i?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+l+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+i+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ai=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+o+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+i+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},si=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+o+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ui=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ci=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},li=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,i=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterHeight,f=e.filterWidth,d=4*Math.floor(e.inChannels/4),h=e.inChannels%4,p="channelsLast"===e.dataFormat,v=p?1:2,m=p?2:3,g=p?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+v+"], coords["+m+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===h)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===h)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===h)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+b+"\n        setOutput(result);\n      }\n    "},fi=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterDepth,f=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+l+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===p)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+h+") *\n                  getW(wF, wR, wC, "+h+", d2);\n              } else if ("+(2===p)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===p)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1),\n                  getX(batch, xF, xR, xC, "+h+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2),\n                  getW(wF, wR, wC, "+h+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},di=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=e.outChannels/e.inChannels,v="",m="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",m="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+o+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+i+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+m+"\n        setOutput(result);\n      }\n    "},hi=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=h,v="int xR; int xC; int xCOffset;",m=0;m<d;m++)for(var g=0;g<h;g++)v+="\n          vec4 xTexelR"+m+"C"+2*g+" = vec4(0.);\n          vec4 wR"+m+"C"+g+" = vec4(0.);\n          vec4 xR"+m+"C"+g+" = vec4(0.);";for(m=0;m<d;m++)for(var y=0;y<p;y++){if(v+="\n          xR = xRCorner + "+m*l+";\n          xC = xCCorner + "+(g=2*y)*f+";\n        ",1===c){if(g<h&&(v+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    xTexelR"+m+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+m+"C"+g+" = vec4(previous.zw, xTexelR"+m+"C"+g+".xy);\n                } else {\n                  xR"+m+"C"+g+" = vec4(0, 0, xTexelR"+m+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+o+" && xC >= 0 && xC < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = xTexelR"+m+"C"+g+";\n              ",g+1<h)){var b=s%2==0?x(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(v+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(v+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+o+" &&\n                      xCOffset >= 0 && xCOffset < "+i+") {\n                      xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+m+"C"+g+" = vec4(0.);\n                    }\n                  "),v+="\n                  xR"+m+"C"+(g+1)+" = vec4(\n                    xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".xy);\n                "):v+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+m+"C"+(g+1)+" = xTexelR"+m+"C"+(g+2)+";\n                "}}else g<h&&(v+="\n              if(xR >= 0 && xR < "+o+") {\n            ",s%2==1?(v+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+i+") {\n                  xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+m+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = vec4(\n                  xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".zw);\n              ",g+1<h&&(v+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+i+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+m+"C"+(g+1)+" = vec4(xTexelR"+m+"C"+(g+2)+".xy, final.xy);\n                ")):(v+="\n                if(xC >= 0 && xC < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = vec4(\n                  xTexelR"+m+"C"+g+".xy, xTexelR"+m+"C"+(g+2)+".xy);\n              ",g+1<h&&(v+="\n                  xR"+m+"C"+(g+1)+" = vec4(\n                    xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".zw);\n                ")),v+="}");g<h&&(v+="\n            vec4 wTexelR"+m+"C"+g+" = getW("+m+", "+g+", d1, q);\n            wR"+m+"C"+g+" = vec4(wTexelR"+m+"C"+g+".xz, wTexelR"+m+"C"+g+".xz);\n          ",g+1<h&&(v+="\n              vec4 wTexelR"+m+"C"+(g+1)+" = getW("+m+", "+(g+1)+", d1, q);\n              wR"+m+"C"+(g+1)+" =\n                vec4(wTexelR"+m+"C"+(g+1)+".xz, wTexelR"+m+"C"+(g+1)+".xz);"))}for(m=0;m<d;m++)for(g=0;g<h;g++)v+="dotProd += xR"+m+"C"+g+" * wR"+m+"C"+g+";";var w="",_="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",_="result = activation(result);");var E=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+v+"\n\n        vec4 result = dotProd;\n        "+E+"\n        "+_+"\n        setOutput(result);\n      }\n    "},pi=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],s=e[2],u=e[3],c=t[0],l=n[0],f=n[1];this.outputShape=[c,l,f,u];var d="bilinear"===r?1:0,h=[a-1+".0",s-1+".0"],p=h[0],v=h[1],m=l>1?[""+(a-1)/(l-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],g=m[0],y=m[1],b=m[2],w=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+v+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+v],_=w[0],x=w[1],E=w[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+_+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+i+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+x+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+E+";\n        if( in_x < 0.0 || in_x > "+v+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},vi=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],i=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+jo(r)+" coords = getOutputCoords();\n        int end = "+mi(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+i+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+mi(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function mi(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var gi=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Be.DENSE;var t=Ke(e),n=Eo();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Co(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},yi=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Be.DENSE;var t=Ke(e),n=Eo();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Co(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},bi=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),wi=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},_i=function(e){this.variableNames=["A"],this.outTexUsage=Ue.DOWNLOAD;var t=Eo();this.outputShape=e,this.userCode="\n      "+So+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},xi=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ue.DOWNLOAD;var t=Eo();this.outputShape=e,this.userCode="\n      "+So+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},Ei=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Eo(),o=t[0],i=t[1];this.outputShape=e;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+ko(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+i+";\n        int c = imod(flatIndex, "+i+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},Ci=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Eo(),o=t[0],i=t[1];this.outputShape=e;var a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var l=2*u+c;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+e[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+i+";\n              c = imod(flatIndex, "+i+");\n              uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+ko(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},ki=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+i+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Si=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),Ti=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=jo(this.rank),i=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],i=0;i<e.length;i++)i===t?o.push("int(getIndices("+r[i]+"))"):o.push(""+r[i]);return o.join()}(e,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},Oi=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=jo(t.length),o=jo(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+i+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Ii(e,t){var n=Eo();return et(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Ni(e,t){return ut(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Ri(e,t){return ct(e,t,new Uint16Array([0,1,2,2,1,3]))}function Ai(e,t,n,r,o,i,a){ft(n,r);var s=lt(e,t),u=e.TEXTURE_2D;return Xe(e,t,(function(){return e.bindTexture(u,s)})),Xe(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Xe(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Xe(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Xe(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),Xe(e,t,(function(){return e.texImage2D(u,0,o,n,r,0,i,a,null)})),Xe(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function Pi(e,t,n,r,o){var i=Ge(n,r);return Ai(e,t,i[0],i[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function Di(e,t,n,r,o){var i=Ge(n,r);return Ai(e,t,i[0],i[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function Mi(e,t,n,r,o){var i=Ge(n,r);return Ai(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function ji(e,t,n,r,o){var i=Ye(n,r);return Ai(e,t,i[0],i[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Li(e,t,n,r,o){var i=Ye(n,r);return Ai(e,t,i[0],i[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function Fi(e,t,n,r){return Xe(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),ht(e,t,n,"clipSpacePos",r,3,20,0)&&ht(e,t,n,"uv",r,2,20,12)}function Bi(e,t,n,r,o,i,a){var s,u,c;Xe(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),i instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*o*4),u=e.FLOAT,c=a.internalFormatPackedFloat),s.set(i),Xe(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,r,o,0,e.RGBA,u,s)})),Xe(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Ui(e,t,n,r){Xe(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?Xe(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):Xe(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),Xe(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Vi(e,t,n,r,o){var i=e.createBuffer();Xe(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*n*r;return Xe(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),Xe(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),Xe(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function zi(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function Wi(e,t,n,r,o){var i=Ge(n,r),a=i[0],s=i[1],u=new Uint8Array(n*r*4);return Xe(e,t,(function(){return e.readPixels(0,0,a,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function qi(e,t,n,r,o,i,a,s){var u=e,c=new Float32Array(function(e,t){var n=Ye(e,t);return n[0]*n[1]*4}(i,a));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function Hi(e,t,n,r){var o=new Float32Array(n*r*4);return Xe(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)})),o}var Gi=Object.freeze({createVertexShader:Ii,createVertexBuffer:Ni,createIndexBuffer:Ri,createFloat32MatrixTexture:Pi,createFloat16MatrixTexture:Di,createUnsignedBytesMatrixTexture:Mi,createPackedMatrixTexture:ji,createFloat16PackedMatrixTexture:Li,bindVertexProgramAttributeStreams:Fi,uploadDenseMatrixToTexture:Bi,uploadPixelDataToTexture:Ui,createBufferFromOutputTexture:Vi,downloadFloat32MatrixFromBuffer:zi,downloadByteEncodedFloatMatrixFromOutputTexture:Wi,downloadPackedMatrixFromBuffer:qi,downloadMatrixFromPackedOutputTexture:Hi}),Ki=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=f().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,qe(t,e)):this.gl=He(t);var n="WEBGL_color_buffer_float";if(1===f().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=Ze(this.gl,this.debug,"OES_texture_float"),Pt(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=Ze(this.gl,this.debug,"OES_texture_half_float");else if(f().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Pt(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=Ze(this.gl,this.debug,"EXT_color_buffer_half_float");else if(f().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Pt(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Pt(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Ni(this.gl,this.debug),this.indexBuffer=Ri(this.gl,this.debug),this.framebuffer=dt(this.gl,this.debug),this.textureConfig=$e(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return f().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Xe(t,this.debug,(function(){return t.finish()})),Xe(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Xe(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),Xe(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),Xe(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),Xe(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),Pi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),Di(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Mi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Ui(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Bi(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Li(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),ji(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(bt(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Xe(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Wi(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,o,i){return qi(this.gl,e,0,0,0,o,i,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return zi(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Vi(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(f().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(i,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=i}else f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Hi(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=tt(t,this.debug,e),r=Ii(t,this.debug),o=it(t,this.debug);return Xe(t,this.debug,(function(){return t.attachShader(o,r)})),Xe(t,this.debug,(function(){return t.attachShader(o,n)})),at(t,this.debug,o),this.debug&&st(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=Fi(t,this.debug,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Xe(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&st(this.gl,this.debug,this.program),Xe(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?vt(this.gl,this.debug,e,t):mt(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),Xe(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),gt(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Ye(t,n),o=r[0],i=r[1];this.setOutputMatrixTextureDriver(e,o,i)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&st(this.gl,this.debug,this.program),wt(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Xe(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Xe(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ze(this.gl,this.debug,2===f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2!==f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){switch(n.label){case 0:return[4,D((function(){return t.disposed||t.isQueryAvailable(e,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||D((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),yt(this.gl,this.debug,e,this.framebuffer),this.debug&&wt(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(yt(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&wt(this.gl)):bt(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;yt(r,this.debug,e,this.framebuffer),this.debug&&wt(r),this.outputTexture=e,Xe(r,this.debug,(function(){return r.viewport(0,0,t,n)})),Xe(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),Xe(this.gl,this.debug,(function(){return o.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function Yi(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,o=t[n],i=o.shape;if(!I(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!e.isUniform||!o.isUniform){var a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!I(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}}))}var $i=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,i=n.strideWidth,a=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,l=n.dilationHeight,f=n.dataFormat,d=s.left,h=s.top,p=o*r,v=Eo(),m="channelsLast"===f,g=m?0:1,y=m?1:2,b="",w=0;w<=1;w++)for(var _=0;_<=1;_++)b+="\n          blockIndex = rc.y + "+_+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+a+" - "+h+";\n            d0 = offsetY + "+l+" * (pos / "+p+");\n\n            if(d0 < "+t[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+i+". - "+d+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+p+".) / "+o+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+o+".));\n\n                if ("+m+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+_)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+_)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+v.output+" = result;\n      }\n    "},Xi=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+i+";\n        setOutput(val);\n      }\n    "},Qi=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Ji=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+i+";\n        setOutput(result);\n      }\n    "},Zi=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,u=o*i-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+i+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+i+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ea=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=s-1-e.padInfo.front,f=u-1-e.padInfo.top,d=c-1-e.padInfo.left,h=s*u*c-1;this.userCode="\n      const ivec3 pads = ivec3("+l+", "+f+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+o+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+i+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+h+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ta=function(e,t,n,r,o,i,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=null),void 0===a&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",p="";i&&(h=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+i+"\n        }":"vec4 activation(vec4 x) {\n          "+i+"\n        }",p="result = activation(result);");var v=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+h+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+d[0]+");\n          result += ("+f[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+v+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},na=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),ra=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},oa=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=xo("rc",t),r=jo(t),o=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",o=e-2;o<e;o++)r+=n[o]+" >= "+t[o],o<e-1&&(r+="||");return r}(t,e,n),i=function(e,t,n,r){if(1===e)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),a=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var i=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),a=2;a<e;a++)i=t[t.length-1-a]+","+i;n.push(i)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+o+") {\n            setOutput(vec4(0));\n          } else {\n            "+i+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},ia=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,o=jo(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+i+");\n      "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+i+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},aa=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,o=jo(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=xo("rc",r),u=xo("source",r),c=s[r-1]+" < "+this.outputShape[r-1],l=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[o+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",p=0,v=1===r?2:4;p<v;p++)h+="\n        "+f[p]+"\n        if ("+d+") {\n          result["+p+"] = float("+n+");\n        } else {\n          "+o+" source = rc - start;\n          result["+p+"] = getChannel(getX("+u.join()+"), "+l+");\n        }\n      ";h+=1===r?"} ":"}}",this.userCode="\n      const "+o+" start = "+o+"("+i+");\n      const "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+h+"\n        setOutput(result);\n      }\n    "},sa=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var d="avg"===t,h="0.0";if(d||(h="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+i+");\n        const ivec2 pads = ivec2("+l+", "+f+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+c+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var p=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(p="avgValue / count");var v=4*Math.floor(r/4),m=r%4,g="\n      if ("+d+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+l+", "+f+");\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+h+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+v+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+v+";\n          if ("+(1===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}},ua=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,p=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;var m="avg"===t,g="0.0";if(m||(g="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+i+", "+a+");\n        const ivec3 pads = ivec3("+h+", "+p+", "+v+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+l+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+f+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+d+";\n                  wC += "+c+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+f+" * "+d+" +\n                      wR * "+d+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),w=r%4,_="\n      if ("+m+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+h+", "+p+", "+v+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+c+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+c+", ch)\n              );\n\n              "+_+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+_+"\n            } else if ("+(2===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+_+"\n            } else if ("+(3===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                initializationValue\n              );\n\n              "+_+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},ca=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=Math.ceil(o/n);this.outputShape=[r,i];var a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var c=4*Math.floor(n/4),l=n%4,f="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(a="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var h="";o%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},la=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Co(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+ko(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},fa=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],c=[n&&s>1?o-1:o,n&&u>1?i-1:i],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],h=1/f,p=1/d,v=2*Math.ceil(h)+2,m=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+m+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(i-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},da=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ha=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+",\n          "+u[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+i+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},pa=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],c=[n&&s>1?o-1:o,n&&u>1?i-1:i],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],h=1/f,p=1/d,v=2*Math.ceil(h)+2,m=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+m+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+l[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+l[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},va=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},ma=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),o=jo(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},ga=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=xo("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],a=jo(n);function s(n){var r=e.map((function(r,o){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(o,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+o+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+o+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+i+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+o+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},ya=function(e,t,n,r,o,i,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=jo(o.length),u=jo(i.length),c="";1===n?c="i":2===n&&(c="i, j");var l="getIndices("+c+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var d="getUpdates("+f+")",h=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+l+");\n              flattenedIndex += index * "+h+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},ba=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,c="\n        sumValue += dot(values, segFilter);\n    ",l="";o%n>0&&(l="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var f="";o%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+l+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+i+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+i+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},wa=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<t.length;u++)s.push(""+i[u]),u<e&&a.push(""+i[u]);r=a.join(),o=s.join()}var c=jo(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},_a=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=jo(this.rank),r="uniform int start["+this.rank+"];",o=function(e){if(1===e)return"sourceLoc";if(e<=6)return xa.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+xa[t]+" = start["+t+"] + coords."+xa[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),xa=["x","y","z","w","u","v"],Ea=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=jo(this.rank),n=xo("coords",this.rank),r=xo("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",i="getChannel(getSource("+r.join()+"), "+o+")",a="\n      result.x = "+i+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+i+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+i+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+i+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+a+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Ca=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=jo(n.length),i=jo(n.length),a="";if(1===r)a="coords * strides + begin";else{var s=0;a=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+o+" begin = "+o+"("+e+");\n      "+o+" strides = "+o+"("+t+");\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},ka=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,o=Sa(t,n),i=Ta(e,o,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[i].shift();return this.usedTextures[i].push(a),a}return this.numUsedTextures++,this.log(),o===Ve.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===Ve.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===Ve.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===Ve.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===Ve.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var o=Ta(t,Sa(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],a=i.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(a,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function Sa(e,t){if(e===Ue.UPLOAD)return Ve.PACKED_2X2_FLOAT32;if(e===Ue.RENDER||null==e)return function(e){return f().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Ve.PACKED_2X2_FLOAT32:Ve.UNPACKED_FLOAT32:e?Ve.PACKED_2X2_FLOAT16:Ve.UNPACKED_FLOAT16}(t);if(e===Ue.DOWNLOAD||e===Ue.PIXELS)return Ve.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function Ta(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var Oa=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=jo(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},Ia=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=jo(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    "},Na=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=jo(this.rank),i=_o("rc",this.rank),a=new Array(this.rank);for(r=0;r<t.length;r++)a[t[r]]=i[r];var s="vec2("+a.slice(-2).join()+")",u="++"+i[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+o+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+u+") {\n        result[1] = "+c+";\n      }\n      --"+i[this.rank-1]+";\n      if(++"+i[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+u+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Ra=1.7580993408473768,Aa=1.0507009873554805,Pa=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Da="if (isnan(x)) return x;",Ma="return abs(x);",ja=Da+"\n  return (x < 0.0) ? 0.0 : x;\n",La=Da+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Fa="return (x >= 0.0) ? x : (exp(x) - 1.0);",Ba="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Ra+";\n  float scale = "+Aa+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",Ua="return -x;",Va="return ceil(x);",za="return floor(x);",Wa="return exp(x);",qa="return exp(x) - 1.0;",Ha=Da+"\n  return sin(x);\n",Ga=Da+"\n  return cos(x);\n",Ka=Da+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",Ya=Da+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",$a=Da+"\n  return atan(x);\n",Xa=Da+"return log(x + sqrt(x * x + 1.0));",Qa=Da+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",Ja=Da+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Za="return x;",es="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",ts="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",ns="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",rs=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},os=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=xo("rc",t),r=jo(t),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},is={};function as(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?es:ja;if("elu"===e)return t?ns:Fa;if("relu6"===e)return t?ts:La;if("prelu"===e)return t?Xo:Yo;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var ss=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!f().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var o=He(f().getNumber("WEBGL_VERSION"));r.binaryCache=((n=f().getNumber("WEBGL_VERSION"))in is||(is[n]={}),is[n]),r.gpgpu=new Ki(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new ka(r.gpgpu),r.numMBBeforeWarning=null==f().global.screen?1024:f().global.screen.height*f().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Dr(r,je),r}return s(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(f().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Ue.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(f().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Ue.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,o=t.complexTensors,i=t.slice,a=t.shape,s=t.isPacked;if(null!=i){var u;u=s?new rs(a,Za):new Pa(a,Za);var c=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeData(c.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,d,h=null!=this.activeTimers;return h&&(f=re()),d="complex64"===r?to(o.real.dataSync(),o.imag.dataSync()):this.getValuesFromTexture(e),h&&(this.downloadWaitMs+=re()-f),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,l,d,h,p,v,m,g,y,b,w,_,x,E,C;return c(this,(function(c){switch(c.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,o=n.shape,i=n.slice,a=n.dtype,s=n.complexTensors,u=n.isPacked,null!=i)return void 0,l=u?new rs(o,Za):new Pa(o,Za),d=this.runWebGLProgram(l,[{dataId:e,shape:o,dtype:a}],a),h=this.read(d.dataId),this.disposeData(d.dataId),[2,h];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!f().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===f().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,"complex64"!==a&&f().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(e),m=this.texData.get(v.dataId),p=(C=this.gpgpu).createBufferFromTexture.apply(C,[m.texture].concat(Ke(o)))),this.pendingRead.set(e,[]),"complex64"===a?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:c.sent(),c.label=2;case 2:return"complex64"!==a?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return y=c.sent(),b=y[0],w=y[1],g=to(b,w),[3,5];case 4:null==p?g=this.getValuesFromTexture(e):(_=O(o),g=this.gpgpu.downloadFloat32MatrixFromBuffer(p,_)),c.label=5;case 5:return null!=v&&this.disposeData(v.dataId),x=this.convertAndCacheOnCPU(e,g),E=this.pendingRead.get(e),this.pendingRead.delete(e),E.forEach((function(e){return e(x)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,x]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!Qe(n)){if(f().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.isPacked,a=O(r);if(f().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),c=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(Ke(r))).subarray(0,a);return this.disposeData(s.dataId),c}var l=f().getBool("WEBGL_PACK")&&!0===i,d=l?St(r):r,h=l?new xi(d):new _i(d),p=this.runWebGLProgram(h,[{shape:d,dtype:o,dataId:e}],"float32"),v=this.texData.get(p.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,a);return this.disposeData(p.dataId),m},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return c(this,(function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=T(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),i=T(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return s=u.sent(),a.kernelMs=E(s),a.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:i[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:a.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:re(),endMs:null}},t.prototype.endTimer=function(e){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=re(),e)},t.prototype.getQueryTime=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,o=t.texShape,i=t.usage,a=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,i,a)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return f().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=je.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&e.size<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:je.keep(e.clone()),imag:je.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===O(n))return ln([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,o=Ir(e.shape,t,n);if(r||!o){var i=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ea(n):new _a(n),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[e],null,a)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),o=this.makeOutput(n,e.dtype),i=this.texData.get(o.dataId);Object.assign(i,r),i.shape=n,i.dtype=e.dtype;var a=Nr(t,e.strides);r.slice&&(a+=r.slice.flatOffset),i.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(i.slice.origDataId)||1;return this.dataRefCount.set(i.slice.origDataId,s+1),o},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var o=Sr(t,n,r);if(o.some((function(e){return 0===e})))return ln([],o);var i=new Ca(t,r,o);return this.compileAndRun(i,[e])},t.prototype.reverse=function(e,t){var n=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ga(e.shape,t):new ma(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return un(e)})),r=e.map((function(e){return cn(e)}));return sn(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>f().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(e.length/2),i=this.concat(e.slice(0,o),t),a=this.concat(e.slice(o),t);return this.concat([i,a],t)}if(f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new ni(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var u=on(e.map((function(e){return e.shape})),t),c=e.map((function(e){return e.as2D(-1,O(e.shape.slice(t)))})),l=new ti(c.map((function(e){return e.shape})));return this.compileAndRun(l,c).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ua,e.dtype);var t=new Pa(e.shape,Ua);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===o||1===i)&&a>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var u=1===i?e:e.as3D(s,a,1),c=1===i?2:1,l=1===i?t.as3D(s,1,a):t;return this.multiply(u,l).sum(c,!0)}var f=Oe(e.dtype,t.dtype),d=new ta(e.shape,[s,o,i],n,r);return this.compileAndRun(d,[e,t],f)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],c=o?n.shape[1]:n.shape[2],l=t.shape[0],f=Oe(t.dtype,n.dtype),d=null!=i,h=null!=s,p=a?as(a,!0):null,v=new ta(t.shape,[l,u,c],r,o,d,p,h),m=[t,n];return i&&m.push(i),s&&m.push(s),this.compileAndRun(v,m,f)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),o=new qo("return areal * breal - aimag * bimag;",e.shape,t.shape),i=new qo("return areal * bimag + aimag * breal;",e.shape,t.shape),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(o,a),u=this.compileAndRun(i,a),c=this.complex(s,u);return s.dispose(),u.dispose(),c}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Ko,e.dtype);var l=new $o(Ko,e.shape,t.shape);return this.compileAndRun(l,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){var a=[e,t,n],s=null;null!=i&&(s=i.shape,a.push(i));var u=null;if(null!=o&&(u=o.shape,a.push(o)),f().getBool("WEBGL_PACK_NORMALIZATION")){var c=new Wo(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,a)}var l=new zo(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,a)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){var i=f().getBool("WEBGL_PACK_NORMALIZATION")?new Ji(e.shape,t,n,r,o):new Xi(e.shape,t,n,r,o);return this.compileAndRun(i,[e])},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){var s=new Qi(t.shape,r,o,i,a);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return ae(e)}));return vo(Vn(e.shape,e.dtype,n),t)}var r=new Oa(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new aa(e.shape,t,n):new ia(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Na(e.shape,t):new Ia(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new Ti(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){C(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=pr(e.shape,t,r),i=vr(o.length,t.length),a=mr(e.shape,t,r),s=gr(n,t.length),u=yr(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){C(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=pr(a.shape,t,r,!1),u=vr(s.length,t.length,!1),c=mr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(c)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],i=wr(o),a=new ca({windowSize:i,inSize:o,batchSize:r},t),s=this.compileAndRun(a,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var i=wr(o),a=new wo({windowSize:i,inSize:o,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(a,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,o=wr(r[r.length-1]),i=new Bo(r,o,t,null==n),a=null==n?[e]:[e,n],s=this.compileAndRun(i,a,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){Zt("sum",t,e.rank);var n=Qt(e.shape,t),r=n[0],o=O(n[1]),i=e.as2D(-1,o),a=Ie(e.dtype);return this.reduce(i,"sum",a).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=Qt(e.shape,t),r=n[0],o=O(n[1]),i=e.as2D(-1,o),a=Ie(e.dtype);return this.reduce(i,"prod",a).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=en([r],e.rank),i=e;null!=o&&(i=e.transpose(o),r=nn(1,e.rank)[0]);var a=function(e,t,n){for(var r=[],o=e.length,i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}(i.shape,r,n),s=O([i.shape[r]]),u=i.as2D(-1,s),c=Ie(e.dtype),l=this.segOpCompute(u,"unsortedSegmentSum",t,c,n).reshape(a);return null!=o&&(l=l.transpose(tn(o))),l},t.prototype.segOpCompute=function(e,t,n,r,o){var i=e.shape[0],a=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=Q(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Q(e,n+1);return n}(a,o),u=new ba({windowSize:s,inSize:a,batchSize:i,numSegments:o},t),c=this.compileAndRun(u,[e,n],r);return c.shape[1]===o?c:(n=wn(0,o).tile([a/s]),this.segOpCompute(c,t,n,r,o))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(Zt("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!f().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var o=Qt(e.shape,r),i=o[0],a=O(o[1]),s=e.as2D(-1,a);return this.argReduce(s,n).reshape(i)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new vi(e.shape,n,r);return this.compileAndRun(o,[e])},t.prototype.equal=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new $o("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new $o("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new $o("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new $o("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new $o("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new $o("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new Pa(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new $o("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new $o("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new wa(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Oe(t.dtype,n.dtype))},t.prototype.where=function(e){qt("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return go(e.shape,t)},t.prototype.topk=function(e,t,n){return mo(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Zt("min",t,e.rank);var n=Qt(e.shape,t),r=n[0],o=O(n[1]),i=e.as2D(-1,o);return this.reduce(i,"min",i.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new $o("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new $o("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);Zt("max",t,e.rank);var n=Qt(e.shape,t),r=n[0],o=O(n[1]),i=e.as2D(-1,o);return this.reduce(i,"max",i.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new $o("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){Zt("all",t,e.rank);var n=Qt(e.shape,t),r=n[0],o=O(n[1]),i=e.as2D(-1,o);return this.reduce(i,"all",i.dtype).reshape(r)},t.prototype.any=function(e,t){Zt("any",t,e.rank);var n=Qt(e.shape,t),r=n[0],o=O(n[1]),i=e.as2D(-1,o);return this.reduce(i,"any",i.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new $o("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new $o("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Ho);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=Oe(e.dtype,t.dtype);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Ho,n);var r=new $o(Ho,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new rs(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,o){void 0===o&&(o=!1);var i=new Qo(n,e.shape,t.shape,o);return this.compileAndRun(i,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,o=this.texData.get(e.dataId),i=this.texData.get(t.dataId),a=[[o.complexTensors.real,i.complexTensors.real],[o.complexTensors.imag,i.complexTensors.imag]].map((function(o){var i=o[0],a=o[1],s=r.makeComplexComponentTensorInfo(e,i),u=r.makeComplexComponentTensorInfo(t,a),c=new $o(n,e.shape,t.shape);return r.compileAndRun(c,[s,u],Oe(i.dtype,a.dtype))})),s=a[0],u=a[1],c=this.complex(s,u);return s.dispose(),u.dispose(),c},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>f().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var o=e.map((function(e){return e.dtype})).reduce((function(e,t){return Oe(e,t)})),i=e.map((function(e){return e.shape})),a=f().getBool("WEBGL_PACK")?new bo(e[0].shape,i):new yo(e[0].shape,i);return this.compileAndRun(a,e,o)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Go);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=Oe(e.dtype,t.dtype);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Go,e.dtype);var r=new $o(Go,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new $o("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=Oe(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Va,e.dtype);var t=new Pa(e.shape,Va);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,za,e.dtype);var t=new Pa(e.shape,za);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new Pa(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new Pa(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new Pa(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new Pa(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new Pa(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Wa,e.dtype);var t=new Pa(e.shape,Wa);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,qa,e.dtype);var t=new Pa(e.shape,qa);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=j([t],e.shape),r=this.max(e,n),o=Jt(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new Pa(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new Pa(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new Pa(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new Pa(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new Pa(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=f().getBool("WEBGL_PACK")?new rs(e.shape,es):new Pa(e.shape,ja),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=f().getBool("WEBGL_PACK")?new rs(e.shape,ts):new Pa(e.shape,La),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo(Xo,e.shape,t.shape):new $o(Yo,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ns,e.dtype);var t=new Pa(e.shape,Fa);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new $o("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new Pa(e.shape,Ba);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new Pa(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,o=(r=f().getBool("WEBGL_PACK_CLIP")?new Zo(e.shape):new Jo(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,o)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ma,e.dtype);var t=new Pa(e.shape,Ma);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new ei(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new Pa(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new Pa(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new Pa(e.shape,Ha);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new Pa(e.shape,Ga);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new Pa(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new Pa(e.shape,Ka);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new Pa(e.shape,Ya);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new Pa(e.shape,$a);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new $o("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new Pa(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new Pa(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new Pa(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new Pa(e.shape,Xa);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new Pa(e.shape,Qa);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new Pa(e.shape,Ja);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new Pa(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new Pa(e.shape,function(e){return void 0===e&&(e=0),Da+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,o,i){var a=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,c=a[0]*a[1]*a[2],l=n.outChannels,d="channelsLast"===n.dataFormat,h=(1===c||1===l)&&u>1e3,p=a[2]%2!=0&&!!s.isPacked;if(h||!f().getBool("WEBGL_LAZILY_UNPACK")||!f().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var v=d?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],m=this.reshape(e,[1,v,n.inChannels]),g=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:g,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),n.outShape)}var y=d?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),b={dataId:e.dataId,shape:[1,y,n.inChannels],dtype:e.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,C(It(s.shape,b.shape),(function(){return"packed reshape "+s.shape+" to "+b.shape+" isn't free"}));var _=this.reshape(t,[1,n.inChannels,n.outChannels]),x=this.fusedBatchMatMul({a:b,b:_,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),E=this.texData.get(x.dataId);return C(E.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=w,E.shape=n.outShape,je.makeTensorFromDataId(x.dataId,n.outShape,x.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,o,i){var a=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,f="channelsLast"===n.dataFormat,d=a*s*u,h=l*c,p=[d,h],v=e.squeeze([0]),m=t.reshape([1,d,-1]),g=new $i(p,v.shape,n),y=this.compileAndRun(g,[v]).reshape([1,p[0],p[1]]),b=null!=r,w=null!=i,_=o?as(o,!0):null,x=new ta(y.shape,[1,h,n.outChannels],!0,!1,b,_,w),E=[y,m];r&&E.push(r),w&&E.push(i);var C=this.compileAndRun(x,E);return f?C.reshape([1,l,c,n.outChannels]):C.reshape([1,n.outChannels,l,c])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,o,i,a);if(f().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,o,i,a);var s=null!=o,u=null!=a,c=i?as(i,!1):null,l=new li(r,s,c,u),d=[t,n];return o&&d.push(o),a&&d.push(a),this.compileAndRun(l,d)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(f().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new li(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new ii(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new oi(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,o=e.convInfo,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=f().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,c=a?as(a,u):null,l=[n,r],d=null!=i,h=null!=s;return d&&l.push(i),h&&l.push(s),u?(t=new hi(o,d,c,h),this.compileAndRun(t,l)):(t=new di(o,d,c,h),this.compileAndRun(t,l))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return f().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new hi(n),this.compileAndRun(r,[e,t])):(r=new di(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new ci(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new ui(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new fi(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new si(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new ai(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new sa(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new sa(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var o=new sa(r,"max",!0),i=this.compileAndRun(o,[t]),a=new Zi(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new Uo(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return Jr(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new ua(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new Vo(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new ua(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var o=new ua(r,"max",!0),i=this.compileAndRun(o,[t]),a=new ea(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!It(e.shape,t)&&(null===n.texture||!It(n.shape,t))){var r=this.packedReshape(e,t);return je.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return Zr(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var o=f().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ha(e.shape,t,n,r):new da(e.shape,t,n,r);return this.compileAndRun(o,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new fa(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new va(e.shape,t,n,r);return this.compileAndRun(o,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new pa(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var o=t?e:Ar(e),i=o.shape[0],a=o.shape[1],s=new na(i,a,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var o=new ra(e.size,t,n,r);return this.compileAndRun(o,[e])},t.prototype.diag=function(e){var t=new wi(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return qt("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),so(e.dataSync(),t.dataSync(),n,r,o)},t.prototype.cropAndResize=function(e,t,n,r,o,i){var a=new pi(e.shape,t.shape,r,o,i);return this.compileAndRun(a,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){C(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],o="NHWC"===n?e.shape[1]:e.shape[2],i="NHWC"===n?e.shape[2]:e.shape[3],a="NHWC"===n?e.shape[3]:e.shape[1],s=o*t,u=i*t,c=a/(t*t),l=new bi("NHWC"===n?[r,s,u,c]:[r,c,s,u],t,n);return this.compileAndRun(l,[e])},t.prototype.split=function(e,t,n){return po(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=Er(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=[u/a,a],l=e.reshape([i,o]),f=t.reshape([i,a]);if(0===u)return Zr(ln([]),n);var d=dn(0),h=new ya(i,o,l.rank,f.rank,s,c);return this.compileAndRun(h,[f,l,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var o=Er(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.strides,u=o.outputSize,c=new ya(a,i,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(c,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new ki("return real * expR - imag * expI;",e.shape,t),o=new ki("return real * expI + imag * expR;",e.shape,t),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],a=this.compileAndRun(r,i),s=this.compileAndRun(o,i),u=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=br(e,t),i=o[0],a=o[1],s=o[2],u=o[3],c=t.reshape([a,r]),l=e.reshape([e.size/s,s]),f=new Oi(r,u,[a,s]);return this.compileAndRun(f,[l,c]).reshape(i)},t.prototype.fill=function(e,t,n){if("string"===(n=n||$(t))){var r=B(n,O(e));return r.fill(t),je.makeTensor(r,e,n,this)}var o=new Si(e,t),i=o.getCustomSetupFunc(t);return this.compileAndRun(o,[],n,i)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return eo(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return je.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new os(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new oa(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[Ct(e.shape)].concat(kt(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[Ct(t)].concat(kt(t)),i=new la(o,n),a=this.runWebGLProgram(i,[r],e.dtype,null,!0);return{dataId:a.dataId,shape:t,dtype:a.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,o=n.shape,i=n.dtype,a=St(o);return t=r?new yi(a):new gi(a),{dtype:i,shape:o,dataId:this.runWebGLProgram(t,[{shape:a,dtype:i,dataId:e}],i,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,o){var i=this;void 0===o&&(o=!1);var a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Be.DENSE){var u=Ke(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===O(a.shape))return s.values=F(a.dtype,0),a;var c=[],l=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&O(t.shape)<=f().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),c.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!It(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=i.packedReshape(t,o),c.push(t),n=i.texData.get(t.dataId),r.shape=o}return i.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);var d,h={shape:a.shape,texData:s,isUniform:!1},p=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var o=e.userCode;return e.constructor.name+"_"+r+"_"+o}(e,l,h),v=this.getAndSaveBinary(p,(function(){return function(e,t,n,r){var o=t.userCode,i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=To(i,s,o,t.packedInputs),c=e.createProgram(u),l=null,d=e.getUniformLocation(c,"NAN",!1);1===f().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(c,"INFINITY",!1));for(var h={},p=0;p<t.variableNames.length;p++){var v=t.variableNames[p];h[v]=e.getUniformLocation(c,v,!1),h["offset"+v]=e.getUniformLocation(c,"offset"+v,!1)}return{program:t,source:u,webGLProgram:c,uniformLocations:h,inShapeInfos:a,outShapeInfo:s,infLoc:l,nanLoc:d}}(i.gpgpu,e,l,h)})),m=null!=this.activeTimers;if(m&&(d=this.startTimer()),function(e,t,n,r,o){Yi(t.inShapeInfos,n),Yi([t.outShapeInfo],[r]);var i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i,a[0],a[1]):e.setOutputMatrixTexture(i,a[0],a[1]),e.setProgram(t.webGLProgram),1===f().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var o=t.program.variableNames[r],i=t.uniformLocations[o],a=t.uniformLocations["offset"+o];if(null!=i)if(n.isUniform)if(O(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(i,s)}else null!=n.texData.slice&&null!=a&&e.gl.uniform1i(a,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,i,r)})),null!=o&&o(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,v,l,h,r),c.forEach((function(e){return i.disposeData(e.dataId)})),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)})),!f().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var g=this.unpackTensor(a);return this.disposeData(a.dataId),g}return a},t.prototype.compileAndRun=function(e,t,n,r,o){void 0===o&&(o=!1),n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,o);return je.makeTensorFromDataId(i.dataId,i.shape,i.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(f().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=zt((function(){if(!f().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=f().getBool("DEBUG");f().set("DEBUG",!1);var n=e.abs(dn(1e-8)).dataSync()[0];if(f().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.values,a=n.texture,s=n.usage,u=n.isPacked;if(null==a){var c,l=null!=this.activeTimers;l&&(c=re());var f=n.texShape;if(null==f&&(f=Tt(r,u),n.texShape=f),null!=i){var d=St(r),h=void 0,p=f[1],v=f[0],m=i instanceof Uint8Array;u?(p=(t=Ye(f[0],f[1]))[0],v=t[1],h=new Ci(d,[v,p],m)):h=new Ei(d,[v,p],m);var g=this.makeTensorInfo([v,p],o);this.texData.get(g.dataId).usage=m?Ue.PIXELS:Ue.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),p,v,i);var y=this.runWebGLProgram(h,[g],o,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(g.dataId),this.texData.delete(y.dataId),n.values=null,l&&(this.uploadWaitMs+=re()-c)}else{var w=this.acquireTexture(f,s,o,u);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*q(t)},t}(Mr);Le()&&je.registerBackend("webgl",(function(){return new ss}),2);var us=an({square_:function(e){var t=Kt(e,"x","square"),n=[t];return je.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),cs="SquaredDifference",ls=an({squaredDifference_:function(e,t){var n,r=Kt(e,"a","squaredDifference"),o=Kt(t,"b","squaredDifference");n=Ne(r,o),r=n[0],o=n[1],Br(r.shape,o.shape);var i={a:r,b:o},a=[r,o];return je.runKernelFunc((function(e,t){var n=e.squaredDifference(r,o);return t([r,o]),n}),i,(function(e,t){var n=t[0],r=t[1],o=dn(2);return{a:function(){return e.mul(n.sub(r).mul(o))},b:function(){return e.mul(r.sub(n).mul(o))}}}),cs,{},a,[])}}),fs=an({abs_:function(e){var t=Kt(e,"x","abs");return"complex64"===t.dtype?je.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):je.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),ds=an({acos_:function(e){var t=Kt(e,"x","acos");return je.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(dn(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),hs=an({acosh_:function(e){var t=Kt(e,"x","acosh");return je.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),ps=an({asin_:function(e){var t=Kt(e,"x","asin");return je.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(dn(1).sub(n.toFloat().square()).sqrt())}}}))}}),vs=an({asinh_:function(e){var t=Kt(e,"x","asinh");return je.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(dn(1).add(n.toFloat().square()).sqrt())}}}))}}),ms=an({atan_:function(e){var t=Kt(e,"x","atan");return je.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),gs=an({atanh_:function(e){var t=Kt(e,"x","atanh");return je.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(dn(1).sub(n.toFloat().square()))}}}))}}),ys=an({ceil_:function(e){var t=Kt(e,"x","ceil");return je.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return xn(e)}}}))}}),bs=an({clipByValue_:function(e,t,n){var r=Kt(e,"x","clipByValue");C(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var o=[r],i={min:t,max:n};return je.runKernelFunc((function(e,o){var i=e.clip(r,t,n);return o([r]),i}),{x:r},(function(e,r){var o=r[0];return{x:function(){return e.where(o.greaterEqual(t).logicalAnd(o.lessEqual(n)),xn(e))}}}),"ClipByValue",i,o)}}),ws=an({cos_:function(e){var t=Kt(e,"x","cos"),n=[t];return je.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),_s=an({cosh_:function(e){var t=Kt(e,"x","cosh");return je.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),xs=an({erf_:function(e){var t=Kt(e,"x","erf");return C("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),je.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Es=an({exp_:function(e){var t=Kt(e,"x","exp");return je.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),Cs=an({expm1_:function(e){var t=Kt(e,"x","expm1");return je.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),ks=an({floor_:function(e){var t=Kt(e,"x","floor");return je.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return xn(e)}}}))}}),Ss=an({log_:function(e){var t=Kt(e,"x","log"),n=[t];return je.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),Ts=an({log1p_:function(e){var t=Kt(e,"x","log1p");return je.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),Os=an({logSigmoid_:function(e){var t=Kt(e,"x","logSigmoid");return je.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),Is=an({neg_:function(e){var t=Kt(e,"x","neg"),n=[t];return je.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),Ns=an({reciprocal_:function(e){var t=Kt(e,"x","reciprocal");return je.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),Rs=an({round_:function(e){var t=Kt(e,"x","round");return je.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return xn(e)}}}))}}),As=an({rsqrt_:function(e){var t=Kt(e,"x","rsqrt"),n=[t];return je.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),Ps=an({sigmoid_:function(e){var t=Kt(e,"x","sigmoid");return je.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(dn(1).sub(n)))}}}),"Sigmoid")}}),Ds=an({sign_:function(e){var t=Kt(e,"x","sign");return je.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return xn(e)}}}))}}),Ms=an({isNaN_:function(e){var t=Kt(e,"x","isNaN");return je.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return xn(e)}}}))}}),js=an({isInf_:function(e){var t=Kt(e,"x","isInf");return je.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return xn(e)}}}))}}),Ls=an({isFinite_:function(e){var t=Kt(e,"x","isFinite");return je.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return xn(e)}}}))}}),Fs=an({sin_:function(e){var t=Kt(e,"x","sin"),n=[t];return je.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),Bs=an({sinh_:function(e){var t=Kt(e,"x","sinh");return je.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),Us=an({softplus_:function(e){var t=Kt(e,"x","softplus");return je.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),Vs=an({sqrt_:function(e){var t=Kt(e,"x","sqrt");return je.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),zs=an({step_:function(e,t){void 0===t&&(t=0);var n=Kt(e,"x","step");return je.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return xn(e)}}}))}}),Ws=an({tan_:function(e){var t=Kt(e,"x","tan");return je.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),qs=an({tanh_:function(e){var t=Kt(e,"x","tanh");return je.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return dn(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}});function Hs(e,t,n,r,o,i){var a,s,u=Kt(e,"x","batchNorm"),c=Kt(t,"mean","batchNorm"),l=Kt(n,"variance","batchNorm");return null!=o&&(a=Kt(o,"scale","batchNorm")),null!=r&&(s=Kt(r,"offset","batchNorm")),C(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),C(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."})),C(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."})),null!=a&&C(2===a.rank||1===a.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."})),null!=s&&C(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),Ys(u,c,l,s,a,i)}function Gs(e,t,n,r,o,i){var a,s,u=Kt(e,"x","batchNorm"),c=Kt(t,"mean","batchNorm"),l=Kt(n,"variance","batchNorm");return null!=o&&(a=Kt(o,"scale","batchNorm")),null!=r&&(s=Kt(r,"offset","batchNorm")),C(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),C(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."})),C(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."})),null!=a&&C(3===a.rank||1===a.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."})),null!=s&&C(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),Ys(u,c,l,s,a,i)}function Ks(e,t,n,r,o,i){var a,s,u=Kt(e,"x","batchNorm"),c=Kt(t,"mean","batchNorm"),l=Kt(n,"variance","batchNorm");return null!=o&&(a=Kt(o,"scale","batchNorm")),null!=r&&(s=Kt(r,"offset","batchNorm")),C(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),C(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."})),C(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."})),null!=a&&C(4===a.rank||1===a.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."})),null!=s&&C(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),Ys(u,c,l,s,a,i)}function Ys(e,t,n,r,o,i){null==i&&(i=.001);var a,s,u,c=Kt(e,"x","batchNorm"),l=Kt(t,"mean","batchNorm"),f=Kt(n,"variance","batchNorm");null!=o&&(a=Kt(o,"scale","batchNorm")),null!=r&&(s=Kt(r,"offset","batchNorm")),C(l.rank===f.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),C(null==s||l.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),C(null==a||l.rank===a.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=0===c.rank||1===c.rank?c.as4D(1,1,1,c.size):2===c.rank?c.as4D(1,1,c.shape[0],c.shape[1]):3===c.rank?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var d=[c,l,f,a];return je.runKernelFunc((function(e,t){var n=e.batchNormalization(u,$s(l),$s(f),i,$s(a),$s(s));return t([c,l,f,a]),n}),{x:c,mean:l,variance:f,scale:a,offset:s},(function(e,t){var n=t,r=n[0],o=n[1],a=n[2],s=n[3],c=null==s?dn(1):s,l=Fr(o.shape,u.shape),f=[];if(1===o.rank){for(var d=0;d<u.shape.length-1;++d)f.push(u.shape[d]);f.push(1)}var h=r.sub(o),p=e.mul(c),v=As(a.add(dn(i))),m=v.mul(v).mul(v).mul(dn(-.5));return{x:function(){return 1===o.rank?e.mul(fr(v.as4D(1,1,1,o.shape[0]),f)).mul(c).reshape(r.shape):e.mul(v).mul(c).reshape(r.shape)},mean:function(){var e=v.mul(dn(-1)).mul(p);return 1===o.rank&&(e=e.sum(l)),e.reshape(o.shape)},variance:function(){var e=m.mul(h).mul(p);return 1===o.rank&&(e=e.sum(l)),e.reshape(o.shape)},scale:function(){var t=h.mul(v),n=e.mul(t);return 1===o.rank&&(n=n.sum(l)),n.reshape(o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=t.sum(l)),t.reshape(o.shape)}}}),"BatchNormalization",{varianceEpsilon:i},d).reshape(c.shape)}function $s(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Xs(){Vt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Qs=an({batchNormalization2d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Xs(),Hs(e,t,n,i,o,r)}}),Js=an({batchNormalization3d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Xs(),Gs(e,t,n,i,o,r)}}),Zs=an({batchNormalization4d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Xs(),Ks(e,t,n,i,o,r)}}),eu=an({batchNormalization_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Xs(),Ys(e,t,n,i,o,r)}}),tu=an({batchNorm_:Ys}),nu=an({batchNorm2d_:Hs}),ru=an({batchNorm3d_:Gs}),ou=an({batchNorm4d_:Ks}),iu=an({logicalAnd_:function(e,t){var n=Kt(e,"a","logicalAnd","bool"),r=Kt(t,"b","logicalAnd","bool");return Br(n.shape,r.shape),je.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),au=an({logicalNot_:function(e){var t=Kt(e,"x","logicalNot","bool");return je.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),su=an({logicalOr_:function(e,t){var n=Kt(e,"a","logicalOr","bool"),r=Kt(t,"b","logicalOr","bool");return Br(n.shape,r.shape),je.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),uu=an({logicalXor_:function(e,t){var n=Kt(e,"a","logicalXor","bool"),r=Kt(t,"b","logicalXor","bool");return Br(n.shape,r.shape),su(e,t).logicalAnd(iu(e,t).logicalNot())}}),cu=an({where_:function(e,t,n){var r=Kt(t,"a","where"),o=Kt(n,"b","where"),i=Kt(e,"condition","where","bool");return k(r.shape,o.shape,"Error in where: "),1===i.rank?C(i.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):k(i.shape,o.shape,"Error in where: "),je.runKernelFunc((function(e,t){var n=e.select(i,r,o);return t([i]),n}),{$condition:i,$a:r,$b:o},(function(e,t){var n=t[0];return{$condition:function(){return xn(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),lu=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(o){switch(o.label){case 0:return[4,(t=Kt(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=go(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},fu=an({add_:function(e,t){var n,r=Kt(e,"a","add"),o=Kt(t,"b","add");n=Ne(r,o),r=n[0],o=n[1];var i=Br(r.shape,o.shape);return je.runKernelFunc((function(e){return e.add(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=Fr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Fr(o.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(o.shape)}}}),"Add")}}),du=an({addN_:function(e){C(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),C(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return Kt(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!I(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return je.runKernelFunc((function(e){return e.addN(t)}),r,(function(e){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}),"AddN")}}),hu=an({addStrict_:function(e,t){var n=Kt(e,"a","addStrict"),r=Kt(t,"b","addStrict");return k(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),pu=an({atan2_:function(e,t){var n,r=Kt(e,"a","atan2"),o=Kt(t,"b","atan2");n=Ne(r,o),r=n[0],o=n[1];var i=Br(r.shape,o.shape);return je.runKernelFunc((function(e,t){var n=e.atan2(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=fu(n.square(),r.square()),o=e.mul(r.div(t)),a=Fr(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},$b:function(){var t=fu(n.square(),r.square()),o=Is(e.mul(n.div(t))),a=Fr(r.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(r.shape)}}}))}}),vu=an({div_:function(e,t){var n,r=Kt(e,"a","div"),o=Kt(t,"b","div");if(n=Ne(r,o),r=n[0],o=n[1],"int32"===r.dtype&&"int32"===o.dtype)return yu(r,o);var i=Br(r.shape,o.shape);return je.runKernelFunc((function(e,t){var n=e.realDivide(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=Fr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Fr(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"Div")}}),mu=an({divNoNan_:function(e,t){var n,r=Kt(e,"a","div"),o=Kt(t,"b","div");r=(n=Ne(r,o))[0],o=n[1];var i=vu(r,o),a=xn(i),s=o.equal(a);return cu(s,a,i)}}),gu=an({divStrict_:function(e,t){var n=Kt(e,"a","div"),r=Kt(t,"b","div");return k(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),yu=an({floorDiv_:function(e,t){var n,r=Kt(e,"a","floorDiv"),o=Kt(t,"b","floorDiv");n=Ne(r,o),r=n[0],o=n[1];var i=Br(r.shape,o.shape);return je.runKernelFunc((function(e,t){var n=e.floorDiv(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=Fr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Fr(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"FloorDiv")}}),bu=an({maximum_:function(e,t){var n,r=Kt(e,"a","maximum"),o=Kt(t,"b","maximum");return n=Ne(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Br(r.shape,o.shape),je.runKernelFunc((function(e,t){var n=e.maximum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),wu=an({maximumStrict_:function(e,t){var n=Kt(e,"a","maximumStrict"),r=Kt(t,"b","maximumStrict");return k(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),_u=an({minimum_:function(e,t){var n,r=Kt(e,"a","minimum"),o=Kt(t,"b","minimum");return n=Ne(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Br(r.shape,o.shape),je.runKernelFunc((function(e,t){var n=e.minimum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),xu=an({minimumStrict_:function(e,t){var n=Kt(e,"a","minimumStrict"),r=Kt(t,"b","minimumStrict");return k(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),Eu=an({mod_:function(e,t){var n,r=Kt(e,"a","mod"),o=Kt(t,"b","mod");n=Ne(r,o),r=n[0],o=n[1];var i=Br(r.shape,o.shape);return je.runKernelFunc((function(e,t){var n=e.mod(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Fr(n.shape,i);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),o=Fr(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}))}}),Cu=an({modStrict_:function(e,t){var n=Kt(e,"a","modStrict"),r=Kt(t,"b","modStrict");return k(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),ku=an({mul_:function(e,t){var n,r=Kt(e,"a","mul"),o=Kt(t,"b","mul");n=Ne(r,o),r=n[0],o=n[1];var i=Br(r.shape,o.shape);return je.runKernelFunc((function(e,t){var n=e.multiply(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),o=Fr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Fr(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}),"Mul")}}),Su=an({mulStrict_:function(e,t){var n=Kt(e,"a","mul"),r=Kt(t,"b","mul");return k(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Tu=an({pow_:function(e,t){var n,r=Kt(e,"base","pow"),o=Kt(t,"exp","pow");n=Ne(r,o),r=n[0],o=n[1];var i=Br(r.shape,o.shape),a=[r,o];return je.runKernelFunc((function(e,t){var n=e.pow(r,o);return t([r,o,n]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1],o=t[2];return{a:function(){var t=r.toFloat(),o=e.mul(t.mul(n.pow(t.sub(dn(1))))),a=Fr(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},b:function(){var t=n.greater(0),a=n.log().where(t,xn(n)),s=e.mul(o.mul(a)),u=Fr(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},a,[!0])}}),Ou=an({powStrict_:function(e,t){return k(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Iu=an({squaredDifferenceStrict_:function(e,t){var n=Kt(e,"a","squaredDifferenceStrict"),r=Kt(t,"b","squaredDifferenceStrict");return k(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Nu=an({sub_:function(e,t){var n,r=Kt(e,"a","sub"),o=Kt(t,"b","sub");n=Ne(r,o),r=n[0],o=n[1];var i=Br(r.shape,o.shape);return je.runKernelFunc((function(e){return e.subtract(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=Fr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Fr(o.shape,i);return n.length>0&&(t=t.sum(n)),t.neg().reshape(o.shape)}}}),"Sub")}}),Ru=an({subStrict_:function(e,t){var n=Kt(e,"a","subStrict"),r=Kt(t,"b","subStrict");return k(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Au=an({equal_:function(e,t){var n,r=Kt(e,"a","equal"),o=Kt(t,"b","equal");return n=Ne(r,o),r=n[0],o=n[1],Br(r.shape,o.shape),je.runKernelFunc((function(e){return e.equal(r,o)}),{$a:r,$b:o})}}),Pu=an({equalStrict_:function(e,t){var n=Kt(e,"a","equalStrict"),r=Kt(t,"b","equalStrict");return k(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Du=an({greater_:function(e,t){var n,r=Kt(e,"a","greater"),o=Kt(t,"b","greater");return n=Ne(r,o),r=n[0],o=n[1],Br(r.shape,o.shape),je.runKernelFunc((function(e){return e.greater(r,o)}),{a:r,b:o},null,"Greater")}}),Mu=an({greaterEqual_:function(e,t){var n,r=Kt(e,"a","greaterEqual"),o=Kt(t,"b","greaterEqual");return n=Ne(r,o),r=n[0],o=n[1],Br(r.shape,o.shape),je.runKernelFunc((function(e,t){var n=e.greaterEqual(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return xn(n)},b:function(){return xn(r)}}}),"GreaterEqual")}}),ju=an({greaterEqualStrict_:function(e,t){var n=Kt(e,"a","greaterEqualStrict"),r=Kt(t,"b","greaterEqualStrict");return k(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Lu=an({greaterStrict_:function(e,t){var n=Kt(e,"a","greaterStrict"),r=Kt(t,"b","greaterStrict");return k(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Fu=an({less_:function(e,t){var n,r=Kt(e,"a","less"),o=Kt(t,"b","less");return n=Ne(r,o),r=n[0],o=n[1],Br(r.shape,o.shape),je.runKernelFunc((function(e){return e.less(r,o)}),{a:r,b:o},null,"Less")}}),Bu=an({lessEqual_:function(e,t){var n,r=Kt(e,"a","lessEqual"),o=Kt(t,"b","lessEqual");return n=Ne(r,o),r=n[0],o=n[1],Br(r.shape,o.shape),je.runKernelFunc((function(e,t){var n=e.lessEqual(r,o);return t([r,o]),n}),{a:r,b:o},null,"LessEqual")}}),Uu=an({lessEqualStrict_:function(e,t){var n=Kt(e,"a","lessEqualStrict"),r=Kt(t,"b","lessEqualStrict");return k(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Vu=an({lessStrict_:function(e,t){var n=Kt(e,"a","lessStrict"),r=Kt(t,"b","lessStrict");return k(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),zu=an({notEqual_:function(e,t){var n,r=Kt(e,"a","notEqual"),o=Kt(t,"b","notEqual");return n=Ne(r,o),r=n[0],o=n[1],Br(r.shape,o.shape),je.runKernelFunc((function(e){return e.notEqual(r,o)}),{a:r,b:o},null,"NotEqual")}}),Wu=an({notEqualStrict_:function(e,t){var n=Kt(e,"a","notEqualStrict"),r=Kt(t,"b","notEqualStrict");return k(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function qu(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Hu(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Gu=an({gather_:function(e,t,n){void 0===n&&(n=0);var r=Kt(e,"x","gather"),o=Kt(t,"indices","gather","int32");n=j(n,r.shape)[0];var i=function(e,t,n){for(var r=e.shape[n],o=[],i=1,a=1,s=0;s<n;s++)o.push(e.shape[s]),i*=e.shape[s];for(s=0;s<t.rank;s++)o.push(t.shape[s]);for(s=n+1;s<e.rank;s++)o.push(e.shape[s]),a*=e.shape[s];return{batchSize:i,sliceSize:a,dimSize:r,outputShape:o}}(r,o,n);return je.runKernelFunc((function(e,t){var i=e.gather(r,o.flatten(),n);return t([o]),i}),{x:r,indices:o},(function(e,t){var o=t[0];return{x:function(){var t=r.shape,i=o.size,a=t.slice(0,n),s=a.length,u=t.slice(n,t.length).slice(1),c=u.length,l=qu(0,s),f=qu(s+1,s+1+c),d=Hu([a,[i],u]),h=e.reshape(d),p=o.reshape([i]),v=Hu([[s],l,f]),m=h.transpose(v),g=Ku(m,p,r.shape[n]),y=tn(v);return g.transpose(y)},indices:function(){return o}}}),"Gather",{axis:n}).reshape(i.outputShape)}}),Ku=an({unsortedSegmentSum_:function(e,t,n){var r=Kt(e,"x","unsortedSegmentSum"),o=Kt(t,"segmentIds","unsortedSegmentSum","int32");return C(N(n),(function(){return"numSegments must be of dtype int"})),je.runKernelFunc((function(e,t){var i=e.unsortedSegmentSum(r,o,n);return t([o]),i}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=bu(t,xn(t)),r=Gu(e,n),o=Mu(t,dn(0,"int32")),i=r.rank-o.rank,a=0;a<i;++a)o=Yn(o,a+1);o=iu(o,gn(r.shape,"bool"));var s=xn(r);return cu(o,r,s)}(e,n)}}}))}});function Yu(e,t,n,r,o,i,a){void 0===i&&(i="NHWC"),C(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,c=!1;3===t.rank&&(c=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),C(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),C(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),C(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var l="NHWC"===i?s[3]:s[1],f="NHWC"===i?u.shape[3]:u.shape[1];C(l===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."})),C(f===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."})),null!=a&&C(N(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var d=Qr(i),h=zr(s,n.shape,r,1,o,a,!1,d),p=je.runKernelFunc((function(e,t){var r=e.conv2dDerInput(u,n,h);return t([n,u]),r}),{dy4D:u,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return Ju(e,n,r,o,i,1,a)},filter:function(){return ec(e,s,n.shape,r,o,i,a)}}}));return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function $u(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function Xu(e,t,n,r,o){C(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var i=e,a=t,s=!1;4===t.rank&&(s=!0,a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],c=a.shape[4];C(5===i.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."})),C(5===a.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank})),C(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),C(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),C(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."}));var l=Wr(i,n.shape,r,1,o),f=je.runKernelFunc((function(e){return e.conv3dDerInput(a,n,l)}),{dy5D:a});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var Qu=an({conv1d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NWC"),void 0===i&&(i=1);var s=Kt(e,"x","conv1d"),u=Kt(t,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=s.as3D(1,s.shape[0],s.shape[1])),C(3===c.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."})),C(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=a&&C(N(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."})),C(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),C(Xr(n,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"})),C("NWC"===o,(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),h=Ju(d,f,[1,n],r,"NHWC",[1,i],a);return l?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),Ju=an({conv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=Kt(e,"x","conv2d"),u=Kt(t,"filter","conv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=a&&C(N(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var f="NHWC"===o?c.shape[3]:c.shape[1];C(f===u.shape[2],(function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."})),C(Xr(n,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}));var d=Qr(o),h=zr(c.shape,u.shape,n,i,r,a,!1,d),p=[u,c],v=je.runKernelFunc((function(e,t){var n=e.conv2d(c,u,h);return t([u,c]),n}),{x:c,filter:u},(function(e,t){var a=t,s=a[0],u=a[1];return C($r(i),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"})),{x:function(){return tc(u.shape,e,s,n,r,o)},filter:function(){return ec(u,e,s.shape,n,r,o)}}}),"Conv2D",h,p);return l?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),Zu=an({conv3d_:function(e,t,n,r,o,i){void 0===o&&(o="NDHWC"),void 0===i&&(i=[1,1,1]);var a=Kt(e,"x","conv3d"),s=Kt(t,"filter","conv3d"),u=a,c=!1;4===a.rank&&(c=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),C(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),C(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),C(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),C(function(e,t){return $u(e)||$u(t)}(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),C("NDHWC"===o,(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var l=Wr(u.shape,s.shape,n,i,r),f=je.runKernelFunc((function(e,t){var n=e.conv3d(u,s,l);return t([u,s]),n}),{x:u,$filter:s},(function(e,t){C($u(i),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}));var o=t[0],a=t[1];return{x:function(){return Xu(o.shape,e,a,n,r)},$filter:function(){return function(e,t,n,r,o){var i=e;4===e.rank&&(i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var a=t;4===a.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),C(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+i.shape+"."})),C(5===a.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."})),C(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),C(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+i.shape[4]+") must match input depth in filter ("+n[3]+"."})),C(a.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=Wr(i.shape,n,r,1,o);return je.runKernelFunc((function(e){return e.conv3dDerFilter(i,a,s)}),{x5D:i,dy5D:a})}(o,e,a.shape,n,r)}}}));return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),ec=an({conv2dDerFilter_:function(e,t,n,r,o,i,a){void 0===i&&(i="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),C(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),C(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),C(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var c="NHWC"===i?s.shape[3]:s.shape[1],l="NHWC"===i?u.shape[3]:u.shape[1];C(c===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."})),C(l===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."})),null!=a&&C(N(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var f=Qr(i),d=zr(s.shape,n,r,1,o,a,!1,f);return je.runKernelFunc((function(e){return e.conv2dDerFilter(s,u,d)}),{x4D:s,dy4D:u})}}),tc=an({conv2dDerInput_:Yu}),nc=an({depthwiseConv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=Kt(e,"x","depthwiseConv2d"),u=Kt(t,"filter","depthwiseConv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),C(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==i&&(i=[1,1]),C(Xr(n,i),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&C(N(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var f=zr(c.shape,u.shape,n,i,r,a,!0),d=[c,u],h=je.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(c,u,f);return t([c,u]),n}),{x:c,filter:u},(function(e,t){C($r(i),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"}));var n=t[0],r=t[1];return{x:function(){return rc(n.shape,e,r,f)},filter:function(){return oc(n,e,r.shape,f)}}}),"DepthwiseConv2dNative",f,d);return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),rc=an({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,i=!1;3===t.rank&&(i=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=je.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(o,n,r)}),{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),oc=an({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return 3===i.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),je.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(o,i,r)}),{x4D:o,dy4D:i})}}),ic=an({separableConv2d_:function(e,t,n,r,o,i,a){void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC");var s=Kt(e,"x","separableConv2d"),u=Kt(t,"depthwiseFilter","separableConv2d"),c=Kt(n,"pointwiseFilter","separableConv2d"),l=s,f=!1;if(3===s.rank&&(f=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");C(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."})),C(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),C(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),C(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."})),C(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."}));var d=u.shape[2],h=u.shape[3];C(c.shape[2]===d*h,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*h+", but got "+c.shape[2]+"."}));var p=nc(l,u,r,o,a,i),v=Ju(p,c,1,"valid",a);return f?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),ac=an({conv2dTranspose_:function(e,t,n,r,o,i){return Yu(n,Kt(e,"x","conv2dTranspose"),Kt(t,"filter","conv2dTranspose"),r,o,"NHWC",i)}}),sc=an({conv3dTranspose_:function(e,t,n,r,o){return Xu(n,Kt(e,"x","conv3dTranspose"),Kt(t,"filter","conv3dTranspose"),r,o)}}),uc=an({matMul_:function(e,t,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var i=Kt(e,"a","matMul"),a=Kt(t,"b","matMul");o=Ne(i,a),i=o[0],a=o[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],c=n?i.shape[i.rank-1]:i.shape[i.rank-2],l=r?a.shape[a.rank-2]:a.shape[a.rank-1],f=i.shape.slice(0,-2),d=a.shape.slice(0,-2),h=O(f),p=O(d);C(i.rank>=2&&a.rank>=2&&i.rank===a.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+a.rank+"."})),C(I(f,d),(function(){return"Error in matMul: outer dimensions ("+f+") and ("+d+") of Tensors with shapes "+i.shape+" and "+a.shape+" must match."})),C(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+i.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var v=i.shape.slice(0,-2).concat([c,l]),m=n?i.as3D(h,s,c):i.as3D(h,c,s),g=r?a.as3D(p,l,u):a.as3D(p,u,l),y={transposeA:n,transposeB:r};return je.runKernelFunc((function(e,t){var o=e.batchMatMul(m,g,n,r);return t([m,g]),o}),{a:m,b:g},(function(e,t){var o=t,i=o[0],a=o[1];return n||r?!n&&r?{a:function(){return e.matMul(a,!1,!1)},b:function(){return e.matMul(i,!0,!1)}}:n&&!r?{a:function(){return a.matMul(e,!1,!0)},b:function(){return i.matMul(e,!1,!1)}}:{a:function(){return a.matMul(e,!0,!0)},b:function(){return e.matMul(i,!0,!0)}}:{a:function(){return e.matMul(a,!1,!0)},b:function(){return i.matMul(e,!0,!1)}}}),"BatchMatMul",y).reshape(v)}}),cc=an({dot_:function(e,t){var n=Kt(e,"t1","dot"),r=Kt(t,"t2","dot");C(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];return C(o===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),lc=an({outerProduct_:function(e,t){var n=Kt(e,"v1","outerProduct"),r=Kt(t,"v2","outerProduct");return C(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),fc=an({reverse_:function(e,t){var n=Kt(e,"x","reverse");if(0===n.rank)return n.clone();var r=j(t,n.shape);return je.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),dc=an({reverse1d_:function(e){var t=Kt(e,"x","reverse");return C(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),fc(t,0)}}),hc=an({reverse2d_:function(e,t){var n=Kt(e,"x","reverse");return C(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),fc(n,t)}}),pc=an({reverse3d_:function(e,t){var n=Kt(e,"x","reverse");return C(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),fc(n,t)}}),vc=an({reverse4d_:function(e,t){var n=Kt(e,"x","reverse");return C(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),fc(n,t)}});function mc(e,t,n,r,o,i){var a=Kt(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),C(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),C(Xr(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=i&&C(N(o),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var c=Ur(s.shape,t,n,r,o,i);if(1===c.filterWidth&&1===c.filterHeight&&I(c.inShape,c.outShape))return a.clone();var l=[s],f=je.runKernelFunc((function(e,t){var n=e.maxPool(s,c);return t([s,n]),n}),{x:s},(function(e,i){var a=i[0],s=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=Kt(e,"dy","maxPoolBackprop"),c=Kt(t,"input","maxPoolBackprop"),l=Kt(n,"output","maxPoolBackprop");C(c.rank===u.rank,(function(){return"Rank of input ("+c.rank+") does not match rank of dy ("+u.rank+")"})),null==i&&(i=[1,1]),C(Xr(o,i),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),C(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),C(4===c.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+"."}));var f=Ur(c.shape,r,o,i,a,s);return je.runKernelFunc((function(e){return e.maxPoolBackprop(u,c,l,f)}),{$dy:u,$input:c})}(e,a,s,t,n,r,o)}}}),"MaxPool",c,l);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function gc(e,t,n,r,o,i){var a=Kt(e,"x","avgPool","float32");null==r&&(r=[1,1]),C(Xr(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),C(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=i&&C(N(o),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var c=Ur(s.shape,t,n,r,o,i);if(1===c.filterWidth&&1===c.filterHeight&&I(c.inShape,c.outShape))return a.clone();var l=je.runKernelFunc((function(e){return e.avgPool(s,c)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,o,i){var a=Kt(e,"dy","avgPoolBackprop"),s=Kt(t,"input","avgPoolBackprop");C(s.rank===a.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"})),null==o&&(o=[1,1]),C(Xr(r,o),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}));var u=s,c=a,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),C(4===c.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var f=Ur(u.shape,n,r,o,i),d=je.runKernelFunc((function(e){return e.avgPoolBackprop(c,u,f)}),{dy4D:c,input4D:u});return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,o)}}}),"AvgPool",c);return l=l.cast(a.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var yc=an({maxPool_:function(e,t,n,r,o){return mc(e,t,n,1,r,o)}}),bc=an({avgPool_:function(e,t,n,r,o){return gc(e,t,n,1,r,o)}}),wc=an({pool_:function(e,t,n,r,o,i){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");var a=Kt(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),C(Xr(i,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}));var c,l=Ur(s.shape,t,i,o,r),f=[l.dilationHeight,l.dilationWidth];c="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),o=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],o[t]]}))}([l.filterHeight,l.filterWidth],f):[[0,0],[0,0]];var d=1===f[0]&&1===f[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),o=n.map((function(e){return e[1]})),i=e.concat(r,o),a=t.map((function(e,t){return(e-i[t]%e)%e})),s=o.map((function(e,t){return e+a[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,a[t]]}))]}([l.inHeight,l.inWidth],f,c),p=h[0],v=h[1],m=d?r:"valid",g=d?s:ur(s,f,p),y=("avg"===n?function(){return gc(g,t,i,1,m)}:function(){return mc(g,t,i,1,m)})(),b=d?y:zn(y,f,v);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),_c=an({maxPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=Kt(e,"x","maxPool3d"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),C(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),C("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),C(Xr(n,a),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&C(N(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l=Vr(u.shape,t,n,a,r,o,i),f=je.runKernelFunc((function(e,t){var n=e.maxPool3d(u,l);return t([u,n]),n}),{x:u},(function(e,i){var s=i[0],u=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=Kt(e,"dy","maxPool3dBackprop"),c=Kt(t,"input","maxPool3dBackprop"),l=Kt(n,"output","maxPool3dBackprop"),f=u,d=c,h=l,p=!1;4===c.rank&&(p=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),d=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),h=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),C(5===f.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."})),C(5===d.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."})),C(5===h.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+h.rank+"."})),null==i&&(i=[1,1,1]),C(Xr(o,i),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),null!=s&&C(N(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."}));var v=Vr(d.shape,r,o,i,a,s),m=je.runKernelFunc((function(e){return e.maxPool3dBackprop(f,d,h,v)}),{dy5D:f,input5D:d});return p?m.as4D(m.shape[1],m.shape[2],m.shape[3],m.shape[4]):m}(e,s,u,t,n,a,r,o)}}}));return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),xc=an({avgPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=Kt(e,"x","avgPool3d","float32"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),C(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),C("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),C(Xr(n,a),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&C(N(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l=Vr(u.shape,t,n,a,r,o,i),f=je.runKernelFunc((function(e){return e.avgPool3d(u,l)}),{x:u},(function(e){return{x:function(){return function(e,t,n,r,o,i,a){var s=Kt(e,"dy","avgPool3dBackprop"),u=Kt(t,"input","avgPool3dBackprop"),c=s,l=u,f=!1;4===u.rank&&(f=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),C(5===c.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."})),C(5===l.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."})),null==o&&(o=[1,1,1]),C(Xr(r,o),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"})),null!=a&&C(N(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var d=Vr(l.shape,n,r,o,i,a),h=je.runKernelFunc((function(e){return e.avgPool3dBackprop(c,l,d)}),{dy5D:c,input5D:l});return f?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}(e,u,t,n,a,r,o)}}}));return f=f.cast(u.dtype),c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Ec=an({slice_:function(e,t,n){var r,o,i=Kt(e,"x","slice");if(0===i.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach((function(e){C(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(i.rank).fill(-1):"number"==typeof n?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(C(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),i.shape[t]-r[t])})),Cr(i,r,o);var a=i.shape,s={begin:r,size:o};return je.runKernelFunc((function(e){return e.slice(i,r,o)}),{x:i},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],a[n]-r[n]-o[n]]);return{x:function(){return e.pad(t)}}}),"Slice",s)}}),Cc=an({slice1d_:function(e,t,n){var r=Kt(e,"x","slice1d");return C(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Ec(r,[t],[n])}}),kc=an({slice2d_:function(e,t,n){var r=Kt(e,"x","slice2d");return C(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Ec(r,t,n)}}),Sc=an({slice3d_:function(e,t,n){var r=Kt(e,"x","slice3d");return C(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Ec(r,t,n)}}),Tc=an({slice4d_:function(e,t,n){var r=Kt(e,"x","slice4d");return C(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Ec(r,t,n)}});function Oc(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(Jt(t.shape,r))),e.rank<n.rank&&(e=e.reshape(Jt(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==o?r:r.transpose(o)}}}var Ic=an({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","all","bool"),o=j(t,r.shape),i=o,a=en(i,r.rank);null!=a&&(r=r.transpose(a),i=nn(i.length,r.rank));var s=je.runKernelFunc((function(e){return e.all(r,i)}),{$x:r});if(n){var u=Jt(s.shape,o);return s.reshape(u)}return s}}),Nc=an({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","any","bool"),o=j(t,r.shape),i=o,a=en(i,r.rank);null!=a&&(r=r.transpose(a),i=nn(i.length,r.rank));var s=je.runKernelFunc((function(e){return e.any(r,i)}),{$x:r});if(n){var u=Jt(s.shape,o);return s.reshape(u)}return s}}),Rc=an({argMax_:function(e,t){void 0===t&&(t=0);var n=Kt(e,"x","argMax");null==t&&(t=0);var r=j(t,n.shape),o=en(r,n.rank);null!=o&&(n=n.transpose(o),r=nn(r.length,n.rank));var i={axis:r[0]},a=[n];return je.runKernelFunc((function(e,t){var o=e.argMax(n,r[0]);return t([n]),o}),{x:n},(function(e,t){var n=t[0];return{x:function(){return xn(n)}}}),"ArgMax",i,a)}}),Ac=an({argMin_:function(e,t){void 0===t&&(t=0);var n=Kt(e,"x","argMin");null==t&&(t=0);var r=j(t,n.shape),o=en(r,n.rank);return null!=o&&(n=n.transpose(o),r=nn(r.length,n.rank)),je.runKernelFunc((function(e,t){var o=e.argMin(n,r[0]);return t([n]),o}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return xn(n)}}}))}}),Pc=an({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","logSumExp"),o=j(t,r.shape),i=r.max(o,!0),a=r.sub(i).exp().sum(o).log(),s=i.reshape(a.shape).add(a);if(n){var u=Jt(s.shape,o);return s.reshape(u)}return s}}),Dc=an({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","max"),o=r,i=j(t,r.shape),a=i,s=en(a,r.rank);null!=s&&(r=r.transpose(s),a=nn(a.length,r.rank));var u=[r],c=je.runKernelFunc((function(e,t){var n=e.max(r,a);return t([o,n]),n}),{x:r},(function(e,t){return Oc(e,t[1],t[0],i,s)}),"Max",{axes:a},u,[!0]);if(n){var l=Jt(c.shape,i);c=c.reshape(l)}return c}}),Mc=an({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","mean"),o=j(t,r.shape),i=O(Qt(r.shape,o)[1]);return Rr((function(e){var r=dn(i);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(gn(e.shape,"float32")).div(i)}}}))(r)}}),jc=an({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","min"),o=r,i=j(t,r.shape),a=i,s=en(a,r.rank);null!=s&&(r=r.transpose(s),a=nn(a.length,r.rank));var u=[r],c=je.runKernelFunc((function(e,t){var n=e.min(r,a);return t([o,n]),n}),{x:r},(function(e,t){return Oc(e,t[1],t[0],i,s)}),"Min",{axes:a},u,[!0]);if(n){var l=Jt(c.shape,i);c=c.reshape(l)}return c}}),Lc=an({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=j(t,(e=Kt(e,"x","moments")).shape),o=e.mean(r,n),i=o.shape;n||(i=Jt(o.shape,r));var a=e.toFloat().sub(o.reshape(i)).square();return{mean:o,variance:a.mean(r,n)}}}),Fc=an({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=j(t,r.shape);return Rr((function(e){var t=en(o,e.rank),r=o,i=e;null!=t&&(i=e.transpose(t),r=nn(r.length,e.rank));var a=function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(gn(e.shape,"float32"))},s={axes:r},u=je.runKernelFunc((function(e){return e.sum(i,r)}),{x:i},(function(e){return{x:function(){return a(e)}}}),"Sum",s);if(n){var c=Jt(u.shape,o);u=u.reshape(c)}return{value:u,gradFunc:a}}))(r)}}),Bc=an({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Kt(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=j(t,r.shape),i=en(o,r.rank),a=o,s=r;null!=i&&(s=r.transpose(i),a=nn(a.length,r.rank));var u=je.runKernelFunc((function(e){return e.prod(s,a)}),{permutedX:s});if(n){var c=Jt(u.shape,o);u=u.reshape(c)}return u}}),Uc=an({elu_:function(e){var t=Kt(e,"x","elu");return je.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return je.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),Vc=an({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=Kt(e,"x","leakyRelu");return bu(dn(t).mul(n),n)}}),zc=an({prelu_:function(e,t){var n=Kt(e,"x","prelu"),r=Kt(t,"alpha","prelu");return je.runKernelFunc((function(e,t){var o=e.prelu(n,r);return t([n,r]),o}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],o=n.greater(0);return{x:function(){return cu(o,e,e.mul(r))},alpha:function(){var t=cu(o,xn(e),e.mul(n)),i=Fr(r.shape,e.shape);return i.length>0&&(t=t.sum(i)),t.reshape(r.shape)}}}),"Prelu")}}),Wc=an({relu_:function(e){var t=Kt(e,"x","relu");return"bool"===t.dtype?t.toInt():je.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),qc=an({relu6_:function(e){var t=Kt(e,"x","relu6");return"bool"===t.dtype?t.toInt():je.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),Hc=an({selu_:function(e){var t=Kt(e,"x","selu");return je.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(dn(0)),r=dn(Ra),o=dn(Aa),i=e.mul(o),a=e.mul(r).mul(n.toFloat().exp());return cu(t,i,a)}}}))}}),Gc=an({transpose_:function(e,t){var n=Kt(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),C(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){C(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return je.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},(function(e){var n=tn(t);return{x:function(){return e.transpose(n)}}}),"Transpose",r)}}),Kc=an({localResponseNormalization_:function(e,t,n,r,o){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var i=Kt(e,"x","localResponseNormalization");C(4===i.rank||3===i.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+i.rank+"."})),C(N(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var a=i,s=!1;3===i.rank&&(s=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var u=je.runKernelFunc((function(e,i){var s=e.localResponseNormalization4D(a,t,n,r,o);return i([a,s]),s}),{x4D:a},(function(e,i){var a=i[0],s=i[1];return{x4D:function(){return je.runKernelFunc((function(i){return i.LRNGrad(e,a,s,t,n,r,o)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Yc=an({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(dn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=Kt(e,"x","norm"),t,n),i=o.shape;if(r){var a=j(n,e.shape);i=Jt(o.shape,a)}return o.reshape(i)}}),$c=an({basicLSTMCell_:function(e,t,n,r,o,i){var a=Kt(e,"forgetBias","basicLSTMCell"),s=Kt(t,"lstmKernel","basicLSTMCell"),u=Kt(n,"lstmBias","basicLSTMCell"),c=Kt(r,"data","basicLSTMCell"),l=Kt(o,"c","basicLSTMCell"),f=Kt(i,"h","basicLSTMCell"),d=c.concat(f,1).matMul(s).add(u),h=d.shape[0],p=d.shape[1]/4,v=[h,p],m=d.slice([0,0],v),g=d.slice([0,p],v),y=d.slice([0,2*p],v),b=d.slice([0,3*p],v),w=m.sigmoid().mulStrict(g.tanh()).addStrict(l.mulStrict(a.add(y).sigmoid())),_=w.tanh().mulStrict(b.sigmoid());return[w,_]}}),Xc=an({multiRNNCell_:function(e,t,n,r){for(var o=Kt(t,"data","multiRNNCell"),i=Yt(n,"c","multiRNNCell"),a=Yt(r,"h","multiRNNCell"),s=o,u=[],c=0;c<e.length;c++){var l=e[c](s,i[c],a[c]);u.push(l[0]),u.push(l[1]),s=l[1]}var f=[],d=[];for(c=0;c<u.length;c+=2)f.push(u[c]),d.push(u[c+1]);return[f,d]}}),Qc=an({movingAverage_:function(e,t,n,r,o){void 0===o&&(o=!0);var i=Kt(e,"v","movingAverage"),a=Kt(t,"x","movingAverage"),s=Kt(n,"decay","movingAverage");Re(i,a),C(I(i.shape,a.shape),(function(){return"Shape mismatch in v and x"}));var u=dn(1),c=u.sub(s),l=a.sub(i).mul(c);if(o){C(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=Kt(r,"step","movingAverage");l=l.div(u.sub(Tu(s,f)))}return i.add(l)}}),Jc=an({stridedSlice_:function(e,t,n,r,o,i,a,s,u){if(void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==a)throw new Error("ellipsis mask is not yet supported");var c=Kt(e,"x","stridedSlice"),l=kr(s),f=c.shape.slice();l.forEach((function(e){t[e]=0,n[e]=1,f.splice(e,0,1)})),c=c.reshape(f);for(var d=0;d<c.rank;d++)t[d]=Tr(o,t,r,c.shape,d),n[d]=Or(i,n,r,c.shape,d),r[d]=r[d]||1;var h=kr(u);h.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var p=Sr(t,n,r),v=p.filter((function(e,t){return-1===h.indexOf(t)}));return r.every((function(e){return 1===e}))?Ec(c,t,p).reshape(v):je.runKernelFunc((function(e){return e.stridedSlice(c,t,n,r)}),{$x:c}).reshape(v)}}),Zc=an({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=Kt(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var i=je.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:i[0],indices:i[1]}}}),el=an({scatterND_:function(e,t,n){var r=Kt(e,"indices","scatterND","int32"),o=Kt(t,"updates","scatterND");return xr(o,r,n),je.runKernelFunc((function(e){return e.scatterND(r,o,n)}),{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),tl=an({fft_:function(e){C("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return je.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),nl=an({ifft_:function(e){C("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return je.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),rl=an({rfft_:function(e,t){C("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],o=e.size/r;if(null!=t&&t<r){var i=e.shape.map((function(e){return 0})),a=e.shape.map((function(e){return e}));a[e.shape.length-1]=t,n=e.slice(i,a),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(yn(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),c=sn(n,u).as2D(o,r),l=tl(c),f=Math.floor(r/2)+1,d=un(l),h=cn(l),p=d.split([f,r-f],d.shape.length-1),v=h.split([f,r-f],h.shape.length-1),m=n.shape.slice();return m[n.shape.length-1]=f,sn(p[0],v[0]).reshape(m)}}),ol=an({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=nl(r);return un(o)}var i=[n,2*(t-1)],a=un(e).as2D(n,t),s=cn(e).as2D(n,t),u=a.slice([0,1],[n,t-2]).reverse(1),c=s.slice([0,1],[n,t-2]).reverse(1).mul(dn(-1)),l=a.concat(u,1),f=s.concat(c,1);return r=sn(l,f).as2D(i[0],i[1]),o=nl(r),un(o)}}),il=Object.freeze({fft:tl,ifft:nl,rfft:rl,irfft:ol}),al=an({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var o=Kt(e,"sparseIndices","sparseToDense","int32"),i=Kt(t,"sparseValues","sparseToDense"),a=Kt(r,"defaultValue","sparseToDense",i.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+i+".");var a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+o+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a),je.runKernelFunc((function(e){return e.sparseToDense(o,i,n,a)}),{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}}),sl=an({gatherND_:function(e,t){var n=Kt(t,"indices","gatherND","int32"),r=Kt(e,"x","gatherND");return je.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),ul=an({diag_:function(e){var t=Kt(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return je.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),cl=an({dropout_:function(e,t,n,r){var o=Kt(e,"x","dropout");if(C("float32"===o.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),C(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof be?o.clone():o;var i=function(e,t){if(null==t)return e.shape.slice();if(I(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=ar(i,0,1,"float32",r).add(a).floor().div(a);return o.mul(s)}});function ll(e,t,n){for(var r=1-e%2,o=new Float32Array(e),i=0;i<e;++i){var a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return hn(o,"float32")}var fl,dl=an({hannWindow_:function(e){return ll(e,.5,.5)}}),hl=an({hammingWindow_:function(e){return ll(e,.54,.46)}}),pl=an({frame_:function(e,t,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var i=0,a=[];i+t<=e.size;)a.push(Ec(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=En([Ec(e,i,t-s),bn([s],o)]);a.push(u),i+=n}return 0===a.length?pn([],[0,t]):En(a).as2D(a.length,t)}}),vl=an({stft_:function(e,t,n,r,o){var i;void 0===o&&(o=dl),null==r&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var a=pl(e,t,n),s=ku(a,o(t)),u=[],c=0;c<a.shape[0];c++)u.push(rl(s.slice([c,0],[1,t]),r));return En(u)}}),ml=Object.freeze({hannWindow:dl,hammingWindow:hl,frame:pl,stft:vl});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(fl||(fl={}));var gl=an({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=fl.SUM_BY_NONZERO_WEIGHTS);var o=Kt(e,"labels","absoluteDifference"),i=Kt(t,"predictions","absoluteDifference"),a=null;null!=n&&(a=Kt(n,"weights","absoluteDifference")),k(o.shape,i.shape,"Error in absoluteDifference: ");var s=o.sub(i).abs();return yl(s,a,r)}}),yl=an({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=fl.SUM_BY_NONZERO_WEIGHTS);var r=Kt(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=Kt(t,"weights","computeWeightedLoss"));var i=null==o?r:r.mul(o);if(n===fl.NONE)return i;if(n===fl.SUM)return i.sum();if(n===fl.MEAN){if(null==o)return i.mean();var a=r.size/o.size,s=i.sum().div(o.sum());return a>1?s.div(dn(a)):s}if(n===fl.SUM_BY_NONZERO_WEIGHTS){if(null==o)return i.sum().div(dn(r.size));var u=o.mul(gn(r.shape)).notEqual(dn(0)).sum().toFloat();return i.sum().div(u)}throw Error("Unknown reduction: "+n)}}),bl=an({cosineDistance_:function(e,t,n,r,o){void 0===o&&(o=fl.SUM_BY_NONZERO_WEIGHTS);var i=Kt(e,"labels","cosineDistance"),a=Kt(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Kt(r,"weights","cosineDistance")),k(i.shape,a.shape,"Error in cosineDistance: ");var u=dn(1).sub(i.mul(a).sum(n,!0));return yl(u,s,o)}}),wl=an({hingeLoss_:function(e,t,n,r){void 0===r&&(r=fl.SUM_BY_NONZERO_WEIGHTS);var o=Kt(e,"labels","hingeLoss"),i=Kt(t,"predictions","hingeLoss"),a=null;null!=n&&(a=Kt(n,"weights","hingeLoss")),k(o.shape,i.shape,"Error in hingeLoss: ");var s=dn(1);o=dn(2).mul(o).sub(s);var u=s.sub(o.mul(i)).relu();return yl(u,a,r)}}),_l=an({huberLoss_:function(e,t,n,r,o){void 0===r&&(r=1),void 0===o&&(o=fl.SUM_BY_NONZERO_WEIGHTS);var i=Kt(e,"labels","huberLoss"),a=Kt(t,"predictions","huberLoss"),s=null;null!=n&&(s=Kt(n,"weights","huberLoss")),k(i.shape,a.shape,"Error in huberLoss: ");var u=dn(r),c=a.sub(i).abs(),l=_u(c,u),f=c.sub(l),d=dn(.5).mul(l.square()).add(u.mul(f));return yl(d,s,o)}}),xl=an({logLoss_:function(e,t,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=fl.SUM_BY_NONZERO_WEIGHTS);var i=Kt(e,"labels","logLoss"),a=Kt(t,"predictions","logLoss"),s=null;null!=n&&(s=Kt(n,"weights","logLoss")),k(i.shape,a.shape,"Error in logLoss: ");var u=dn(1),c=dn(r),l=i.mul(a.add(c).log()).neg().sub(u.sub(i).mul(u.sub(a).add(c).log()));return yl(l,s,o)}}),El=an({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=fl.SUM_BY_NONZERO_WEIGHTS);var o=Kt(e,"labels","meanSquaredError"),i=Kt(t,"predictions","meanSquaredError"),a=null;null!=n&&(a=Kt(n,"weights","meanSquaredError")),k(o.shape,i.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(i);return yl(s,a,r)}}),Cl=an({sigmoidCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=fl.SUM_BY_NONZERO_WEIGHTS);var i=Kt(e,"multiClassLabels","sigmoidCrossEntropy"),a=Kt(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Kt(n,"weights","sigmoidCrossEntropy")),k(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=dn(r),c=dn(1),l=dn(.5);i=i.mul(c.sub(u)).add(l.mul(u))}var f=function(e,t){var n=Kt(e,"labels","sigmoidCrossEntropyWithLogits"),r=Kt(t,"logits","sigmoidCrossEntropyWithLogits");k(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),i=r.mul(n),a=r.abs().neg().exp().log1p();return o.sub(i).add(a)}(i,a);return yl(f,s,o)}}),kl=an({softmaxCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=fl.SUM_BY_NONZERO_WEIGHTS);var i=Kt(e,"onehotLabels","softmaxCrossEntropy"),a=Kt(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Kt(n,"weights","softmaxCrossEntropy")),k(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var u=dn(r),c=dn(1),l=dn(i.shape[1]);i=i.mul(c.sub(u)).add(u.div(l))}var f=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Rr((function(e,t,r){var o=t.logSumExp([n],!0),i=t.toFloat().sub(o);return r([e,i]),{value:i.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],o=t[1],i=Jt(e.shape,[n]);return[e.reshape(i).mul(r.toFloat().sub(o.exp())),e.reshape(i).mul(o.exp().sub(r.toFloat()))]}}}))(e,t)}(i,a);return yl(f,s,o)}}),Sl=Object.freeze({get Reduction(){return fl},absoluteDifference:gl,computeWeightedLoss:yl,cosineDistance:bl,hingeLoss:wl,huberLoss:_l,logLoss:xl,meanSquaredError:El,sigmoidCrossEntropy:Cl,softmaxCrossEntropy:kl});function Tl(e,t){return void 0===t&&(t=!1),je.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=$n(n),i=e.clone(),a=pn([[1]],[1,1]),s=a.clone(),u=n>=r?r:n,c=function(e){var t,u=i,c=s,l=o;t=je.tidy((function(){var t=i.slice([e,e],[n-e,1]),u=t.norm(),c=i.slice([e,e],[1,1]),l=pn([[-1]]).where(c.greater(0),pn([[1]])),f=c.sub(l.mul(u)),d=t.div(f);s=1===d.shape[0]?a.clone():a.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var h=l.matMul(f).div(u).neg(),p=i.slice([e,0],[n-e,r]),v=h.mul(s);if(0===e)i=p.sub(v.matMul(s.transpose().matMul(p)));else{var m=p.sub(v.matMul(s.transpose().matMul(p)));i=i.slice([0,0],[e,r]).concat(m,0)}var g=o.slice([0,e],[n,o.shape[1]-e]);if(0===e)o=g.sub(g.matMul(s).matMul(v.transpose()));else{var y=g.sub(g.matMul(s).matMul(v.transpose()));o=o.slice([0,0],[n,e]).concat(y,1)}return[s,i,o]})),s=t[0],i=t[1],o=t[2],Wt([u,c,l])},l=0;l<u;++l)c(l);return!t&&n>r&&(o=o.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[o,i]}))}var Ol=an({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=Kt(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,i=r.shape.slice(-2),a=i[0],s=i[1];if(!(t<=a))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+a+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=a),n<0&&(n=s);var u=wn(0,a,1,"int32").reshape([-1,1]),c=wn(0,s,1,"int32"),l=Nu(u,c),f=iu(l.lessEqual(dn(+t,"int32")),l.greaterEqual(dn(-n,"int32"))),d=yn([a,s],r.dtype);return lr(hr(r.reshape([-1,a,s])).map((function(e){return cu(f,e,d)}))).reshape(o)}}),Il=an({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,C(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){C(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},o=1;o<e.length;++o)r(o)}else t=!0,e=On(e,e.shape[0],0).map((function(e){return cr(e,[0])}));C(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var i=[],a=e,s=function(e){i.push(je.tidy((function(){var t=a[e];if(e>0)for(var n=0;n<e;++n){var r=Fc(i[n].mulStrict(t)).mul(i[n]);t=t.sub(r)}return t.div(Yc(t,"euclidean"))})))};for(o=0;o<e.length;++o)s(o);return t?lr(i,0):i}}),Nl=an({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Tl(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=hr(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return r.forEach((function(e){var n=Tl(e,t),r=n[0],a=n[1];o.push(r),i.push(a)})),[lr(o,0).reshape(e.shape),lr(i,0).reshape(e.shape)]}}),Rl=Object.freeze({bandPart:Ol,gramSchmidt:Il,qr:Nl});function Al(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);var a=e.shape[0];return n=Math.min(n,a),C(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),C(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),C(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),C(1===t.rank,(function(){return"scores must be a 1D tensor"})),C(t.shape[0]===a,(function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]})),C(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}var Pl=an({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=Kt(e,"images","resizeBilinear");C(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),C(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=je.runKernelFunc((function(e,t){return t([o]),e.resizeBilinear(o,a,s,n)}),{x:o},(function(e,t){return{x:function(){return je.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Dl=an({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=Kt(e,"images","resizeNearestNeighbor");C(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),C(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),C("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=je.runKernelFunc((function(e,t){return t([o]),e.resizeNearestNeighbor(o,a,s,n)}),{batchImages:o},(function(e,t){return{batchImages:function(){return je.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Ml=an({nonMaxSuppression_:function(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var i=Kt(e,"boxes","nonMaxSuppression"),a=Kt(t,"scores","nonMaxSuppression"),s=Al(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return je.runKernelFunc((function(e){return e.nonMaxSuppression(i,a,n,r,o)}),{boxes:i,scores:a},null,"NonMaxSuppressionV3",u)}}),jl=an({nonMaxSuppressionWithScore_:function(e,t,n,r,o,i){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0);var a=Kt(e,"boxes","nonMaxSuppression"),s=Kt(t,"scores","nonMaxSuppression"),u=Al(a,s,n,r,o,i),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},l=je.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),Ll=an({cropAndResize_:function(e,t,n,r,o,i){var a=Kt(e,"image","cropAndResize"),s=Kt(t,"boxes","cropAndResize","float32"),u=Kt(n,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var c=s.shape[0];return C(4===a.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."})),C(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."})),C(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."})),C(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),C(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),C("bilinear"===o||"nearest"===o,(function(){return"method must be bilinear or nearest, but was "+o})),je.runKernelFunc((function(e,t){return e.cropAndResize(a,s,u,r,o,i)}),{images:a,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:i,cropSize:r})}}),Fl=Object.freeze({resizeBilinear:Pl,resizeNearestNeighbor:Dl,nonMaxSuppression:Ml,nonMaxSuppressionAsync:function(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,(function(){var i,a,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return i=Kt(e,"boxes","nonMaxSuppressionAsync"),a=Kt(t,"scores","nonMaxSuppressionAsync"),s=Al(i,a,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([i.data(),a.data()])];case 1:return u=c.sent(),l=u[0],f=u[1],d=so(l,f,n,r,o),i!==e&&i.dispose(),a!==t&&a.dispose(),[2,d]}}))}))},nonMaxSuppressionWithScore:jl,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,o,i){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0),u(this,void 0,void 0,(function(){var a,s,u,l,f,d,h;return c(this,(function(c){switch(c.label){case 0:return a=Kt(e,"boxes","nonMaxSuppressionAsync"),s=Kt(t,"scores","nonMaxSuppressionAsync"),u=Al(a,s,n,r,o,i),n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,i=u.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return l=c.sent(),f=l[0],d=l[1],h=uo(f,d,n,r,o,i),a!==e&&a.dispose(),s!==t&&s.dispose(),[2,h]}}))}))},cropAndResize:Ll}),Bl=function(e,t){return!(e>0)||"linear"===t},Ul=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Vl=function(e,t){var n=t,r=Fr(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},zl=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Wc(e);if("elu"===t)return Uc(e);if("relu6"===t)return qc(e);if("prelu"===t)return zc(e,n);throw new Error("Unknown fused activation "+t+".")},Wl=an({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,i=void 0!==o&&o,a=e.transposeB,s=void 0!==a&&a,u=e.bias,c=e.activation,l=void 0===c?"linear":c,f=e.preluActivationWeights;if(!1===Bl(je.state.gradientDepth,l)){var d=uc(n,r,i,s);return null!=u&&(d=fu(d,u)),zl(d,l,f)}var h=Kt(n,"a","fused matMul"),p=Kt(r,"b","fused matMul");t=Ne(h,p),h=t[0],p=t[1];var v=i?h.shape[h.rank-2]:h.shape[h.rank-1],m=s?p.shape[p.rank-1]:p.shape[p.rank-2],g=i?h.shape[h.rank-1]:h.shape[h.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],b=h.shape.slice(0,-2),w=p.shape.slice(0,-2),_=O(b),x=O(w);C(h.rank>=2&&p.rank>=2&&h.rank===p.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+p.rank+"."})),C(I(b,w),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+h.shape+" and "+p.shape+" must match."})),C(v===m,(function(){return"Error in fused matMul: inner shapes ("+v+") and ("+m+") of Tensors with shapes "+h.shape+" and "+p.shape+" and transposeA="+i+" and transposeB="+s+" must match."}));var E,k,S=h.shape.slice(0,-2).concat([g,y]),T=i?h.as3D(_,v,g):h.as3D(_,g,v),N=s?p.as3D(x,y,m):p.as3D(x,m,y);null!=u&&Br(S,(E=Ne(E=Kt(u,"bias","fused matMul"),h)[0]).shape),null!=f&&(k=Kt(f,"prelu weights","fused matMul"));var R={a:T,b:N};null!=u&&(R.bias=E),null!=f&&(R.preluActivationWeights=k);var A=[T,N];return je.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:T,b:N,transposeA:i,transposeB:s,bias:E,activation:l,preluActivationWeights:k});return t([T,N,n]),n}),R,(function(e,t){var n=t[0],r=t[1],o=t[2],a=Ul(e,o,l),c={};return null!=u&&(c={bias:function(){return Vl(E,a)}}),i||s?!i&&s?Object.assign({a:function(){return a.matMul(r,!1,!1)},b:function(){return a.matMul(n,!0,!1)}},c):i&&!s?Object.assign({a:function(){return r.matMul(a,!1,!0)},b:function(){return n.matMul(a,!1,!1)}},c):Object.assign({a:function(){return r.matMul(a,!0,!0)},b:function(){return a.matMul(n,!0,!0)}},c):Object.assign({a:function(){return a.matMul(r,!1,!0)},b:function(){return n.matMul(a,!0,!1)}},c)}),"_FusedMatMul",{transposeA:i,transposeB:s,activation:l},A,[!0]).reshape(S)}}),ql=an({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,h=e.preluActivationWeights;if(d=d||"linear",!1===Bl(je.state.gradientDepth,d)){var p=Ju(t,n,r,o,a,u,c);return null!=l&&(p=fu(p,l)),zl(p,d,h)}var v=Kt(t,"x","conv2d"),m=Kt(n,"filter","conv2d"),g=v,y=!1;3===v.rank&&(y=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),C(4===g.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."})),C(4===m.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+m.rank+"."})),null!=c&&C(N(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+o+"."})),C(g.shape[3]===m.shape[2],(function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+m.shape[2]+"."})),C(Xr(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),C("NHWC"===a,(function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."}));var b,w,_=zr(g.shape,m.shape,r,u,o,c);null!=l&&(b=Ne(b=Kt(l,"bias","fused conv2d"),v)[0],Br(_.outShape,b.shape)),null!=h&&(w=Kt(h,"prelu weights","fused conv2d"));var x={x:g,filter:m};null!=l&&(x.bias=b),null!=h&&(x.preluActivationWeights=w);var E=[m,g],k=je.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:g,filter:m,convInfo:_,bias:b,activation:d,preluActivationWeights:w});return t([m,g,n]),n}),x,(function(e,t){var n=t,i=n[0],a=n[1],s=n[2],c=Ul(e,s,d);C($r(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var f={};return null!=l&&(f={bias:function(){return Vl(b,c)}}),Object.assign({x:function(){return tc(a.shape,c,i,r,o)},filter:function(){return ec(a,c,i.shape,r,o)}},f)}),"FusedConv2D",{convInfo:_,activation:d},E,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),Hl=an({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,h=e.preluActivationWeights;if(!1===Bl(je.state.gradientDepth,d)){var p=nc(t,n,r,o,a,u,c);return null!=l&&(p=fu(p,l)),zl(p,d,h)}var v=Kt(t,"x","depthwiseConv2d"),m=Kt(n,"filter","depthwiseConv2d"),g=v,y=!1;3===v.rank&&(y=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),C(4===g.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."})),C(4===m.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+m.rank+"."})),C(g.shape[3]===m.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+m.shape[2]+"."})),null==u&&(u=[1,1]),C(Xr(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=c&&C(N(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+o+"."}));var b,w,_=zr(g.shape,m.shape,r,u,o,c,!0);null!=l&&(b=Ne(b=Kt(l,"bias","fused conv2d"),v)[0],Br(_.outShape,b.shape)),null!=h&&(w=Kt(h,"prelu weights","fused depthwiseConv2d"));var x={x:g,filter:m};null!=l&&(x.bias=b),null!=h&&(x.preluActivationWeights=w);var E=[m,g],k=je.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:g,filter:m,convInfo:_,bias:b,activation:d,preluActivationWeights:w});return t([m,g,n]),n}),x,(function(e,t){C($r(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=t[0],r=t[1],o=t[2],i=Ul(e,o,d),a={};return null!=l&&(a={bias:function(){return Vl(b,i)}}),Object.assign({x:function(){return rc(r.shape,i,n,_)},filter:function(){return oc(r,i,n.shape,_)}},a)}),"FusedDepthwiseConv2D",{convInfo:_,activation:d},E,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),Gl=Object.freeze({matMul:Wl,conv2d:ql,depthwiseConv2d:Hl}),Kl=Object.freeze({image:Fl,linalg:Rl,losses:Sl,spectral:il,fused:Gl,signal:ml,square:us,squaredDifference:ls,conv1d:Qu,conv2d:Ju,conv3d:Zu,depthwiseConv2d:nc,separableConv2d:ic,conv2dTranspose:ac,conv3dTranspose:sc,op:an,batchNormalization2d:Qs,batchNormalization3d:Js,batchNormalization4d:Zs,batchNormalization:eu,batchNorm:tu,batchNorm2d:nu,batchNorm3d:ru,batchNorm4d:ou,booleanMaskAsync:function(e,t,n){return u(this,void 0,void 0,(function(){var r,o,i,a,s,u,l,f,d,h,p,v,m;return c(this,(function(c){switch(c.label){case 0:for(r=Kt(e,"tensor","boolMask"),o=Kt(t,"mask","boolMask","bool"),i=null==n?0:n,a=o.rank,s=r.shape,C(a>0,(function(){return"mask cannot be scalar"})),k(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=i;l<i+a;l++)u*=s[l];return f=s.slice(0,i).concat([u],s.slice(i+a)),d=r.reshape(f),h=o.reshape([-1]),[4,lu(h)];case 1:return p=c.sent(),v=p.squeeze([1]),m=Gu(d,v,i),e!==r&&r.dispose(),t!==o&&o.dispose(),v.dispose(),d.dispose(),h.dispose(),p.dispose(),[2,m]}}))}))},complex:sn,real:un,imag:cn,concat:En,concat1d:Cn,concat2d:kn,concat3d:Sn,concat4d:Tn,split:On,matMul:uc,dot:cc,outerProduct:lc,reverse:fc,reverse1d:dc,reverse2d:hc,reverse3d:pc,reverse4d:vc,maxPool:yc,avgPool:bc,pool:wc,maxPool3d:_c,avgPool3d:xc,slice:Ec,slice1d:Cc,slice2d:kc,slice3d:Sc,slice4d:Tc,abs:fs,acos:ds,acosh:hs,asin:ps,asinh:vs,atan:ms,atanh:gs,ceil:ys,clipByValue:bs,cos:ws,cosh:_s,erf:xs,exp:Es,expm1:Cs,floor:ks,log:Ss,log1p:Ts,logSigmoid:Os,neg:Is,reciprocal:Ns,round:Rs,rsqrt:As,sigmoid:Ps,sign:Ds,isNaN:Ms,isInf:js,isFinite:Ls,sin:Fs,sinh:Bs,softplus:Us,sqrt:Vs,step:zs,tan:Ws,tanh:qs,all:Ic,any:Nc,argMax:Rc,argMin:Ac,logSumExp:Pc,max:Dc,mean:Mc,min:jc,moments:Lc,sum:Fc,prod:Bc,equal:Au,equalStrict:Pu,greater:Du,greaterEqual:Mu,greaterEqualStrict:ju,greaterStrict:Lu,less:Fu,lessEqual:Bu,lessEqualStrict:Uu,lessStrict:Vu,notEqual:zu,notEqualStrict:Wu,add:fu,addN:du,addStrict:hu,atan2:pu,div:vu,divNoNan:mu,divStrict:gu,floorDiv:yu,maximum:bu,maximumStrict:wu,minimum:_u,minimumStrict:xu,mod:Eu,modStrict:Cu,mul:ku,mulStrict:Su,pow:Tu,powStrict:Ou,squaredDifferenceStrict:Iu,sub:Nu,subStrict:Ru,elu:Uc,leakyRelu:Vc,prelu:zc,relu:Wc,relu6:qc,selu:Hc,logicalAnd:iu,logicalNot:au,logicalOr:su,logicalXor:uu,where:cu,whereAsync:lu,buffer:Vn,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:zn,broadcastTo:Wn,cast:qn,clone:Hn,cumsum:Gn,depthToSpace:Kn,expandDims:Yn,eye:$n,multinomial:Xn,oneHot:Qn,pad:Jn,pad1d:Zn,pad2d:er,pad3d:tr,pad4d:nr,rand:rr,randomNormal:or,randomGamma:ir,randomUniform:ar,reshape:sr,spaceToBatchND:ur,squeeze:cr,stack:lr,tile:fr,truncatedNormal:dr,unstack:hr,setdiff1dAsync:function(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return n=Kt(e,"x","setdiff1d"),r=Kt(t,"y","setdiff1d"),C(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),C(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),C(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return o=c.sent(),[4,r.data()];case 2:for(i=c.sent(),a=new Set(i),s=0,f=0;f<o.length;f++)a.has(o[f])||s++;for(u=new ve([s],n.dtype),l=new ve([s],"int32"),f=0,d=0;f<o.length;f++)a.has(o[f])||(u.values[d]=o[f],l.values[d]=f,d++);return[2,[u.toTensor(),l.toTensor()]]}}))}))},fill:bn,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return je.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})},ones:gn,range:wn,scalar:dn,tensor:ln,tensor1d:hn,tensor2d:pn,tensor3d:vn,tensor4d:mn,tensor5d:function(e,t,n){if(S(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Ht(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return fn(e,t,r,n)},tensor6d:function(e,t,n){if(S(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Ht(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return fn(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),je.makeVariable(e,t,n,r)},zeros:yn,onesLike:_n,zerosLike:xn,transpose:Gc,softmax:Ar,logSoftmax:Pr,localResponseNormalization:Kc,norm:Yc,gather:Gu,unsortedSegmentSum:Ku,basicLSTMCell:$c,multiRNNCell:Xc,movingAverage:Qc,stridedSlice:Jc,topk:Zc,scatterND:el,fft:tl,ifft:nl,rfft:rl,irfft:ol,sparseToDense:al,gatherND:sl,diag:ul,dropout:cl,hannWindow:dl,hammingWindow:hl,frame:pl,stft:vl,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),u(this,void 0,void 0,(function(){var r,o,i,a,s,u,l,f,d,h,p,v,m,g;return c(this,(function(c){switch(c.label){case 0:return r=Kt(e,"predictions","inTopK"),o=Kt(t,"targets","inTopK"),C(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),C(r.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank})),k(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],C(n>0&&n<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n})),[4,r.data()];case 1:return a=c.sent(),[4,o.data()];case 2:for(s=c.sent(),u=[a.length/i,i],f=u[1],d=F("bool",l=u[0]),h=0;h<l;h++){for(p=h*f,v=a.subarray(p,p+f),m=[],g=0;g<v.length;g++)m.push({value:v[g],index:g});for(m.sort((function(e,t){return t.value-e.value})),d[h]=0,g=0;g<n;g++)if(m[g].index===s[h]){d[h]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,ln(d,o.shape,"bool")]}}))}))}});function Yl(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&C("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function $l(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var Xl=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Dr(t,je),t}return s(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,f().get("IS_NODE")&&qt("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?to(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return ae(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Vn(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return je.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return t=re(),e(),[2,{kernelMs:re()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:je.keep(e.clone()),imag:je.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(Yl(e,"slice"),Ir(e.shape,t,n)){var r=Nr(t,e.strides),o=O(n);return ln(this.readSync(e.dataId).subarray(r,r+o),n,e.dtype)}for(var i=Vn(n,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s).map((function(e,n){return e+t[n]}));i.values[s]=a.get.apply(a,u)}return i.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){Yl(e,"stridedSlice");var o=Sr(t,n,r);if(o.some((function(e){return 0===e})))return ln([],o);for(var i=Vn(o,e.dtype),a=this.bufferSync(e),s=0;s<i.size;s++){for(var u=i.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*r[l]+t[l];i.set.apply(i,[a.get.apply(a,c)].concat(u))}return i.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=Vn([e.size,e.size],e.dtype),r=n.values,o=0;o<t.length;o++)r[o*e.size+o]=t[o];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.reverse=function(e,t){Yl(e,"reverse");for(var n=Vn(e.shape,e.dtype),r=this.bufferSync(e),o=function(o){var i=n.indexToLoc(o),a=i.slice();t.forEach((function(t){return a[t]=e.shape[t]-1-a[t]})),n.set.apply(n,[r.get.apply(r,a)].concat(i))},i=0;i<n.size;i++)o(i);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return un(e)})),o=e.map((function(e){return cn(e)}));return sn(this.concat(r,t),this.concat(o,t))}var i=e.map((function(e){var n=O(e.shape.slice(t));return e.as2D(-1,n)})),a=on(i.map((function(e){return e.shape})),1),s=Vn(a,e[0].dtype).values;if(1===i[0].shape[0]){var u=0;i.forEach((function(e){s.set(n.readSync(e.dataId),u),u+=e.size}))}else{var c=0;i.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,o=0;o<e.shape[0];++o)for(var i=o*a[1]+c,u=0;u<e.shape[1];++u)s[i+u]=t[r++];c+=e.shape[1]}))}var l=on(e.map((function(e){return e.shape})),t);return ln(s,l,e[0].dtype)},t.prototype.neg=function(e){return Yl(e,"neg"),this.multiply(dn(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,Oe(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;Yl(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=Vn(e[0].shape,e[0].dtype),o=r.values,i=0;i<e.length;i++)for(var a=n[i],s=0;s<o.length;s++)o[s]+=a[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=j([t],e.shape),r=this.max(e,n),o=Jt(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,Oe(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return Yl([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){Yl([e,t],"matMul");for(var o=n?e.shape[1]:e.shape[2],i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],f=l[0],d=l[1],h=l[2],p=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],v=p[0],m=p[1],g=p[2],y=i*a,b=Vn([s,i,a],e.dtype),w=b.values,_=this.blockSize,x=0;x<s;x++)for(var E=0;E<i;E+=_)for(var C=0;C<a;C+=_)for(var k=0;k<o;k+=_)for(var S=Math.min(E+_,i),T=Math.min(C+_,a),O=Math.min(k+_,o),I=E;I<S;I++)for(var N=C;N<T;N++){for(var R=0,A=k;A<O;A++)R+=u[x*f+I*d+A*h]*c[A*v+N*m+x*g];w[x*y+(I*a+N)]+=R}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,o);return i&&(u=this.add(u,i)),a&&(u=$l(this,u,a,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,Oe(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.realDivide=function(e,t){return Yl([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},t.prototype.floorDiv=function(e,t){return Yl([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){Yl(e,"sum"),Zt("sum",t,e.rank);for(var n=Qt(e.shape,t),r=n[0],o=n[1],i=yn(r,Oe(e.dtype,"int32")),a=O(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=0,d=0;d<a;++d)f+=u[l+d];s[c]=f}return i},t.prototype.prod=function(e,t){Yl(e,"sum");for(var n=Qt(e.shape,t),r=n[0],o=n[1],i=yn(r,Oe(e.dtype,"int32")),a=O(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=1,d=0;d<a;++d)f*=u[l+d];s[c]=f}return i},t.prototype.unsortedSegmentSum=function(e,t,n){Yl(e,"unsortedSegmentSum");for(var r=[],o=e.rank-t.rank,i=0;i<o;++i)t=t.expandDims(i+1);for(i=0;i<n;++i){var a=dn(i,"int32"),s=Au(a,t).asType("float32").mul(e).sum(0);r.push(s)}return lr(r)},t.prototype.argMin=function(e,t){Yl(e,"argMin");var n=[t];Zt("argMin",n,e.rank);for(var r=Qt(e.shape,n),o=r[0],i=r[1],a=yn(o,"int32"),s=O(i),u=this.readSync(a.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],h=0,p=0;p<s;++p){var v=c[f+p];v<d&&(d=v,h=p)}u[l]=h}return a},t.prototype.argMax=function(e,t){Yl(e,"argMax");var n=[t];Zt("argMax",n,e.rank);for(var r=Qt(e.shape,n),o=r[0],i=r[1],a=yn(o,"int32"),s=O(i),u=this.readSync(a.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],h=0,p=0;p<s;++p){var v=c[f+p];v>d&&(d=v,h=p)}u[l]=h}return a},t.prototype.cumsum=function(e,t,n,r){if(Yl(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=Oe(e.dtype,"int32"),i=yn(e.shape,o),a=this.readSync(i.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],c=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},l=0;l<s.length;l+=u)for(var f=0;f<u;f++){var d=c(l,f);if(0===f)a[d]=n?0:s[d];else{var h=c(l,f-1);a[d]=n?s[h]+a[h]:s[d]+a[h]}}return i},t.prototype.equal=function(e,t){return Yl([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return Yl([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return Yl([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return Yl([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return Yl([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return Yl([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){Yl(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return Yl([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return Yl([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){Yl([e,t,n],"select");for(var r=this.readSync(e.dataId),o=this.readSync(t.dataId),i=this.readSync(n.dataId),a=yn(t.shape,Oe(t.dtype,n.dtype)),s=this.readSync(a.dataId),u=0,c=0===e.rank||e.rank>1||1===t.rank?1:O(t.shape.slice(1)),l=0;l<r.length;l++)for(var f=0;f<c;f++)1===r[l]?s[u++]=o[l]:s[u++]=i[l];return a},t.prototype.where=function(e){Yl([e],"where");var t=this.readSync(e.dataId);return go(e.shape,t)},t.prototype.topk=function(e,t,n){return Yl(e,"topk"),mo(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Yl(e,"min"),Zt("min",t,e.rank);for(var n=Qt(e.shape,t),r=n[0],o=n[1],i=yn(r,e.dtype),a=O(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];h<f&&(f=h)}s[c]=f}return i},t.prototype.minimum=function(e,t){return Yl([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return Yl([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){Yl(e,"max"),Zt("max",t,e.rank);for(var n=Qt(e.shape,t),r=n[0],o=n[1],i=yn(r,e.dtype),a=O(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];h>f&&(f=h)}s[c]=f}return i},t.prototype.maximum=function(e,t){return Yl([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){Yl(e,"all"),Zt("all",t,e.rank);for(var n=Qt(e.shape,t),r=n[0],o=n[1],i=yn(r,e.dtype),a=O(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];f=f&&h}s[c]=f}return i},t.prototype.any=function(e,t){Yl(e,"any"),Zt("any",t,e.rank);for(var n=Qt(e.shape,t),r=n[0],o=n[1],i=yn(r,e.dtype),a=O(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];f=f||h}s[c]=f}return i},t.prototype.squaredDifference=function(e,t){return Yl([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){Yl(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){Yl(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){Yl(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){Yl(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){Yl(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){Yl(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){Yl(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){Yl(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){Yl(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){Yl(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){Yl(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){Yl(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){Yl(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){Yl(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){Yl(e,"relu");for(var t=yn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},t.prototype.relu6=function(e){Yl(e,"relu");for(var t=yn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return t},t.prototype.prelu=function(e,t){return Yl([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){Yl(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){Yl([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];n[i]=a>=1?o[i]:o[i]*(a+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){Yl(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?1.0507009873554805*o:1.7580993408473768*(Math.exp(o)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){Yl(e,"clip");for(var r=new Float32Array(e.size),o=this.readSync(e.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>n?n:a<t?t:a}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var o=n[2*r],i=n[2*r+1];t[r]=Math.hypot(o,i)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){Yl(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){Yl(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){Yl(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i,a=r[o]>-t,s=r[o]<t,u=Math.exp(r[o]);i=s?u:a?r[o]:Math.log(1+u),n[o]=i}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){Yl(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){Yl(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){Yl(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){Yl(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){Yl(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){Yl(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return Yl([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){Yl(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){Yl(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){Yl(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=R(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){Yl(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){Yl(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){Yl(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){Yl(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),i=Math.abs(n[r]),a=1/(1+.3275911*i);t[r]=o*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-i*i))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),Yl(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i=r[o];isNaN(i)?n[o]=NaN:n[o]=i>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.conv2d(t,n,r);return o&&(s=this.add(s,o)),i&&(s=$l(this,s,i,a)),s},t.prototype.conv2d=function(e,t,n){Yl([e,t],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c="channelsLast"===n.dataFormat,l=Vn(n.outShape,e.dtype),f=e.strides[0],d=c?e.strides[1]:e.strides[2],h=c?e.strides[2]:1,p=c?1:e.strides[1],v=l.strides[0],m=c?l.strides[1]:l.strides[2],g=c?l.strides[2]:1,y=c?1:l.strides[1],b=this.readSync(e.dataId),w=this.readSync(t.dataId),_=l.values,x=0;x<n.batchSize;++x)for(var E=x*f,C=x*v,k=0;k<n.outHeight;++k)for(var S=C+k*m,T=k*n.strideHeight-u,O=0;O<r;O++){var I=T+O*i;if(!(I<0||I>=n.inHeight))for(var N=O*t.strides[0],R=E+I*d,A=0;A<n.outWidth;++A)for(var P=S+A*g,D=A*n.strideWidth-s,M=0;M<o;M++){var j=D+M*a;if(!(j<0||j>=n.inWidth))for(var L=R+j*h,F=N+M*t.strides[1],B=0;B<n.inChannels;++B){for(var U=b[L+B*p],V=0;V<n.outChannels;++V)_[P+V*y]+=U*w[F+V];F+=n.outChannels}}}return l.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,o=n.filterHeight,i=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,c=n.padInfo.front,l=n.padInfo.left,f=n.padInfo.top,d=Vn(n.outShape,e.dtype),h=this.readSync(e.dataId),p=this.readSync(t.dataId),v=d.values,m=0;m<n.batchSize;++m)for(var g=m*e.strides[0],y=m*d.strides[0],b=0;b<n.outDepth;++b)for(var w=y+b*d.strides[1],_=b*n.strideDepth-c,x=0;x<r;x++){var E=_+x*a;if(!(E<0||E>=n.inDepth))for(var C=x*t.strides[0],k=g+E*e.strides[1],S=0;S<n.outHeight;++S)for(var T=w+S*d.strides[2],O=S*n.strideHeight-f,I=0;I<o;I++){var N=O+I*s;if(!(N<0||N>=n.inHeight))for(var R=C+I*t.strides[1],A=k+N*e.strides[2],P=0;P<n.outWidth;++P)for(var D=T+P*n.outChannels,M=P*n.strideWidth-l,j=0;j<i;j++){var L=M+j*u;if(!(L<0||L>=n.inWidth))for(var F=R+j*t.strides[2],B=A+L*n.inChannels,U=F,V=0;V<n.inChannels;++V){for(var z=h[B+V],W=0;W<n.outChannels;++W)v[D+W]+=z*p[U+W];U+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){Yl([e,t],"conv2dDerInput");for(var r=Vn(n.inShape,"float32"),o=r.values,i=this.readSync(e.dataId),a=this.readSync(t.dataId),s=t.strides,u=s[0],c=s[1],l=s[2],f=n.batchSize,d=n.filterHeight,h=n.filterWidth,p=n.inChannels,v=n.inHeight,m=n.inWidth,g=n.outChannels,y=n.outHeight,b=n.outWidth,w=n.strideHeight,_=n.strideWidth,x=n.dataFormat,E=d-1-n.padInfo.top,C=h-1-n.padInfo.left,k="channelsLast"===x,S=r.strides[0],T=k?r.strides[1]:r.strides[2],O=k?r.strides[2]:1,I=k?1:r.strides[1],N=e.strides[0],R=k?e.strides[1]:e.strides[2],A=k?e.strides[2]:1,P=k?1:e.strides[1],D=0;D<f;++D)for(var M=0;M<p;++M)for(var j=0;j<v;++j)for(var L=j-E,F=Math.max(0,Math.ceil(L/w)),B=Math.min(y,(d+L)/w),U=0;U<m;++U){for(var V=U-C,z=Math.max(0,Math.ceil(V/_)),W=Math.min(b,(h+V)/_),q=0,H=F;H<B;++H)for(var G=H*w-L,K=z;K<W;++K)for(var Y=N*D+R*H+A*K,$=u*(d-1-G)+c*(h-1-(K*_-V))+l*M,X=0;X<g;++X)q+=i[Y+P*X]*a[$+X];o[S*D+T*j+O*U+I*M]=q}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=Vn(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],c=i[3],l=this.readSync(e.dataId),f=e.strides,d=f[0],h=f[1],p=f[2],v=f[3],m=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],w=g[2],_=g[3],x=n.batchSize,E=n.filterDepth,C=n.filterHeight,k=n.filterWidth,S=n.inChannels,T=n.inDepth,O=n.inHeight,I=n.inWidth,N=n.outChannels,R=n.outDepth,A=n.outHeight,P=n.outWidth,D=n.strideDepth,M=n.strideHeight,j=n.strideWidth,L=E-1-n.padInfo.front,F=C-1-n.padInfo.top,B=k-1-n.padInfo.left,U=0;U<x;++U)for(var V=0;V<S;++V)for(var z=0;z<T;++z)for(var W=z-L,q=Math.max(0,Math.ceil(W/D)),H=Math.min(R,(E+W)/D),G=0;G<O;++G)for(var K=G-F,Y=Math.max(0,Math.ceil(K/M)),$=Math.min(A,(C+K)/M),X=0;X<I;++X){for(var Q=X-B,J=Math.max(0,Math.ceil(Q/j)),Z=Math.min(P,(k+Q)/j),ee=0,te=q;te<H;++te)for(var ne=te*D-W,re=Y;re<$;++re)for(var oe=re*M-K,ie=J;ie<Z;++ie)for(var ae=d*U+h*te+p*re+v*ie,se=y*(E-1-ne)+b*(C-1-oe)+w*(k-1-(ie*j-Q))+_*V,ue=0;ue<N;++ue)ee+=l[ae+ue]*m[se+ue];o[a*U+s*z+u*G+c*X+V]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){Yl([e,t],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,u=Vn(n.filterShape,"float32"),c=n.padInfo.left,l=n.padInfo.top,f=this.bufferSync(e),d=this.bufferSync(t),h=0;h<i;++h)for(var p=Math.max(0,Math.ceil((l-h)/r)),v=Math.min(n.outHeight,(n.inHeight+l-h)/r),m=0;m<a;++m)for(var g=Math.max(0,Math.ceil((c-m)/o)),y=Math.min(n.outWidth,(n.inWidth+c-m)/o),b=0;b<n.inChannels;++b)for(var w=0;w<n.outChannels;++w){for(var _=0,x=0;x<n.batchSize;++x)for(var E=p;E<v;++E)for(var C=h+E*r-l,k=g;k<y;++k){var S=m+k*o-c;_+=s?f.get(x,C,S,b)*d.get(x,E,k,w):f.get(x,b,C,S)*d.get(x,w,E,k)}u.set(_,h,m,b,w)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=Vn(n.filterShape,"float32"),l=c.values,f=c.strides,d=f[0],h=f[1],p=f[2],v=f[3],m=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],w=g[2],_=g[3],x=this.readSync(e.dataId),E=e.strides,C=E[0],k=E[1],S=E[2],T=E[3],O=n.padInfo.front,I=n.padInfo.left,N=n.padInfo.top,R=0;R<a;++R)for(var A=Math.max(0,Math.ceil((O-R)/r)),P=Math.min(n.outDepth,(n.inDepth+O-R)/r),D=R*d,M=0;M<s;++M)for(var j=Math.max(0,Math.ceil((N-M)/o)),L=Math.min(n.outHeight,(n.inHeight+N-M)/o),F=M*h+D,B=0;B<u;++B)for(var U=Math.max(0,Math.ceil((I-B)/i)),V=Math.min(n.outWidth,(n.inWidth+I-B)/i),z=B*p+F,W=0;W<n.inChannels;++W)for(var q=W*v+z,H=0;H<n.outChannels;++H){for(var G=0,K=0;K<n.batchSize;++K)for(var Y=K*C,$=K*y,X=A;X<P;++X)for(var Q=(R+X*r-O)*k+Y,J=X*b+$,Z=j;Z<L;++Z)for(var ee=(M+Z*o-N)*S+Q,te=Z*w+J,ne=U;ne<V;++ne){var re=ne*_+te;G+=x[(B+ne*i-I)*T+ee+W]*m[re+H]}l[q+H]=G}return c.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return o&&(s=this.add(s,o)),i&&(s=$l(this,s,i,a)),s},t.prototype.depthwiseConv2D=function(e,t,n){Yl([e,t],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=Vn(n.outShape,e.dtype),f=this.readSync(e.dataId),d=this.readSync(t.dataId),h=l.values,p=0;p<n.batchSize;++p)for(var v=p*e.strides[0],m=p*l.strides[0],g=0;g<n.outHeight;++g)for(var y=m+g*l.strides[1],b=g*n.strideHeight-s,w=0;w<r;++w){var _=b+w*i;if(!(_<0||_>=n.inHeight))for(var x=w*t.strides[0],E=v+_*e.strides[1],C=0;C<n.outWidth;++C)for(var k=y+C*l.strides[2],S=C*n.strideWidth-u,T=0;T<o;++T){var O=S+T*a;if(!(O<0||O>=n.inWidth))for(var I=x+T*t.strides[1],N=E+O*n.inChannels,R=k,A=I,P=0;P<n.inChannels;++P){for(var D=f[N+P],M=0;M<c;++M)h[R+M]+=D*d[A+M];R+=c,A+=c}}}return l.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){Yl([e,t],"depthwiseConv2DDerInput");for(var r=Vn(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],c=this.readSync(e.dataId),l=e.strides,f=l[0],d=l[1],h=l[2],p=this.readSync(t.dataId),v=t.strides,m=v[0],g=v[1],y=v[2],b=n.batchSize,w=n.filterHeight,_=n.filterWidth,x=n.inChannels,E=n.inHeight,C=n.inWidth,k=n.outChannels,S=n.outHeight,T=n.outWidth,O=n.strideHeight,I=n.strideWidth,N=w-1-n.padInfo.top,R=_-1-n.padInfo.left,A=k/x,P=0;P<b;++P)for(var D=0;D<x;++D)for(var M=0;M<E;++M)for(var j=M-N,L=Math.max(0,Math.ceil(j/O)),F=Math.min(S,(w+j)/O),B=0;B<C;++B){for(var U=B-R,V=Math.max(0,Math.ceil(U/I)),z=Math.min(T,(_+U)/I),W=0,q=L;q<F;++q)for(var H=q*O-j,G=V;G<z;++G)for(var K=f*P+d*q+h*G,Y=m*(w-1-H)+g*(_-1-(G*I-U))+y*D,$=0;$<A;++$)W+=c[K+(D*A+$)]*p[Y+$];o[a*P+s*M+u*B+D]=W}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){Yl([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=Vn(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,f=this.bufferSync(e),d=this.bufferSync(t),h=0;h<i;++h)for(var p=Math.max(0,Math.ceil((c-h)/r)),v=Math.min(n.outHeight,(n.inHeight+c-h)/r),m=0;m<a;++m)for(var g=Math.max(0,Math.ceil((u-m)/o)),y=Math.min(n.outWidth,(n.inWidth+u-m)/o),b=0;b<n.outChannels;++b){for(var w=Math.trunc(b/l),_=b%l,x=0,E=0;E<n.batchSize;++E)for(var C=p;C<v;++C)for(var k=h+C*r-c,S=g;S<y;++S){var T=m+S*o-u;x+=f.get(E,k,T,w)*d.get(E,C,S,b)}s.set(x,h,m,w,_)}return s.toTensor()},t.prototype.tile=function(e,t){return Yl(e,"tile"),vo(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){Yl(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),o=t.map((function(e){return e[0]})),i=this.bufferSync(e),a=Vn(r,e.dtype);0!==n&&a.values.fill(n);for(var s=0;s<e.size;s++){var u=i.indexToLoc(s),c=u.map((function(e,t){return e+o[t]}));a.set.apply(a,[i.get.apply(i,u)].concat(c))}return a.toTensor()},t.prototype.transpose=function(e,t){Yl(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var o=this.readSync(e.dataId),i=Vn(n,e.dtype),a=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[t[c]];var l=i.locToIndex(u);i.values[l]=o[r]}return i.toTensor()},t.prototype.gather=function(e,t,n){Yl([e,t],"gather");var r=e.shape.slice(),o=this.readSync(t.dataId);r[n]=o.length;for(var i=Vn(r,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s),c=u.slice();c[n]=o[u[n]];var l=a.locToIndex(c);i.values[s]=a.values[l]}return i.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){Yl([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),o=pr(e.shape,t,r),i=vr(o.length,t.length),a=mr(e.shape,t,r),s=gr(n,t.length),u=yr(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){Yl([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=pr(a.shape,t,r,!1),u=vr(s.length,t.length,!1),c=mr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(c)},t.prototype.pool=function(e,t,n){Yl(e,"pool");for(var r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=t.padInfo.top,l=t.padInfo.left,f="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,d=this.readSync(e.dataId),h=Vn(t.outShape,e.dtype),p=h.values,v=t.outShape[1]*t.outShape[2]*t.outShape[3],m=t.outShape[2]*t.outShape[3],g=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*v,w=y*e.strides[0],_=0;_<t.inChannels;++_)for(var x=0;x<t.outHeight;++x)for(var E=x*r-c,C=Math.max(0,E),k=Math.min(t.inHeight,s+E),S=b+x*m,T=0;T<t.outWidth;++T){for(var O=T*o-l,I=Math.max(0,O),N=Math.min(t.inWidth,u+O),R=f,A=0,P=0,D=C;D<k;D+=i){for(var M=w+D*e.strides[1],j=I;j<N;j+=a){var L=d[M+j*e.strides[2]+_];"max"===n&&L>R?R=L:"avg"===n&&(A+=L,P++)}if(isNaN(R))break}p[S+T*g+_]="avg"===n?A/P:R}return h.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=Vn(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=t.padInfo.top,l=t.padInfo.left,f=this.bufferSync(e),d=0;d<t.batchSize;++d)for(var h=0;h<t.inChannels;++h)for(var p=0;p<t.outHeight;++p){for(var v=p*r-c,m=v;m<0;)m+=i;for(var g=Math.min(t.inHeight,s+v),y=0;y<t.outWidth;++y){for(var b=y*o-l,w=b;w<0;)w+=a;for(var _=Math.min(t.inWidth,u+b),x=Number.NEGATIVE_INFINITY,E=-1,C=m;C<g;C+=i)for(var k=C-v,S=w;S<_;S+=a){var T=S-b,O=f.get(d,C,S,h);O>x&&(x=O,E=k*u+T)}n.set(E,d,p,y,h)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){Yl([t,n],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,r),i=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,l=r.effectiveFilterWidth,f=l-1-r.padInfo.left,d=c-1-r.padInfo.top,h=Vn(t.shape,"float32"),p=this.bufferSync(o),v=this.bufferSync(e),m=0;m<r.batchSize;++m)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var w=y-d,_=b-f,x=0,E=0;E<c;E+=s){var C=(w+E)/i;if(!(C<0||C>=r.outHeight||Math.floor(C)!==C))for(var k=0;k<l;k+=u){var S=(_+k)/a;if(!(S<0||S>=r.outWidth||Math.floor(S)!==S)){var T=c*l-1-p.get(m,C,S,g)===E*l+k?1:0;0!==T&&(x+=v.get(m,C,S,g)*T)}}}h.set(x,m,y,b,g)}return h.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){Yl([e,t],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,c=n.effectiveFilterHeight,l=n.effectiveFilterWidth,f=l-1-n.padInfo.left,d=c-1-n.padInfo.top,h=Vn(t.shape,"float32"),p=1/(i*a),v=this.bufferSync(e),m=0;m<n.batchSize;++m)for(var g=0;g<n.inChannels;++g)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var w=y-d,_=b-f,x=0,E=0;E<c;E+=s){var C=(w+E)/r;if(!(C<0||C>=n.outHeight||Math.floor(C)!==C))for(var k=0;k<l;k+=u){var S=(_+k)/o;S<0||S>=n.outWidth||Math.floor(S)!==S||(x+=v.get(m,C,S,g))}}h.set(x*p,m,y,b,g)}return h.toTensor()},t.prototype.pool3d=function(e,t,n){Yl(e,"pool3d");for(var r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left,v="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=this.readSync(e.dataId),g=Vn(t.outShape,e.dtype),y=g.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],_=t.outShape[3]*t.outShape[4],x=t.outShape[4],E=0;E<t.batchSize;++E)for(var C=E*b,k=E*e.strides[0],S=0;S<t.inChannels;++S)for(var T=0;T<t.outDepth;++T){for(var O=T*r-d,I=O;I<0;)I+=a;for(var N=Math.min(t.inDepth,c+O),R=C+T*w,A=0;A<t.outHeight;++A){for(var P=A*o-h,D=P;D<0;)D+=s;for(var M=Math.min(t.inHeight,l+P),j=R+A*_,L=0;L<t.outWidth;++L){for(var F=L*i-p,B=F;B<0;)B+=u;for(var U=Math.min(t.inWidth,f+F),V=j+L*x,z=v,W=0,q=0,H=I;H<N;H+=a){for(var G=k+H*e.strides[1],K=D;K<M;K+=s){for(var Y=G+K*e.strides[2],$=B;$<U;$+=u){var X=m[Y+$*e.strides[3]+S];if("max"===n&&X>z?z=X:"avg"===n&&(W+=X,q++),isNaN(z))break}if(isNaN(z))break}if(isNaN(z))break}y[V+S]="avg"===n?W/q:z}}}return g.toTensor()},t.prototype.avgPool3d=function(e,t){return Yl(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){Yl([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=n.dilationDepth,l=n.dilationHeight,f=n.dilationWidth,d=n.effectiveFilterDepth,h=n.effectiveFilterHeight,p=n.effectiveFilterWidth,v=d-1-n.padInfo.front,m=p-1-n.padInfo.left,g=h-1-n.padInfo.top,y=Vn(t.shape,"float32"),b=1/(a*s*u),w=this.bufferSync(e),_=0;_<n.batchSize;++_)for(var x=0;x<n.inChannels;++x)for(var E=0;E<n.inDepth;++E)for(var C=0;C<n.inHeight;++C)for(var k=0;k<n.inWidth;++k){for(var S=E-v,T=C-g,O=k-m,I=0,N=0;N<d;N+=c){var R=(S+N)/r;if(!(R<0||R>=n.outDepth||Math.floor(R)!==R))for(var A=0;A<h;A+=l){var P=(T+A)/o;if(!(P<0||P>=n.outHeight||Math.floor(P)!==P))for(var D=0;D<p;D+=f){var M=(O+D)/i;M<0||M>=n.outWidth||Math.floor(M)!==M||(I+=w.get(_,R,P,M,x))}}}y.set(I*b,_,E,C,k,x)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return Yl(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=Vn(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left,v=this.bufferSync(e),m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-d,w=b;w<0;)w+=a;for(var _=Math.min(t.inDepth,c+b),x=0;x<t.outHeight;++x){for(var E=x*o-h,C=E;C<0;)C+=s;for(var k=Math.min(t.inHeight,l+E),S=0;S<t.outWidth;++S){for(var T=S*i-p,O=T;O<0;)O+=u;for(var I=Math.min(t.inWidth,f+T),N=Number.NEGATIVE_INFINITY,R=-1,A=w;A<_;A+=a)for(var P=A-b,D=C;D<k;D+=s)for(var M=D-E,j=O;j<I;j+=u){var L=j-T,F=v.get(m,A,D,j,g);F>=N&&(N=F,R=P*l*f+M*l+L)}n.set(R,m,y,x,S,g)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){Yl([t,n],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(t,r),i=r.strideDepth,a=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,l=r.dilationWidth,f=r.effectiveFilterDepth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=f-1-r.padInfo.front,v=h-1-r.padInfo.left,m=d-1-r.padInfo.top,g=Vn(t.shape,"float32"),y=this.bufferSync(o),b=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var _=0;_<r.inChannels;++_)for(var x=0;x<r.inDepth;++x)for(var E=0;E<r.inHeight;++E)for(var C=0;C<r.inWidth;++C){for(var k=x-p,S=E-m,T=C-v,O=0,I=0;I<f;I+=u){var N=(k+I)/i;if(!(N<0||N>=r.outDepth||Math.floor(N)!==N))for(var R=0;R<d;R+=c){var A=(S+R)/a;if(!(A<0||A>=r.outHeight||Math.floor(A)!==A))for(var P=0;P<h;P+=l){var D=(T+P)/s;if(!(D<0||D>=r.outWidth||Math.floor(D)!==D)){var M=f*d*h-1-y.get(w,N,A,D,_)===I*d*h+R*h+P?1:0;0!==M&&(O+=b.get(w,N,A,D,_)*M)}}}}g.set(O,w,x,E,C,_)}return g.toTensor()},t.prototype.cast=function(e,t){return Jr(e,t,this)},t.prototype.reshape=function(e,t){return Zr(e,t)},t.prototype.avgPool=function(e,t){return Yl(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){Yl(e,"resizeBilinear");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],c=this.readSync(e.dataId),l=new Float32Array(O([i,t,n,u])),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0,p=f[0]/d[0],v=f[1]/d[1],m=0;m<i;m++)for(var g=0;g<t;g++)for(var y=p*g,b=Math.floor(y),w=y-b,_=Math.min(a-1,Math.ceil(y)),x=m*e.strides[0]+b*e.strides[1],E=m*e.strides[0]+_*e.strides[1],C=0;C<n;C++)for(var k=v*C,S=Math.floor(k),T=k-S,I=Math.min(s-1,Math.ceil(k)),N=x+S*e.strides[2],R=E+S*e.strides[2],A=x+I*e.strides[2],P=E+I*e.strides[2],D=0;D<u;D++){var M=c[N+D],j=c[R+D],L=M+(c[A+D]-M)*T,F=L+(j+(c[P+D]-j)*T-L)*w;l[h++]=F}return ln(l,[i,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){Yl([e,t],"resizeBilinearBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(o*i*a*s),d=[n&&c>1?i-1:i,n&&l>1?a-1:a],h=[n&&c>1?c-1:c,n&&l>1?l-1:l],p=d[0]/h[0],v=d[1]/h[1],m=this.readSync(e.dataId),g=0,y=0;y<o;y++)for(var b=y*t.strides[0],w=0;w<c;w++)for(var _=w*p,x=Math.floor(_),E=Math.min(Math.ceil(_),i-1),C=b+x*t.strides[1],k=b+E*t.strides[1],S=_-x,T=1-S,O=0;O<l;O++)for(var I=O*v,N=Math.floor(I),R=Math.min(Math.ceil(I),a-1),A=I-N,P=1-A,D=C+N*t.strides[2],M=C+R*t.strides[2],j=k+N*t.strides[2],L=k+R*t.strides[2],F=T*P,B=T*A,U=S*P,V=S*A,z=0;z<s;z++){var W=m[g++];f[D+z]+=W*F,f[M+z]+=W*B,f[j+z]+=W*U,f[L+z]+=W*V}return mn(f,[o,a,i,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){Yl(e,"resizeNearestNeighbor");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],c=this.readSync(e.dataId),l=new Float32Array(i*t*n*u),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=f[0]/d[0],p=f[1]/d[1],v=0,m=0;m<i;m++)for(var g=m*e.strides[0],y=0;y<t;y++)for(var b=h*y,w=g+Math.min(a-1,r?Math.round(b):Math.floor(b))*e.strides[1],_=0;_<n;_++)for(var x=p*_,E=w+Math.min(s-1,r?Math.round(x):Math.floor(x))*e.strides[2],C=0;C<u;C++){var k=c[E+C];l[v++]=k}return ln(l,[i,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){Yl([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(o*i*a*s),d=this.readSync(e.dataId),h=[n&&c>1?i-1:i,n&&l>1?a-1:a],p=[n&&c>1?c-1:c,n&&l>1?l-1:l],v=h[0]/p[0],m=h[1]/p[1],g=1/v,y=1/m,b=2*Math.ceil(g)+2,w=2*Math.ceil(y)+2,_=0;_<o;_++)for(var x=_*t.strides[0],E=0;E<i;E++)for(var C=x+E*t.strides[1],k=Math.floor(E*g),S=Math.floor(k-b/2),T=0;T<a;T++)for(var O=C+T*t.strides[2],I=Math.floor(T*y),N=Math.floor(I-w/2),R=0;R<s;R++){for(var A=0,P=0;P<b;P++){var D=P+S;if(!(D<0||D>=c)){var M=x+D*e.strides[1],j=D*v;if(E===Math.min(i-1,n?Math.round(j):Math.floor(j)))for(var L=0;L<w;L++){var F=L+N;if(!(F<0||F>=l)){var B=M+F*e.strides[2],U=F*m;T===Math.min(a-1,n?Math.round(U):Math.floor(U))&&(A+=d[B+R])}}}}f[O+R]=A}return mn(f,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){Yl([e,t,n,o,i],"batchNorm");for(var a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),c=o?this.readSync(o.dataId):new Float32Array([1]),l=i?this.readSync(i.dataId):new Float32Array([0]),f=new Float32Array(a.length),d=l.length,h=c.length,p=u.length,v=s.length,m=0,g=0,y=0,b=0,w=0;w<a.length;++w)f[w]=l[m++]+(a[w]-s[g++])*c[y++]/Math.sqrt(u[b++]+r),m>=d&&(m=0),g>=v&&(g=0),y>=h&&(y=0),b>=p&&(b=0);return mn(f,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){Yl(e,"localResponseNormalization4D");var i=e.shape[3],a=i-1,s=this.readSync(e.dataId),u=e.size,c=new Float32Array(u);function l(e){for(var n=e%i,r=e-n+Math.max(0,n-t),o=e-n+Math.min(n+t,a),u=0;r<=o;r++){var c=s[r];u+=c*c}return u}for(var f=0;f<u;f++){var d=l(f),h=s[f]*Math.pow(n+r*d,-o);c[f]=h}return mn(c,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){Yl(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=this.readSync(n.dataId),f=new Float32Array(e.size),d=e.size,h=0;h<d;h++){for(var p=h%s,v=h-p+Math.max(0,p-r),m=h-p+Math.min(s,p+r+1),g=0,y=v;y<m;y++)g+=Math.pow(c[y],2);for(g=i*g+o,y=v;y<m;y++){var b=-2*i*a*c[y]*l[h]/g;h===y&&(b+=Math.pow(g,-a)),b*=u[h],f[y]+=b}}return mn(f,e.shape)},t.prototype.multinomial=function(e,t,n,r){Yl(e,"multinomial");for(var o=t?e:Ar(e),i=o.shape[0],a=o.shape[1],s=yn([i,n],"int32"),u=this.readSync(s.dataId),c=this.readSync(o.dataId),l=0;l<i;++l){var f=l*a,d=new Float32Array(a-1);d[0]=c[f];for(var h=1;h<d.length;++h)d[h]=d[h-1]+c[f+h];for(var p=Ln(r.toString()),v=l*n,m=0;m<n;++m){var g=p();u[v+m]=d.length;for(var y=0;y<d.length;y++)if(g<d[y]){u[v+m]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){Yl(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(r);for(var i=this.readSync(e.dataId),a=0;a<e.size;++a)i[a]>=0&&i[a]<t&&(o[a*t+i[a]]=n);return pn(o,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return Yl(e,"nonMaxSuppression"),so(this.readSync(e.dataId),this.readSync(t.dataId),n,r,o)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],o=Vn(e.shape,"float32"),i=Vn(e.shape,"float32"),a=un(e).as2D(n,r),s=cn(e).as2D(n,r),u=0;u<n;u++)for(var c=a.slice([u,0],[1,r]),l=s.slice([u,0],[1,r]),f=sn(c,l),d=this.readSync(this.fftImpl(f,t).dataId),h=0;h<r;h++){var p=no(d,h);o.values[u*r+h]=p.real,i.values[u*r+h]=p.imag}return sn(o.toTensor(),i.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(o=sn(un(o).div(dn(r)),cn(o).div(dn(r)))),o}var i=this.readSync(e.dataId),a=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(i,r,t));return sn(a.real,a.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),o=t/2,i=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),a=sn(i.real,i.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),u=sn(s.real,s.imag).as1D();a=this.fftRadix2(a,o,n),u=this.fftRadix2(u,o,n);var c=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),o=0;o<Math.ceil(e/2);o++){var i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}(t,n),l=sn(c.real,c.imag).mul(u),f=a.add(l),d=a.sub(l),h=un(f).concat(un(d)),p=cn(f).concat(cn(d));return sn(h,p).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),o=0;o<t;o++){for(var i=0,a=0,s=0;s<t;s++){var u=oo(o*s,t,n),c=no(e,s);i+=c.real*u.real-c.imag*u.imag,a+=c.real*u.imag+c.imag*u.real}n&&(i/=t,a/=t),ro(r,i,a,o)}return r},t.prototype.depthToSpace=function(e,t,n){C("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),C(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],o=e.shape[1],i=e.shape[2],a=e.shape[3],s=o*t,u=i*t,c=a/(t*t),l=this.readSync(e.dataId),f=new Float32Array(r*s*u*c),d=0,h=0;h<r;++h)for(var p=0;p<s;++p)for(var v=Math.floor(p/t),m=p%t,g=0;g<u;++g)for(var y=Math.floor(g/t),b=(m*t+g%t)*c,w=0;w<c;++w){var _=w+b+a*(y+i*(v+o*h));f[d++]=l[_]}return mn(f,[r,s,u,c])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var o=Br(e.shape,t.shape),i=Vn(o,n),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Lr(e.shape,o),c=Lr(t.shape,o),l=i.values;if(u.length+c.length===0)for(var f=0;f<l.length;++f)l[f]=r(a[f%a.length],s[f%s.length]);else{var d=this.bufferSync(e),h=this.bufferSync(t),p=function(n){var o=i.indexToLoc(n),f=o.slice(-e.rank);u.forEach((function(e){return f[e]=0}));var p=d.locToIndex(f),v=o.slice(-t.rank);c.forEach((function(e){return v[e]=0}));var m=h.locToIndex(v);l[n]=r(a[p],s[m])};for(f=0;f<l.length;++f)p(f)}return i.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Br(e.shape,t.shape),o=Vn(r,"float32"),i=Vn(r,"float32"),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Lr(e.shape,r),c=Lr(t.shape,r),l=o.values,f=i.values;if(u.length+c.length===0)for(var d=0;d<l.length;d++){var h=d%a.length,p=d%s.length,v=n(a[2*h],a[2*h+1],s[2*p],s[2*p+1]);l[d]=v.real,f[d]=v.imag}else{var m=this.bufferSync(this.data.get(e.dataId).complexTensors.real),g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var i=o.indexToLoc(r),d=i.slice(-e.rank);u.forEach((function(e){return d[e]=0}));var h=m.locToIndex(d),p=i.slice(-t.rank);c.forEach((function(e){return p[e]=0}));var v=g.locToIndex(p),y=n(a[2*h],a[2*h+1],s[2*v],s[2*v+1]);l[r]=y.real,f[r]=y.imag};for(d=0;d<l.length;d++)y(d)}return this.complex(o.toTensor(),i.toTensor())},t.prototype.split=function(e,t,n){return po(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,o,i){for(var a=e.shape,s=a[0],u=a[1],c=a[2],l=a[3],f=t.shape[0],d=r[0],h=r[1],p=Vn([f,d,h,l],"float32"),v=this.readSync(t.dataId),m=this.readSync(n.dataId),g=this.readSync(e.dataId),y=e.strides,b=p.strides,w=0;w<f;w++){var _=4*w,x=v[_],E=v[_+1],C=v[_+2],k=v[_+3],S=m[w];if(!(S>=s))for(var T=d>1?(C-x)*(u-1)/(d-1):0,O=h>1?(k-E)*(c-1)/(h-1):0,I=0;I<d;I++){var N=d>1?x*(u-1)+I*T:.5*(x+C)*(u-1);if(N<0||N>u-1)for(var R=0;R<h;R++)for(var A=0;A<l;A++){var P=A+R*b[2]+I*b[1]+w*b[0];p.values[P]=i}else if("bilinear"===o){var D=Math.floor(N),M=Math.ceil(N),j=N-D;for(R=0;R<h;R++)if((H=h>1?E*(c-1)+R*O:.5*(E+k)*(c-1))<0||H>c-1)for(A=0;A<l;A++)P=A+R*b[2]+I*b[1]+w*b[0],p.values[P]=i;else{var L=Math.floor(H),F=Math.ceil(H),B=H-L;for(A=0;A<l;A++){var U=g[P=A+L*y[2]+D*y[1]+S*y[0]],V=g[P=A+F*y[2]+D*y[1]+S*y[0]],z=g[P=A+L*y[2]+M*y[1]+S*y[0]],W=U+(V-U)*B,q=z+(g[P=A+F*y[2]+M*y[1]+S*y[0]]-z)*B;P=A+R*b[2]+I*b[1]+w*b[0],p.values[P]=W+(q-W)*j}}}else for(R=0;R<h;++R){var H;if((H=h>1?E*(c-1)+R*O:.5*(E+k)*(c-1))<0||H>c-1)for(A=0;A<l;A++)P=A+R*b[2]+I*b[1]+w*b[0],p.values[P]=i;else{var G=Math.round(H),K=Math.round(N);for(A=0;A<l;A++){var Y=A+G*y[2]+K*y[1]+S*y[0],$=A+R*b[2]+I*b[1]+w*b[0];p.values[$]=g[Y]}}}}}return p.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var o=Er(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.sliceSize,u=o.strides,c=o.outputSize;return this.scatter(e,t,n,c,s,a,i,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=br(e,t),i=o[0],a=o[1],s=o[2],u=o[3];if(0===a)return ln([],i,e.dtype);for(var c=new ve([a,s],e.dtype),l=this.readSync(t.dataId),f=this.readSync(e.dataId),d=0;d<a;d++){for(var h=[],p=0,v=0;v<r;v++){var m=l[d*r+v];p+=m*u[v],h.push(m)}if(p<0||p>=e.size/s)throw new Error("Invalid indices: "+h+" does not index into "+e.shape);for(var g=0;g<s;g++)c.values[d*s+g]=f[p*s+g]}return c.toTensor().reshape(i)},t.prototype.scatterND=function(e,t,n){var r=Er(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=dn(0);return this.scatter(e,t,n,u,a,i,o,s,c,!0)},t.prototype.fill=function(e,t,n){var r=B(n=n||$(t),O(e));return r.fill(t),je.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=B(e.dtype,O(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return eo(e,t,n)},t.prototype.scatter=function(e,t,n,r,o,i,a,s,u,c){var l=[r/o,o],f=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return ln([],n,t.dtype);var h=new ve(l,t.dtype);h.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<i;p++){for(var v=[],m=0,g=0;g<a;g++){var y=f[p*a+g];v.push(y),m+=y*s[g]}if(m<0||m>=r/o)throw new Error("Invalid indices: "+v+" does not index into "+n);for(var b=0;b<o;b++)c?h.values[m*o+b]+=d[p*o+b]:h.values[m*o+b]=0===t.rank?d[0]:d[p*o+b]}return h.toTensor().reshape(n)},t}(Mr);je.registerBackend("cpu",(function(){return new Xl}),1);for(var Ql=0,Jl=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n;Yl(i,"NonMaxSuppressionWithScore");var h=uo(d.data.get(i.dataId).values,d.data.get(a.dataId).values,u,c,l,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;Yl(r,"square");for(var i=o.data.get(r.dataId).values,a=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];a[s]=u*u}return{dataId:o.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:cs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n;Yl([o,i],cs);var s=a.data.get(o.dataId).values,u=a.data.get(i.dataId).values,c=function(e,t,n,r,o,i){var a=Br(e,t),s=a.length,u=J(a),c=F(o,O(a)),l=e.length,f=t.length,d=J(e),h=J(t),p=Lr(e,a),v=Lr(t,a);if(p.length+v.length===0)for(var m=0;m<c.length;++m)c[m]=i(n[m%n.length],r[m%r.length]);else{var g=function(e){var t=ue(e,s,u),o=t.slice(-l);p.forEach((function(e){return o[e]=0}));var a=se(o,l,d),m=t.slice(-f);v.forEach((function(e){return m[e]=0}));var g=se(m,f,h);c[e]=i(n[a],r[g])};for(m=0;m<c.length;++m)g(m)}return[c,a]}(o.shape,i.shape,s,u,o.dtype,(function(e,t){var n=e-t;return n*n})),l=c[0],f=c[1];return{dataId:a.write(l,f,o.dtype),shape:f,dtype:o.dtype}}}];Ql<Jl.length;Ql++)g(Jl[Ql]);for(var Zl,ef=function(e){this.variableNames=["A"];var t=Eo(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},tf=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=Eo(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},nf=0,rf=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,i=r.numChannels,a="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,u=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=u[0],l=u[1],d=[l,c],h=[l,c,i];(s||a)&&(null==Zl&&(Zl=document.createElement("canvas").getContext("2d")),Zl.canvas.width=c,Zl.canvas.height=l,Zl.drawImage(o,0,0,c,l),o=Zl.canvas);var p=n.makeTensorInfo(d,"int32");n.texData.get(p.dataId).usage=Ue.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),o);var v=f().getBool("WEBGL_PACK")?new tf(h):new ef(h),m=n.runWebGLProgram(v,[p],"int32");return n.disposeData(p.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;qt("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n,h=uo(d.readSync(i.dataId),d.readSync(a.dataId),u,c,l,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,i=new Pa(r.shape,"return x * x;");return o.runWebGLProgram(i,[r],r.dtype)}},{kernelName:cs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n,s=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qo("return (a - b) * (a - b);",o.shape,i.shape):new $o("return (a - b) * (a - b);",o.shape,i.shape);return a.compileAndRun(s,[o,i])}}];nf<rf.length;nf++)g(rf[nf]);for(var of=0,af=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:cs,gradFunc:function(e,t){var n=t[0],r=t[1],o=dn(2);return{a:function(){return ku(e,ku(o,Nu(n,r)))},b:function(){return ku(e,ku(o,Nu(r,n)))}}}}];of<af.length;of++)y(af[of]);var sf=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();f().get("IS_BROWSER")&&f().setPlatform("browser",new sf);var uf,cf=function(){function e(){this.util=n(163),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=f().global.fetch?f().global.fetch(e,t):(null==uf&&(uf=n(162)),uf(e,t))},e.prototype.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();f().get("IS_NODE")&&f().setPlatform("node",new cf);var lf={float32:4,int32:4,uint16:2,uint8:1,bool:1},ff=4;function df(e,t){for(var n={},r=0,o=function(t){var o=t.name,i=t.dtype,a=t.shape,s=O(a),u=void 0;if("quantization"in t){var c=t.quantization;if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+c.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var l=lf[c.dtype],f=e.slice(r,r+s*l),d="uint8"===c.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===i)u=Float32Array.from(d,(function(e){return e*c.scale+c.min}));else{if("int32"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=Int32Array.from(d,(function(e){return Math.round(e*c.scale+c.min)}))}r+=s*l}else if("string"===i){var h=O(t.shape);u=[];for(var p=0;p<h;p++){var v=new Uint32Array(e.slice(r,r+ff))[0];r+=ff;var m=new Uint8Array(e.slice(r,r+v));u.push(m),r+=v}}else{var g=lf[i];if(f=e.slice(r,r+s*g),"float32"===i)u=new Float32Array(f);else if("int32"===i)u=new Int32Array(f);else{if("bool"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=new Uint8Array(f)}r+=s*g}n[o]=ln(u,a,i)},i=0,a=t;i<a.length;i++)o(a[i]);return n}function hf(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),o=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}var pf="undefined"!=typeof o&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function vf(e){return pf?o.byteLength(e):new Blob([e]).size}function mf(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function gf(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function yf(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:vf(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:vf(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var bf=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&o.push(n)})),o},e}(),wf="://",_f=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){C(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(wf)&&(t=t.slice(0,t.indexOf(wf))),C(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();C(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function xf(e){if(-1===e.indexOf(wf))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+_f.getSchemes().join(","));return{scheme:e.split(wf)[0],path:e.split(wf)[1]}}function Ef(e,t,n){return void 0===n&&(n=!1),u(this,void 0,void 0,(function(){var r,o,i,a,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return C(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),C((r=bf.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),C(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),o=r[0],C((i=bf.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),C(i.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),a=i[0],s=xf(e).scheme,u=xf(e).path,l=s===xf(e).scheme,[4,o.load()];case 1:return f=c.sent(),n&&l?[4,_f.getManager(s).removeModel(u)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,a.save(f)];case 4:return d=c.sent(),!n||l?[3,6]:[4,_f.getManager(s).removeModel(u)];case 5:c.sent(),c.label=6;case 6:return[2,d.modelArtifactsInfo]}}))}))}var Cf="models_store",kf="model_info_store";function Sf(){if(!f().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Tf(e){var t=e.result;t.createObjectStore(Cf,{keyPath:"modelPath"}),t.createObjectStore(kf,{keyPath:"modelPath"})}var Of=function(){function e(e){if(this.indexedDB=Sf(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Tf(o)},o.onsuccess=function(){var i=o.result;if(null==t){var a=i.transaction(Cf,"readonly"),s=a.objectStore(Cf).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},a.oncomplete=function(){return i.close()}}else{var u,c=yf(t),l=i.transaction(kf,"readwrite"),f=l.objectStore(kf),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var o=(u=i.transaction(Cf,"readwrite")).objectStore(Cf).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});o.onsuccess=function(){return e({modelArtifactsInfo:c})},o.onerror=function(e){var t=(f=l.objectStore(kf)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(o.error)},t.onerror=function(e){return i.close(),r(o.error)}}},d.onerror=function(e){return i.close(),r(d.error)},l.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close()}}}},o.onerror=function(e){return r(o.error)}}))},e.URL_SCHEME="indexeddb://",e}(),If=function(e){return f().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Of.URL_SCHEME)?(t=e.slice(Of.URL_SCHEME.length),new Of(t)):null;var t};bf.registerSaveRouter(If),bf.registerLoadRouter(If);var Nf=function(){function e(){this.indexedDB=Sf()}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return Tf(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(kf,"readonly"),i=o.objectStore(kf).getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),n(i.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){var r;return e=(r=e).startsWith(Of.URL_SCHEME)?r.slice(Of.URL_SCHEME.length):r,[2,new Promise((function(n,r){var o=t.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Tf(o)},o.onsuccess=function(){var t,i=o.result,a=i.transaction(kf,"readwrite"),s=a.objectStore(kf),u=s.get(e);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),a=function(){var o=(t=i.transaction(Cf,"readwrite")).objectStore(Cf).delete(e);o.onsuccess=function(){return n(u.result.modelArtifactsInfo)},o.onerror=function(e){return r(u.error)}};o.onsuccess=a,o.onerror=function(e){return a(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},a.oncomplete=function(){null==t?i.close():t.oncomplete=function(){return i.close()}}},o.onerror=function(e){return r(o.error)}}))]}))}))},e}();if(f().getBool("IS_BROWSER"))try{_f.registerManager(Of.URL_SCHEME,new Nf)}catch(ke){}var Rf="/",Af="tensorflowjs_models",Pf="info",Df="model_topology",Mf="weight_specs",jf="weight_data",Lf="model_metadata";function Ff(e){return{info:[Af,e,Pf].join(Rf),topology:[Af,e,Df].join(Rf),weightSpecs:[Af,e,Mf].join(Rf),weightData:[Af,e,jf].join(Rf),modelMetadata:[Af,e,Lf].join(Rf)}}function Bf(e){var t=e.split(Rf);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Rf)}var Uf=function(){function e(e){if(!f().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Ff(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=yf(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(pf)return o.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,s;return c(this,(function(u){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(i),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(pf){var t=o.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(s),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),Vf=function(e){return f().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Uf.URL_SCHEME)?(t=e.slice(Uf.URL_SCHEME.length),new Uf(t)):null;var t};bf.registerSaveRouter(Vf),bf.registerLoadRouter(Vf);var zf=function(){function e(){C(f().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),C("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,o,i;return c(this,(function(a){for(e={},t=Af+Rf,n=Rf+Pf,r=0;r<this.LS.length;++r)(o=this.LS.key(r)).startsWith(t)&&o.endsWith(n)&&(i=Bf(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){var o;if(e=(o=e).startsWith(Uf.URL_SCHEME)?o.slice(Uf.URL_SCHEME.length):o,t=Ff(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(f().getBool("IS_BROWSER"))try{_f.registerManager(Uf.URL_SCHEME,new zf)}catch(ke){}function Wf(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var qf=function(){function e(t){if(!f().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a;return c(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,[4,Wf((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=t,[4,Wf((function(){return a.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:yf(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),Hf=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n=this;return c(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,o){var i=new FileReader;i.onload=function(i){var a=JSON.parse(i.target.result),s=a.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,t)}catch(e){return void o(e)}var l=[],f=[],d=[];u.forEach((function(e){e.paths.forEach((function(e){f.push(e),d.push(null)})),l.push.apply(l,e.weights)})),u.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=f.indexOf(e);d[o]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:mf(d),format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,userDefinedMetadata:a.userDefinedMetadata})},t.onerror=function(t){return o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(c[e])}))}))}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},i.onerror=function(t){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},i.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return gf(e.name)})),o={},i=0,a=e;i<a.length;i++)a[i].paths.forEach((function(e){var i=gf(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: '"+i+"'");if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '"+i+"' is not provided.");o[e]=t[r.indexOf(i)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},e}();function Gf(e,t,n,r){!function(e){C(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){C(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),C(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),C(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(e.map((function(i){return i.then((function(i){var a=n+ ++o/e.length*(r-n);return t(a),i})),i})))}function Kf(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,d;return c(this,(function(c){switch(c.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?f().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),o=0,i=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return a=c.sent(),[3,4];case 2:return[4,Gf(r,t.onProgress,o,i)];case 3:a=c.sent(),c.label=4;case 4:return s=a.map((function(e){return e.arrayBuffer()})),u=.5,l=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return d=c.sent(),[3,8];case 6:return[4,Gf(s,t.onProgress,u,l)];case 7:d=c.sent(),c.label=8;case 8:return[2,d]}}))}))}function Yf(e){var t=this;return function(n,r,o){return void 0===r&&(r=""),u(t,void 0,void 0,(function(){var t,i,a,s,u,l,f,d,h,p;return c(this,(function(c){switch(c.label){case 0:if(t=n.map((function(){return!1})),i={},a=null!=o?o.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,c=lf[u]*O(e.shape),l=function(){t[n]=!0,null==i[n]&&(i[n]=[]),i[n].push({manifestEntry:e,groupOffset:r,sizeBytes:c})};null!=o?o.forEach((function(t,n){t===e.name&&(l(),a[n]=!0)})):l(),s.push(e.name),r+=c}))})),!a.every((function(e){return e})))throw u=o.filter((function(e,t){return!a[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return l=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),[4,e(f)];case 1:return d=c.sent(),h={},p=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,o=0;o<t;o++)r+=d[p+o].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,c=0;c<t;c++){var l=new Uint8Array(d[p+c]);s.set(l,u),u+=l.byteLength}i[e].forEach((function(e){var t=df(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]})),p+=t})),[2,h]}}))}))}}bf.registerSaveRouter((function(e){return f().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(qf.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new qf(e)}(e.slice(qf.URL_SCHEME.length)):null}));var $f=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(C("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=f().platform.fetch,C(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&C(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o;return c(this,(function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:yf(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=c.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");c.label=2;case 2:return c.trys.push([2,4,,5]),[4,e.json()];case 3:return t=c.sent(),[3,5];case 4:throw c.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,o=t.weightsManifest,i=t.generatedBy,a=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==o)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==o?[3,7]:[4,this.loadWeights(o)];case 6:d=c.sent(),l=d[0],f=d[1],c.label=7;case 7:return[2,{modelTopology:r,weightSpecs:l,weightData:f,userDefinedMetadata:u,generatedBy:i,convertedBy:a,format:s}]}}))}))},e.prototype.loadWeights=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],o=n[1],i=this.weightPathPrefix||r,a=[],s=0,u=e;s<u.length;s++)l=u[s],a.push.apply(a,l.weights);return f=[],e.forEach((function(e){e.paths.forEach((function(e){f.push(i+e+o)}))})),[4,Kf(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=c.sent(),[2,[a,mf(d)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function Xf(e){return null!=e.match($f.URL_SCHEME_REGEX)}var Qf=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return Xf(e)})):Xf(e))?Jf(e,{onProgress:t}):null};function Jf(e,t){return new $f(e,t)}bf.registerSaveRouter(Qf),bf.registerLoadRouter(Qf);var Zf,ed=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),td=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),nd=Object.freeze({browserFiles:function(e){return new Hf(e)},browserHTTPRequest:function(e,t){return Jf(e,t)},concatenateArrayBuffers:mf,decodeWeights:df,encodeWeights:function(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s=this;return c(this,(function(l){switch(l.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),i=function(i){var a=o[i],l=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+a+"': "+l.dtype);var f={name:a,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var d=new Promise((function(e){return u(s,void 0,void 0,(function(){var t,n,r,o,i,a,s;return c(this,(function(u){switch(u.label){case 0:return[4,l.bytes()];case 1:for(t=u.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+ff*t.length,r=new Uint8Array(n),o=0,i=0;i<t.length;i++)a=t[i],s=new Uint8Array(new Uint32Array([a.length]).buffer),r.set(s,o),o+=ff,r.set(a,o),o+=a.length;return e(r),[2]}}))}))}));r.push(d)}else r.push(l.data());null!=t&&(f.group=t),n.push(f)},a=0;a<o.length;++a)i(a);return[4,Promise.all(r)];case 1:return[2,{data:hf(l.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new ed(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ed({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ed({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return bf.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:yf,getSaveHandlers:function(e){return bf.getSaveHandlers(e)},http:Jf,isHTTPScheme:Xf,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),u(this,void 0,void 0,(function(){return c(this,(function(o){return[2,Yf((function(e){return Kf(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return bf.registerLoadRouter(e)},registerSaveRouter:function(e){return bf.registerSaveRouter(e)},weightsLoaderFactory:Yf,withSaveHandler:function(e){return new td(e)},copyModel:function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,Ef(e,t,!1)]}))}))},listModels:function(){return u(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return c(this,(function(s){switch(s.label){case 0:e=_f.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,_f.getManager(o).listModels()]):[3,4];case 2:for(a in i=s.sent())t[o+wf+a]=i[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,Ef(e,t,!0)]}))}))},removeModel:function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return t=xf(e),[2,_f.getManager(t.scheme).removeModel(t.path)]}))}))}}),rd=an({confusionMatrix_:function(e,t,n){var r=Kt(e,"labels","confusionMatrix"),o=Kt(t,"predictions","confusionMatrix");C(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),C(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),C(1===o.rank,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),C(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),C(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var i=Qn(r.asType("int32"),n),a=Qn(o.asType("int32"),n);return i.transpose().matMul(a).asType("int32")}}),od=(Object.freeze({confusionMatrix:rd}),an({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=v("FromPixels",je.backendName))return je.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,c=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=c[0],f=c[1];if(a?s=e.getContext("2d").getImageData(0,0,l,f).data:r||n?s=e.data:(i||o)&&(null==Zf&&(Zf=document.createElement("canvas").getContext("2d")),Zf.canvas.width=l,Zf.canvas.height=f,Zf.drawImage(e,0,0,l,f),s=Zf.getImageData(0,0,l,f).data),4===t)u=new Int32Array(s);else{var d=l*f;u=new Int32Array(d*t);for(var h=0;h<d;h++)for(var p=0;p<t;++p)u[h*t+p]=s[4*h+p]}return vn(u,[f,l,t],"int32")}})),id=Object.freeze({toPixels:function(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,f,d,h,p,v,m,g,y,b,w,_,x,E,C,k;return c(this,(function(c){switch(c.label){case 0:if(n=Kt(e,"img","toPixels"),e instanceof be||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],i=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return s=c.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(f=c.sent(),d=f[0],h=f[1],p=d[0],v=h[0],u.dispose(),l.dispose(),"float32"===n.dtype){if(p<0||v>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+v+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(p<0||v>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+v+"].")}for(m="float32"===n.dtype?255:1,g=new Uint8ClampedArray(i*o*4),y=0;y<o*i;++y)b=void 0,w=void 0,_=void 0,x=void 0,1===a?(b=s[y]*m,w=s[y]*m,_=s[y]*m,x=255):3===a?(b=s[3*y]*m,w=s[3*y+1]*m,_=s[3*y+2]*m,x=255):4===a&&(b=s[4*y]*m,w=s[4*y+1]*m,_=s[4*y+2]*m,x=s[4*y+3]*m),g[0+(E=4*y)]=Math.round(b),g[E+1]=Math.round(w),g[E+2]=Math.round(_),g[E+3]=Math.round(x);return null!=t&&(t.width=i,t.height=o,C=t.getContext("2d"),k=new ImageData(g,i,o),C.putImageData(k,0,0)),n!==e&&n.dispose(),[2,g]}}))}))},fromPixels:od}),ad=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),sd=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function ud(e){C(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),C("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),C(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),sd.register(e)}Object.freeze({Serializable:ad,SerializationMap:sd,registerClass:ud});function cd(){return 32===je.backend.floatPrecision()?.001:.1}function ld(e,t,n){var r=!0;if((W(e)||W(t))&&(r=!1),W(e)&&W(t)&&(r=!0),r){var o=e.constructor.name,i=t.constructor.name;if(o!==i)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+i)}if(Array.isArray(e)&&Array.isArray(t)){var a=Ht(e),s=Ht(t);if(!I(a,s))throw new Error("Arrays have different shapes. Actual: ["+a+"]. Expected: ["+s+"]")}var u=W(e)?e:T(e),c=W(t)?t:T(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+c.length+".\nActual:   "+u+".\nExpected: "+c+".");for(var l=0;l<c.length;++l){var f=u[l],d=c[l];if(!n(f,d))throw new Error("Arrays differ: actual["+l+"] = "+f+", expected["+l+"] = "+d+".\nActual:   "+u+".\nExpected: "+c+".")}}function fd(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=cd()),ld(e,t,(function(e,t){return fd(e,t,n)}))},testEpsilon:cd,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return G(e)||G(e[0])||G(t)||G(t[0])?ld(e,n,(function(e,t){return e==t})):ld(e,t,(function(e,t){return fd(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=cd()),!fd(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:Gi,webgl_util:Bt,forceHalfFloat:function(){f().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:ss,setWebGLContext:qe,GPGPUContext:Ki});var dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,i=r.grads;if(null!=n){var a=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(a)}else this.applyGradients(i);return Wt(i),t?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){C(X(e),(function(){return"The f passed in variableGrads(f) must be a function"})),C(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Se})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],je.registeredVariables)t.push(je.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,i=t.length;C((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."}));var a=je.gradients(e,t,null,!0),s=a.value,u=a.grads;C(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),C(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var c={};return t.forEach((function(e,t){null!=u[t]&&(c[e.name]=u[t])})),null!=o&&o.forEach((function(e){return c[e.name]=null})),{value:s,grads:c}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&Wt(this.iterations_)},t.prototype.saveIterations=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:dn(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(ad);Object.defineProperty(dd,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var hd=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=je.backend.epsilon()),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=je.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:zt((function(){return xn(o).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:zt((function(){return xn(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;zt((function(){var e=a.mul(t.rho).add(i.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(a.add(t.epsilon).sqrt()).mul(i),r=s.mul(t.rho).add(n.square().mul(1-t.rho));a.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(o);o.assign(u)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Wt(this.accumulatedGrads.map((function(e){return e.variable}))),Wt(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(dd);ud(hd);var pd=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=je.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:zt((function(){return bn(o.shape,t.initialAccumulatorValue).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable;zt((function(){var e=a.add(i.square());a.assign(e);var n=i.div(e.add(je.backend.epsilon()).sqrt()).mul(-t.learningRate).add(o);o.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&Wt(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(dd);ud(pd);var vd=function(e){function t(t,n,r,o){void 0===o&&(o=null);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],zt((function(){i.accBeta1=dn(n).variable(),i.accBeta2=dn(r).variable()})),null==o&&(i.epsilon=je.backend.epsilon()),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);zt((function(){var r=Nu(1,t.accBeta1),o=Nu(1,t.accBeta2);n.forEach((function(n,i){var a=je.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:zt((function(){return xn(a).variable(!1)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:n+"/v",variable:zt((function(){return xn(a).variable(!1)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedSecondMoment[i].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=l.div(r),h=f.div(o);u.assign(l),c.assign(f);var p=d.div(h.sqrt().add(t.epsilon)).mul(-t.learningRate).add(a);a.assign(p)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Wt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Wt(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),zt((function(){n.accBeta1.assign(Tu(n.beta1,n.iterations_+1)),n.accBeta2.assign(Tu(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(dd);ud(vd);var md=function(e){function t(t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=0);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=o,a.decay=i,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],zt((function(){a.iteration=dn(0).variable(),a.accBeta1=dn(n).variable()})),null==o&&(a.epsilon=je.backend.epsilon()),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);zt((function(){var r=Nu(1,t.accBeta1),o=vu(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,i){var a=je.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:xn(a).variable(!1)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:n+"/v",variable:xn(a).variable(!1)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedWeightedInfNorm[i].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2),d=s.abs(),h=f.maximum(d);u.assign(l),c.assign(h);var p=o.div(r).mul(l.div(h.add(t.epsilon))).add(a);a.assign(p)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Wt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Wt(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(dd);ud(md);var gd=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=je.registeredVariables[n];zt((function(){var e=t.c.mul(o).add(i);i.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return je.keep(e)}(dn(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(dd);ud(gd);var yd=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=dn(o.momentum),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=je.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:zt((function(){return xn(o).variable(!1)}))});var i=t.accumulations[r].variable,a=Array.isArray(e)?e[r].tensor:e[n];null!=a&&zt((function(){var e,n=t.m.mul(i).add(a);e=t.useNesterov?t.c.mul(a.add(n.mul(t.m))).add(o):t.c.mul(n).add(o),i.assign(n),o.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Wt(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(gd);ud(yd);var bd=function(e){function t(t,n,r,o,i){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===i&&(i=!1);var a=e.call(this)||this;if(a.learningRate=t,a.decay=n,a.momentum=r,a.epsilon=o,a.accumulatedMeanSquares=[],a.accumulatedMoments=[],a.accumulatedMeanGrads=[],a.centered=i,null==o&&(a.epsilon=je.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return a}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=je.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:zt((function(){return xn(o).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:zt((function(){return xn(o).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:zt((function(){return xn(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;zt((function(){var e=a.mul(t.decay).add(i.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(i.mul(1-t.decay)),c=s.mul(t.momentum).add(i.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));a.assign(e),n.assign(u),s.assign(c);var l=o.sub(c);o.assign(l)}else{var f=a.mul(t.decay).add(i.square().mul(1-t.decay));c=s.mul(t.momentum).add(i.mul(t.learningRate).div(f.add(t.epsilon).sqrt())),a.assign(f),s.assign(c),l=o.sub(c),o.assign(l)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Wt(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Wt(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Wt(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(dd);ud(bd);var wd=function(){function e(){}return e.sgd=function(e){return new gd(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new yd(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new bd(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new vd(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new hd(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new md(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new pd(e,t)},e}();wd.sgd,wd.momentum,wd.adadelta,wd.adagrad,wd.rmsprop,wd.adamax,wd.adam,"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame;be.prototype.squaredDifference=function(e){return ls(this,e)},ge=Kl}).call(this,n(38),n(66),n(107).Buffer,n(159).setImmediate)},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"CONSTANTS",(function(){return o})),n.d(t,"Deferred",(function(){return p})),n.d(t,"ErrorFactory",(function(){return A})),n.d(t,"FirebaseError",(function(){return R})),n.d(t,"MAX_VALUE_MILLIS",(function(){return le})),n.d(t,"RANDOM_FACTOR",(function(){return fe})),n.d(t,"Sha1",(function(){return X})),n.d(t,"areCookiesEnabled",(function(){return I})),n.d(t,"assert",(function(){return i})),n.d(t,"assertionError",(function(){return a})),n.d(t,"async",(function(){return Z})),n.d(t,"base64",(function(){return u})),n.d(t,"base64Decode",(function(){return f})),n.d(t,"base64Encode",(function(){return c})),n.d(t,"base64urlEncodeWithoutPadding",(function(){return l})),n.d(t,"calculateBackoffMillis",(function(){return de})),n.d(t,"contains",(function(){return V})),n.d(t,"createMockUserToken",(function(){return v})),n.d(t,"createSubscribe",(function(){return Q})),n.d(t,"decode",(function(){return j})),n.d(t,"deepCopy",(function(){return d})),n.d(t,"deepEqual",(function(){return H})),n.d(t,"deepExtend",(function(){return h})),n.d(t,"errorPrefix",(function(){return ne})),n.d(t,"extractQuerystring",(function(){return $})),n.d(t,"getGlobal",(function(){return N})),n.d(t,"getModularInstance",(function(){return pe})),n.d(t,"getUA",(function(){return m})),n.d(t,"isAdmin",(function(){return U})),n.d(t,"isBrowser",(function(){return b})),n.d(t,"isBrowserExtension",(function(){return w})),n.d(t,"isElectron",(function(){return x})),n.d(t,"isEmpty",(function(){return W})),n.d(t,"isIE",(function(){return E})),n.d(t,"isIndexedDBAvailable",(function(){return T})),n.d(t,"isMobileCordova",(function(){return g})),n.d(t,"isNode",(function(){return y})),n.d(t,"isNodeSdk",(function(){return k})),n.d(t,"isReactNative",(function(){return _})),n.d(t,"isSafari",(function(){return S})),n.d(t,"isUWP",(function(){return C})),n.d(t,"isValidFormat",(function(){return B})),n.d(t,"isValidTimestamp",(function(){return L})),n.d(t,"issuedAtTime",(function(){return F})),n.d(t,"jsonEval",(function(){return D})),n.d(t,"map",(function(){return q})),n.d(t,"ordinal",(function(){return he})),n.d(t,"querystring",(function(){return K})),n.d(t,"querystringDecode",(function(){return Y})),n.d(t,"safeGet",(function(){return z})),n.d(t,"stringLength",(function(){return se})),n.d(t,"stringToByteArray",(function(){return ae})),n.d(t,"stringify",(function(){return M})),n.d(t,"validateArgCount",(function(){return te})),n.d(t,"validateCallback",(function(){return oe})),n.d(t,"validateContextObject",(function(){return ie})),n.d(t,"validateIndexedDBOpenable",(function(){return O})),n.d(t,"validateNamespace",(function(){return re}));var r=n(98),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,u=o+2<e.length,c=u?e[o+2]:0,l=i>>2,f=(3&i)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{i=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,u=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();var c=i<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},f=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",o=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function b(){return"object"===typeof self&&self.self===self}function w(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){return m().indexOf("Electron/")>=0}function E(){var e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return m().indexOf("MSAppHost/")>=0}function k(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function S(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){return"indexedDB"in self&&null!=indexedDB}function O(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}}))}function I(){return!(!navigator||!navigator.cookieEnabled)}function N(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}var R=function(e){function t(n,r,o){var i=e.call(this,r)||this;return i.code=n,i.customData=o,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,A.prototype.create),i}return Object(r.b)(t,e),t}(Error),A=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],a=i?function(e,t){return e.replace(P,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(i,r):"Error",s=this.serviceName+": "+a+" ("+o+").";return new R(o,s,r)},e}();var P=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var j=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=D(f(i[0])||""),n=D(f(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:o}},L=function(e){var t=j(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),o=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},F=function(e){var t=j(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},B=function(e){var t=j(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},U=function(e){var t=j(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function W(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function q(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function H(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),o=0,i=n;o<i.length;o++){var a=i[o];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(G(s)&&G(u)){if(!H(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function G(e){return null!==e&&"object"===typeof e}function K(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,o=Object.entries(e);r<o.length;r++){var i=o[r];n(i[0],i[1])}return t.length?"&"+t.join("&"):""}function Y(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],o=n[1];t[decodeURIComponent(r)]=decodeURIComponent(o)}})),t}function $(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var X=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^u&(c^l),a=1518500249):(i=u^c^l,a=1859775393):r<60?(i=u&c|l&(u|c),a=2400959708):(i=u^c^l,a=3395469782);o=(s<<5|s>>>27)+i+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}();function Q(e,t){var n=new J(e,t);return n.subscribe.bind(n)}var J=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"===typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Z(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ee(){}var te=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")};function ne(e,t){return e+" failed: "+t+" argument "}function re(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ne(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ne(e,t)+"must be a valid function.")}function ie(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ne(e,t)+"must be a valid context object.")}var ae=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ue=1e3,ce=2,le=144e5,fe=.5;function de(e,t,n){void 0===t&&(t=ue),void 0===n&&(n=ce);var r=t*Math.pow(n,e),o=Math.round(fe*r*(Math.random()-.5)*2);return Math.min(le,r+o)}function he(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);var t=e%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function pe(e){return e&&e._delegate?e._delegate:e}}.call(this,n(38))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function s(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError},function(e,t,n){"use strict";e.exports=n(147)},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r,o=n(78),i=Object.prototype.toString,a=Object.getPrototypeOf,s=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())}),u=function(e){return e=e.toLowerCase(),function(t){return s(t)===e}},c=function(e){return function(t){return typeof t===e}},l=Array.isArray,f=c("undefined");var d=u("ArrayBuffer");var h=c("string"),p=c("function"),v=c("number"),m=function(e){return null!==e&&"object"===typeof e},g=function(e){if("object"!==s(e))return!1;var t=a(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y=u("Date"),b=u("File"),w=u("Blob"),_=u("FileList"),x=u("URLSearchParams");function E(e,t){var n,r,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,i=void 0!==o&&o;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var a,s=i?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)a=s[n],t.call(null,e[a],a,e)}}function C(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),o=r.length;o-- >0;)if(t===(n=r[o]).toLowerCase())return n;return null}var k="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:e,S=function(e){return!f(e)&&e!==k};var T,O=(T="undefined"!==typeof Uint8Array&&a(Uint8Array),function(e){return T&&e instanceof T}),I=u("HTMLFormElement"),N=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),R=u("RegExp"),A=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};E(n,(function(n,o){!1!==t(n,o,e)&&(r[o]=n)})),Object.defineProperties(e,r)},P="abcdefghijklmnopqrstuvwxyz",D="0123456789",M={DIGIT:D,ALPHA:P,ALPHA_DIGIT:P+P.toUpperCase()+D};var j=u("AsyncFunction");t.a={isArray:l,isArrayBuffer:d,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||p(e.append)&&("formdata"===(t=s(e))||"object"===t&&p(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer)},isString:h,isNumber:v,isBoolean:function(e){return!0===e||!1===e},isObject:m,isPlainObject:g,isUndefined:f,isDate:y,isFile:b,isBlob:w,isRegExp:R,isFunction:p,isStream:function(e){return m(e)&&p(e.pipe)},isURLSearchParams:x,isTypedArray:O,isFileList:_,forEach:E,merge:function e(){for(var t=(S(this)&&this||{}).caseless,n={},r=function(r,o){var i=t&&C(n,o)||o;g(n[i])&&g(r)?n[i]=e(n[i],r):g(r)?n[i]=e({},r):l(r)?n[i]=r.slice():n[i]=r},o=0,i=arguments.length;o<i;o++)arguments[o]&&E(arguments[o],r);return n},extend:function(e,t,n){return E(t,(function(t,r){n&&p(t)?e[r]=Object(o.a)(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var o,i,s,u={};if(t=t||{},null==e)return t;do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)s=o[i],r&&!r(s,e,t)||u[s]||(t[s]=e[s],u[s]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:u,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(l(e))return e;var t=e.length;if(!v(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var o=n.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:I,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:A,freezeMethods:function(e){A(e,(function(t,n){if(p(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];p(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return l(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:C,global:k,isContextDefined:S,ALPHABET:M,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&p(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(m(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var o=l(n)?[]:{};return E(n,(function(t,n){var i=e(t,r+1);!f(i)&&(o[n]=i)})),t[r]=void 0,o}}return n}(e,0)},isAsyncFn:j,isThenable:function(e){return e&&(m(e)||p(e))&&p(e.then)&&p(e.catch)}}}).call(this,n(38))},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11);function o(e,t){if(null==e)return{};var n,o,i=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";n.r(t),n.d(t,"firebase",(function(){return E}));var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o,i,a=n(4),s=n(25),u=n(24),c=((o={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",o["bad-app-name"]="Illegal App name: '{$appName}",o["duplicate-app"]="Firebase App named '{$appName}' already exists",o["app-deleted"]="Firebase App named '{$appName}' already deleted",o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",o["invalid-log-argument"]="First argument to `onLog` must be null or a function.",o),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",d="[DEFAULT]",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=d),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m="8.10.0";var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),"object"===typeof o&&null!==o||(o={name:o});var i=o;void 0===i.name&&(i.name=d);var s=i.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,i,r);return t[s]=u,u},app:o,registerVersion:function(e,t,n){var r,o=null!==(r=h[e])&&void 0!==r?r:e;n&&(o+="-"+n);var a=o.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+o+'" with version "'+t+'":'];return a&&c.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}i(new s.Component(o+"-version",(function(){return{library:o,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:m,INTERNAL:{registerComponent:i,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function o(e){if(e=e||d,!Object(a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function i(i){var s=i.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===i.type?r[s]:null;if(n.set(s,i),"PUBLIC"===i.type){var u=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==i.serviceProps&&Object(a.deepExtend)(u,i.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,i.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var d=f[c];t[d]._addComponent(i)}return"PUBLIC"===i.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var w=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),w.apply(void 0,e)};var _,x,E=g;(_=E).INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new y(e)}),"PRIVATE")),_.registerVersion(f,"0.6.30",x),_.registerVersion("fire-js","");t.default=E},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError},function(e,t,n){"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},function(e,t,n){e.exports=n(149)()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(8);var r=n(1),o=n.n(r),i=o.a.createContext({});i.Consumer,i.Provider;function a(e,t){var n=Object(r.useContext)(i);return e||n[t]||t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(8),o=n(12),i=n(1),a=n.n(i),s=n(74),u=n.n(s),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":c(window))&&"object"===("undefined"===typeof document?"undefined":c(document))&&9===document.nodeType,f=(n(47),n(40)),d=n(29),h=n(69),p=n(11),v={}.constructor;function m(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(m);if(e.constructor!==v)return e;var t={};for(var n in e)t[n]=m(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,o=m(t),i=r.plugins.onCreateRule(e,o,n);return i||(e[0],null)}var y=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},b=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=y(e[n]," ");else t=y(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function w(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function _(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function x(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var o=n.indent,i=void 0===o?0:o,a=t.fallbacks;!1===n.format&&(i=-1/0);var s=w(n),u=s.linebreak,c=s.space;if(e&&i++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var f=a[l];for(var d in f){var h=f[d];null!=h&&(r&&(r+=u),r+=_(d+":"+c+b(h)+";",i))}}else for(var p in a){var v=a[p];null!=v&&(r&&(r+=u),r+=_(p+":"+c+b(v)+";",i))}for(var m in t){var g=t[m];null!=g&&"fallbacks"!==m&&(r&&(r+=u),r+=_(m+":"+c+b(g)+";",i))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),_(""+e+c+"{"+r,--i)+_("}",i)):r}var E=/([[\].#*$><+~=|^:(),"'`\s])/g,C="undefined"!==typeof CSS&&CSS.escape,k=function(e){return C?C(e):e.replace(E,"\\$1")},S=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,o=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var o=t;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(t,e,this));var i=null==o||!1===o,a=e in this.style;if(i&&!a&&!r)return this;var s=i&&a;if(s?delete this.style[e]:this.style[e]=o,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,o),this;var u=this.options.sheet;return u&&u.attached,this},e}(),T=function(e){function t(t,n,r){var o;o=e.call(this,t,n,r)||this;var i=r.selector,a=r.scoped,s=r.sheet,u=r.generateId;return i?o.selectorText=i:!1!==a&&(o.id=u(Object(h.a)(Object(h.a)(o)),s),o.selectorText="."+k(o.id)),o}Object(d.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=b(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return x(this.selectorText,this.style,n)},Object(f.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(S),O={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new T(e,t,n)}},I={indent:1,children:!0},N=/@([\w-]+)/,R=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var o=e.match(N);for(var i in this.at=o?o[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ee(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=I);var t=w(e).linebreak;if(null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),A=/@container|@media|@supports\s+/,P={onCreateRule:function(e,t,n){return A.test(e)?new R(e,t,n):null}},D={indent:1,children:!0},M=/@keyframes\s+([\w-]+)/,j=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=e.match(M);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===i?this.name:k(s(this,a)),this.rules=new ee(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=D);var t=w(e).linebreak;if(null==e.indent&&(e.indent=D.indent),null==e.children&&(e.children=D.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),L=/@keyframes\s+/,F=/\$([\w-]+)/g,B=function(e,t){return"string"===typeof e?e.replace(F,(function(e,n){return n in t?t[n]:e})):e},U=function(e,t,n){var r=e[t],o=B(r,n);o!==r&&(e[t]=o)},V={onCreateRule:function(e,t,n){return"string"===typeof e&&L.test(e)?new j(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&U(e,"animation-name",n.keyframes),"animation"in e&&U(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return B(e,r.keyframes);default:return e}}},z=function(e){function t(){return e.apply(this,arguments)||this}return Object(d.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return x(this.key,this.style,n)},t}(S),W={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},q=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=w(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=x(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return x(this.at,this.style,e)},e}(),H=/@font-face/,G={onCreateRule:function(e,t,n){return H.test(e)?new q(e,t,n):null}},K=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return x(this.key,this.style,e)},e}(),Y={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new K(e,t,n):null}},$=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),X={"@charset":!0,"@import":!0,"@namespace":!0},Q=[O,P,V,W,G,Y,{onCreateRule:function(e,t,n){return e in X?new $(e,t,n):null}}],J={process:!0},Z={force:!0,process:!0},ee=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var o=this.options,i=o.parent,a=o.sheet,s=o.jss,u=o.Renderer,c=o.generateId,l=o.scoped,f=Object(r.a)({classes:this.classes,parent:i,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+k(this.classes[d]));var h=g(d,t,f);if(!h)return null;this.register(h);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,h),h},t.replace=function(e,t,n){var o=this.get(e),i=this.index.indexOf(o);o&&this.remove(o);var a=n;return-1!==i&&(a=Object(r.a)({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof T?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof j&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof T?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof j&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=J);var o=this.options,i=o.jss.plugins,a=o.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(i.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in i.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,Z)}for(var l in s){var f=t.style[l],d=s[l];null==f&&f!==d&&t.prop(l,null,Z)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,o=w(e).linebreak,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||r)&&(t&&(t+=o),t+=a)}return t},e}(),te=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ee(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(e,t,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var o=this.rules.replace(e,t,n);return o&&this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(this.renderer&&(o?r.renderable&&this.renderer.replaceRule(r.renderable,o):this.renderer.deleteRule(r)),o):o:(this.deployed=!1,o)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var o=this.addRule(r,e[r],t);o&&n.push(o)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ne=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](e,t,n);if(o)return o}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),re=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(p.a)(t,["attached"]),o=w(r).linebreak,i="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(i&&(i+=o),i+=s.toString(r))}return i},Object(f.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),oe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==oe[ie]&&(oe[ie]=0);var ae=oe[ie]++,se=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var o="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),e.minify?""+(i||"c")+ae+o+t:i+n.key+"-"+ae+(o?"-"+o:"")+"-"+t}},ue=function(e){var t;return function(){return t||(t=e()),t}},ce=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},le=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=b(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var o=r?r.indexOf("!important"):-1,i=o>-1?r.substr(0,o-1):r;e.style.setProperty(t,i,o>-1?"important":"")}}catch(a){return!1}return!0},fe=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},he=ue((function(){return document.querySelector("head")}));function pe(e){var t=re.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var o=function(e){for(var t=he(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var ve=ue((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),me=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ge=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ye=function(){function e(e){this.getPropertyValue=ce,this.setProperty=le,this.removeProperty=fe,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&re.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,o=t.element;this.element=o||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=ve();i&&this.element.setAttribute("nonce",i)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=pe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var o=n,i=o.parentNode;i&&i.insertBefore(e,o.nextSibling)}else he().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,o=n;if("conditional"===e.type||"keyframes"===e.type){var i=ge(n,t);if(!1===(o=me(n,r.toString({children:!1}),i)))return!1;this.refCssRule(e,i,o)}return this.insertRules(r.rules,o),o}var a=e.toString();if(!a)return!1;var s=ge(n,t),u=me(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof te&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),be=0,we=function(){function e(e){this.id=be++,this.version="10.10.0",this.plugins=new ne,this.options={id:{minify:!1},createGenerateId:se,Renderer:l?ye:null,plugins:[]},this.generateId=se({minify:!1});for(var t=0;t<Q.length;t++)this.plugins.use(Q[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===re.index?0:re.index+1);var o=new te(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(o),o},t.removeStyleSheet=function(e){return e.detach(),re.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var o=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var i=g(e,t,o);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new we(e)},xe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ee(e){var t=null;for(var n in e){var r=e[n],o=typeof r;if("function"===o)t||(t={}),t[n]=r;else if("object"===o&&null!==r&&!Array.isArray(r)){var i=Ee(r);i&&(t||(t={}),t[n]=i)}}return t}_e();var Ce=n(236),ke={set:function(e,t,n,r){var o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Se=ke,Te=n(205),Oe="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ie=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ne=Date.now(),Re="fnValues"+Ne,Ae="fnStyle"+ ++Ne,Pe=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=g(e,{},n);return r[Ae]=t,r},onProcessStyle:function(e,t){if(Re in t||Ae in t)return e;var n={};for(var r in e){var o=e[r];"function"===typeof o&&(delete e[r],n[r]=o)}return t[Re]=n,e},onUpdate:function(e,t,n,r){var o=t,i=o[Ae];i&&(o.style=i(e)||{});var a=o[Re];if(a)for(var s in a)o.prop(s,a[s](e),r)}}},De="@global",Me="@global ",je=function(){function e(e,t,n){for(var o in this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ee(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Le=function(){function e(e,t,n){this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n;var o=e.substr(8);this.rule=n.jss.createRule(o,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Fe=/\s*,\s*/g;function Be(e,t){for(var n=e.split(Fe),r="",o=0;o<n.length;o++)r+=t+" "+n[o].trim(),n[o+1]&&(r+=", ");return r}var Ue=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===De)return new je(e,t,n);if("@"===e[0]&&e.substr(0,8)===Me)return new Le(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,o=e.style,i=o?o[De]:null;if(i){for(var a in i)t.addRule(a,i[a],Object(r.a)({},n,{selector:Be(a,e.selector)}));delete o[De]}}(e,t),function(e,t){var n=e.options,o=e.style;for(var i in o)if("@"===i[0]&&i.substr(0,De.length)===De){var a=Be(i.substr(De.length),e.selector);t.addRule(a,o[i],Object(r.a)({},n,{selector:a})),delete o[i]}}(e,t))}}},Ve=/\s*,\s*/g,ze=/&/g,We=/\$([\w-]+)/g;var qe=function(){function e(e,t){return function(n,r){var o=e.getRule(r)||t&&t.getRule(r);return o?o.selector:r}}function t(e,t){for(var n=t.split(Ve),r=e.split(Ve),o="",i=0;i<n.length;i++)for(var a=n[i],s=0;s<r.length;s++){var u=r[s];o&&(o+=", "),o+=-1!==u.indexOf("&")?u.replace(ze,a):a+" "+u}return o}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var o=e.options.nestingLevel;o=void 0===o?1:o+1;var i=Object(r.a)({},e.options,{nestingLevel:o,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(o,i,a){if("style"!==i.type)return o;var s,u,c=i,l=c.options.parent;for(var f in o){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(s=n(c,l,s),d){var p=t(f,c.selector);u||(u=e(l,a)),p=p.replace(We,u);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,o[f],Object(r.a)({},s,{selector:p})):l.addRule(v,o[f],Object(r.a)({},s,{selector:p}))}else h&&l.addRule(f,{},s).addRule(c.key,o[f],{selector:c.selector});delete o[f]}}return o}}},He=/[A-Z]/g,Ge=/^ms-/,Ke={};function Ye(e){return"-"+e.toLowerCase()}var $e=function(e){if(Ke.hasOwnProperty(e))return Ke[e];var t=e.replace(He,Ye);return Ke[e]=Ge.test(t)?"-"+t:t};function Xe(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:$e(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Xe):t.fallbacks=Xe(e.fallbacks)),t}var Qe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Xe(e[t]);return e}return Xe(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=$e(t);return t===r?e:(n.prop(r,e),null)}}},Je=xe&&CSS?CSS.px:"px",Ze=xe&&CSS?CSS.ms:"ms",et=xe&&CSS?CSS.percent:"%";function tt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var o in e)r[o]=e[o],r[o.replace(t,n)]=e[o];return r}var nt=tt({"animation-delay":Ze,"animation-duration":Ze,"background-position":Je,"background-position-x":Je,"background-position-y":Je,"background-size":Je,border:Je,"border-bottom":Je,"border-bottom-left-radius":Je,"border-bottom-right-radius":Je,"border-bottom-width":Je,"border-left":Je,"border-left-width":Je,"border-radius":Je,"border-right":Je,"border-right-width":Je,"border-top":Je,"border-top-left-radius":Je,"border-top-right-radius":Je,"border-top-width":Je,"border-width":Je,"border-block":Je,"border-block-end":Je,"border-block-end-width":Je,"border-block-start":Je,"border-block-start-width":Je,"border-block-width":Je,"border-inline":Je,"border-inline-end":Je,"border-inline-end-width":Je,"border-inline-start":Je,"border-inline-start-width":Je,"border-inline-width":Je,"border-start-start-radius":Je,"border-start-end-radius":Je,"border-end-start-radius":Je,"border-end-end-radius":Je,margin:Je,"margin-bottom":Je,"margin-left":Je,"margin-right":Je,"margin-top":Je,"margin-block":Je,"margin-block-end":Je,"margin-block-start":Je,"margin-inline":Je,"margin-inline-end":Je,"margin-inline-start":Je,padding:Je,"padding-bottom":Je,"padding-left":Je,"padding-right":Je,"padding-top":Je,"padding-block":Je,"padding-block-end":Je,"padding-block-start":Je,"padding-inline":Je,"padding-inline-end":Je,"padding-inline-start":Je,"mask-position-x":Je,"mask-position-y":Je,"mask-size":Je,height:Je,width:Je,"min-height":Je,"max-height":Je,"min-width":Je,"max-width":Je,bottom:Je,left:Je,top:Je,right:Je,inset:Je,"inset-block":Je,"inset-block-end":Je,"inset-block-start":Je,"inset-inline":Je,"inset-inline-end":Je,"inset-inline-start":Je,"box-shadow":Je,"text-shadow":Je,"column-gap":Je,"column-rule":Je,"column-rule-width":Je,"column-width":Je,"font-size":Je,"font-size-delta":Je,"letter-spacing":Je,"text-decoration-thickness":Je,"text-indent":Je,"text-stroke":Je,"text-stroke-width":Je,"word-spacing":Je,motion:Je,"motion-offset":Je,outline:Je,"outline-offset":Je,"outline-width":Je,perspective:Je,"perspective-origin-x":et,"perspective-origin-y":et,"transform-origin":et,"transform-origin-x":et,"transform-origin-y":et,"transform-origin-z":et,"transition-delay":Ze,"transition-duration":Ze,"vertical-align":Je,"flex-basis":Je,"shape-margin":Je,size:Je,gap:Je,grid:Je,"grid-gap":Je,"row-gap":Je,"grid-row-gap":Je,"grid-column-gap":Je,"grid-template-rows":Je,"grid-template-columns":Je,"grid-auto-rows":Je,"grid-auto-columns":Je,"box-shadow-x":Je,"box-shadow-y":Je,"box-shadow-blur":Je,"box-shadow-spread":Je,"font-line-height":Je,"text-shadow-x":Je,"text-shadow-y":Je,"text-shadow-blur":Je});function rt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=rt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var o in t)t[o]=rt(o,t[o],n);else for(var i in t)t[i]=rt(e+"-"+i,t[i],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||nt[e];return!a||0===t&&a===Je?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var ot=function(e){void 0===e&&(e={});var t=tt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=rt(r,e[r],t);return e},onChangeValue:function(e,n){return rt(n,e,t)}}},it=n(53),at="",st="",ut="",ct="",lt=l&&"ontouchstart"in document.documentElement;if(l){var ft={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var ht in ft)if(ht+"Transform"in dt){at=ht,st=ft[ht];break}"Webkit"===at&&"msHyphens"in dt&&(at="ms",st=ft.ms,ct="edge"),"Webkit"===at&&"-apple-trailing-word"in dt&&(ut="apple")}var pt={js:at,css:st,vendor:ut,browser:ct,isTouch:lt};var vt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===pt.js?"-webkit-"+e:pt.css+e)}},mt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===pt.js?pt.css+"print-"+e:e)}},gt=/[-\s]+(.)?/g;function yt(e,t){return t?t.toUpperCase():""}function bt(e){return e.replace(gt,yt)}function wt(e){return bt("-"+e)}var _t,xt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===pt.js){var n="mask-image";if(bt(n)in t)return e;if(pt.js+wt(n)in t)return pt.css+e}return e}},Et={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==pt.vendor||pt.isTouch?e:pt.css+e)}},Ct={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:pt.css+e)}},kt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:pt.css+e)}},St={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===pt.js||"ms"===pt.js&&"edge"!==pt.browser?pt.css+e:e)}},Tt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===pt.js||"ms"===pt.js||"apple"===pt.vendor?pt.css+e:e)}},Ot={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===pt.js?"WebkitColumn"+wt(e)in t&&pt.css+"column-"+e:"Moz"===pt.js&&("page"+wt(e)in t&&"page-"+e))}},It={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===pt.js)return e;var n=e.replace("-inline","");return pt.js+wt(n)in t&&pt.css+n}},Nt={supportedProperty:function(e,t){return bt(e)in t&&e}},Rt={supportedProperty:function(e,t){var n=wt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:pt.js+n in t?pt.css+e:"Webkit"!==pt.js&&"Webkit"+n in t&&"-webkit-"+e}},At={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===pt.js?""+pt.css+e:e)}},Pt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===pt.js?pt.css+"scroll-chaining":e)}},Dt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Mt={supportedProperty:function(e,t){var n=Dt[e];return!!n&&(pt.js+wt(n)in t&&pt.css+n)}},jt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Lt=Object.keys(jt),Ft=function(e){return pt.css+e},Bt=[vt,mt,xt,Et,Ct,kt,St,Tt,Ot,It,Nt,Rt,At,Pt,Mt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Lt.indexOf(e)>-1){var o=jt[e];if(!Array.isArray(o))return pt.js+wt(o)in t&&pt.css+o;if(!r)return!1;for(var i=0;i<o.length;i++)if(!(pt.js+wt(o[0])in t))return!1;return o.map(Ft)}return!1}}],Ut=Bt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Vt=Bt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(it.a)(t.noPrefill)),e}),[]),zt={};if(l){_t=document.createElement("p");var Wt=window.getComputedStyle(document.documentElement,"");for(var qt in Wt)isNaN(qt)||(zt[Wt[qt]]=Wt[qt]);Vt.forEach((function(e){return delete zt[e]}))}function Ht(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=zt[e])return zt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<Ut.length&&(zt[e]=Ut[n](e,_t.style,t),!zt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return zt[e]}var Gt,Kt={},Yt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$t=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Xt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ht(t):", "+Ht(n);return r||(t||n)}function Qt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Kt[r])return Kt[r];try{Gt.style[e]=n}catch(o){return Kt[r]=!1,!1}if(Yt[e])n=n.replace($t,Xt);else if(""===Gt.style[e]&&("-ms-flex"===(n=pt.css+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return Kt[r]=!1,!1;return Gt.style[e]="",Kt[r]=n,Kt[r]}l&&(Gt=document.createElement("p"));var Jt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var o=!1,i=Ht(n);i&&i!==n&&(o=!0);var a=!1,s=Qt(i,b(r));s&&s!==r&&(a=!0),(o||a)&&(o&&delete t[n],t[i||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===pt.js?n:"@"+pt.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Qt(t,b(e))||e}}};var Zt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},o=Object.keys(t).sort(e),i=0;i<o.length;i++)r[o[i]]=t[o[i]];return r}}};function en(){return{plugins:[Pe(),Ue(),qe(),Qe(),ot(),"undefined"===typeof window?null:Jt(),Zt()]}}var tn=_e(en()),nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,o=void 0===r?"jss":r,i=e.seed,a=void 0===i?"":i,s=""===a?"":"".concat(a,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ie.indexOf(e.key))return"Mui-".concat(e.key);var i="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Oe]&&""===a?"".concat(i,"-").concat(c()):i}return"".concat(s).concat(o).concat(c())}}(),rn={disableGeneration:!1,generateClassName:nn,jss:tn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},on=a.a.createContext(rn);var an=-1e9;n(39);var sn=n(237);var un={};function cn(e,t){var n=e.state,o=e.theme,i=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!i.disableGeneration){var u=Se.get(i.sheetsManager,a,o);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Se.set(i.sheetsManager,a,o,u));var c=Object(r.a)({},a.options,i,{theme:o,flip:"boolean"===typeof i.flip?i.flip:"rtl"===o.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=Se.get(i.sheetsCache,a,o));var d=a.create(o,s);f||((f=i.jss.createStyleSheet(d,Object(r.a)({link:!1},c))).attach(),i.sheetsCache&&Se.set(i.sheetsCache,a,o,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=Ee(d)}if(u.dynamicStyles){var h=i.jss.createStyleSheet(u.dynamicStyles,Object(r.a)({link:!0},c));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=Object(Ce.a)({baseClasses:u.staticSheet.classes,newClasses:h.classes}),l&&l.add(h)}else n.classes=u.staticSheet.classes;u.refs+=1}}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,i=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?un:u,l=Object(o.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=function(e){var t="function"===typeof e;return{create:function(n,o){var i;try{i=t?e(n):e}catch(u){throw u}if(!o||!n.overrides||!n.overrides[o])return i;var a=n.overrides[o],s=Object(r.a)({},i);return Object.keys(a).forEach((function(e){s[e]=Object(sn.a)(s[e],a[e])})),s},options:{}}}(e),d=n||i||"makeStyles";f.options={index:an+=1,name:n,meta:d,classNamePrefix:d};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Te.a)()||c,o=Object(r.a)({},a.a.useContext(on),l),i=a.a.useRef(),u=a.a.useRef();!function(e,t){var n,r=a.a.useRef([]),o=a.a.useMemo((function(){return{}}),t);r.current!==o&&(r.current=o,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[o])}((function(){var r={name:n,state:{},stylesCreator:f,stylesOptions:o,theme:t};return cn(r,e),u.current=!1,i.current=r,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,o=e.stylesCreator;if(!r.disableGeneration){var i=Se.get(r.sheetsManager,o,n);i.refs-=1;var a=r.sheetsRegistry;0===i.refs&&(Se.delete(r.sheetsManager,o,n),r.jss.removeStyleSheet(i.staticSheet),a&&a.remove(i.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}(r)}}),[t,f]),a.a.useEffect((function(){u.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(i.current,e),u.current=!0}));var d=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,o=!0),o&&(r.cacheClasses.value=Object(Ce.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(i.current,e.classes,s);return d}}var fn=n(238),dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=t.defaultTheme,s=t.withTheme,c=void 0!==s&&s,l=t.name,f=Object(o.a)(t,["defaultTheme","withTheme","name"]);var d=l,h=ln(e,Object(r.a)({defaultTheme:i,Component:n,name:l||n.displayName,classNamePrefix:d},f)),p=a.a.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,f=Object(o.a)(e,["classes","innerRef"]),d=h(Object(r.a)({},n.defaultProps,e)),p=f;return("string"===typeof l||c)&&(s=Object(Te.a)()||i,l&&(p=Object(fn.a)({theme:s,name:l,props:f})),c&&!p.theme&&(p.theme=s)),a.a.createElement(n,Object(r.a)({ref:u||t,classes:d},p))}));return u()(p,n),p}},hn=n(80);t.a=function(e,t){return dn(e,Object(r.a)({defaultTheme:hn.a},t))}},function(e,t,n){"use strict";var r=n(9);function o(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.a.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:r.a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,n,a,s,u){var c=Object.create(i);return r.a.toFlatObject(e,c,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),o.call(c,e.message,t,n,a,s),c.cause=e,c.name=e.name,u&&Object.assign(c,u),c},t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(118);var o=n(73),i=n(119);function a(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Object(o.a)(e,t)||Object(i.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(39);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new T(r||[]);return i(a,"_invoke",{value:E(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(O([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==Object(r.a)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(x.prototype),l(x.prototype,u,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var o;n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return f})),n.d(t,"setLogLevel",(function(){return d})),n.d(t,"setUserLogHandler",(function(){return h}));var i,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},u=i.INFO,c=((o={})[i.DEBUG]="log",o[i.VERBOSE]="log",o[i.INFO]="info",o[i.WARN]="warn",o[i.ERROR]="error",o),l=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var i=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+i+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.DEBUG],e)),this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.VERBOSE],e)),this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.INFO],e)),this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.WARN],e)),this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.ERROR],e)),this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function d(e){a.forEach((function(t){t.setLogLevel(e)}))}function h(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}},r=0,o=a;r<o.length;r++){n(o[r])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return c})),n.d(t,"ComponentContainer",(function(){return d})),n.d(t,"Provider",(function(){return f}));function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var u=n(4),c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),l="[DEFAULT]",f=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new u.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:l})}catch(h){}try{for(var r=i(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=a(o.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);try{var d=this.getOrInitializeService({instanceIdentifier:f});c.resolve(d)}catch(h){}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=l),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=l),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=l),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,o=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var c=i(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=a(l.value,2),d=f[0],h=f[1];s===this.normalizeInstanceIdentifier(d)&&h.resolve(u)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);var i=this.instances.get(r);return i&&e(i,r),function(){o.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,o=this.onInitCallbacks.get(t);if(o)try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,o=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===l?void 0:t),options:o}),this.instances.set(n,i),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(a){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=l),this.component?this.component.multipleInstances?e:l:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var d=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new f(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(139)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),o=n(54);function i(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(o.a)(e,n),Object(o.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(120);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Qs})),n.d(t,"b",(function(){return zs})),n.d(t,"c",(function(){return fc})),n.d(t,"d",(function(){return hc})),n.d(t,"e",(function(){return sc})),n.d(t,"f",(function(){return ic})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return Ws})),n.d(t,"i",(function(){return ac})),n.d(t,"j",(function(){return lc})),n.d(t,"k",(function(){return gc})),n.d(t,"l",(function(){return Tc})),n.d(t,"m",(function(){return kc})),n.d(t,"n",(function(){return bc})),n.d(t,"o",(function(){return xc})),n.d(t,"p",(function(){return cc})),n.d(t,"q",(function(){return Cc})),n.d(t,"r",(function(){return _c})),n.d(t,"s",(function(){return yc})),n.d(t,"t",(function(){return Sc}));var r=n(5),o=n(4),i=n(24),a=n(36),s=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.b)(t,e),t}(Error),l=new i.Logger("@firebase/firestore");function f(){return l.logLevel}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=i.LogLevel.DEBUG){var o=t.map(v);l.debug.apply(l,Object(r.d)(["Firestore (8.10.1): "+e],o))}}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=i.LogLevel.ERROR){var o=t.map(v);l.error.apply(l,Object(r.d)(["Firestore (8.10.1): "+e],o))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=i.LogLevel.WARN){var o=t.map(v);l.warn.apply(l,Object(r.d)(["Firestore (8.10.1): "+e],o))}}function v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function m(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function g(e,t){e||m()}function y(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=b(40),o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%62));return n},e}();function _(e,t){return e<t?-1:e>t?1:0}function x(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function E(e){return e+"\0"}var C=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?_(this.nanoseconds,e.nanoseconds):_(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),k=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new C(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function S(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function T(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function O(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var I=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&m(),void 0===n?n=e.length-t:n>e.length-t&&m(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],o=0,i=e;o<i.length;o++){var a=i[o];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(I),R=/^[_a-zA-Z][_a-zA-Z0-9]*$/,A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return R.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;o<e.length;){var s=e[o];if("\\"===s){if(o+1===e.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[o+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else"`"===s?(a=!a,o++):"."!==s||a?(r+=s,o++):(i(),o++)}if(i(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(I),P=function(){function e(e){this.fields=e,e.sort(A.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return x(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),D=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return _(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();D.EMPTY_BYTE_STRING=new D("");var M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function j(e){if(g(!!e),"string"==typeof e){var t=0,n=M.exec(e);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:L(e.seconds),nanos:L(e.nanos)}}function L(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function F(e){return"string"==typeof e?D.fromBase64String(e):D.fromUint8Array(e)}function B(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(e){var t=e.mapValue.fields.__previous_value__;return B(t)?U(t):t}function V(e){var t=j(e.mapValue.fields.__local_write_time__.timestampValue);return new C(t.seconds,t.nanos)}function z(e){return null==e}function W(e){return 0===e&&1/e==-1/0}function q(e){return"number"==typeof e&&Number.isInteger(e)&&!W(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var H=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(N.fromString(t))},e.fromName=function(t){return new e(N.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===N.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return N.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new N(t.slice()))},e}();function G(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?B(e)?4:10:m()}function K(e,t){var n=G(e);if(n!==G(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return V(e).isEqual(V(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=j(e.timestampValue),r=j(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return F(e.bytesValue).isEqual(F(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return L(e.geoPointValue.latitude)===L(t.geoPointValue.latitude)&&L(e.geoPointValue.longitude)===L(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return L(e.integerValue)===L(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=L(e.doubleValue),r=L(t.doubleValue);return n===r?W(n)===W(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return x(e.arrayValue.values||[],t.arrayValue.values||[],K);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(S(n)!==S(r))return!1;for(var o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!K(n[o],r[o])))return!1;return!0}(e,t);default:return m()}}function Y(e,t){return void 0!==(e.values||[]).find((function(e){return K(e,t)}))}function $(e,t){var n=G(e),r=G(t);if(n!==r)return _(n,r);switch(n){case 0:return 0;case 1:return _(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=L(e.integerValue||e.doubleValue),r=L(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return X(e.timestampValue,t.timestampValue);case 4:return X(V(e),V(t));case 5:return _(e.stringValue,t.stringValue);case 6:return function(e,t){var n=F(e),r=F(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),o=0;o<n.length&&o<r.length;o++){var i=_(n[o],r[o]);if(0!==i)return i}return _(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=_(L(e.latitude),L(t.latitude));return 0!==n?n:_(L(e.longitude),L(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],o=0;o<n.length&&o<r.length;++o){var i=$(n[o],r[o]);if(i)return i}return _(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(var a=0;a<r.length&&a<i.length;++a){var s=_(r[a],i[a]);if(0!==s)return s;var u=$(n[r[a]],o[i[a]]);if(0!==u)return u}return _(r.length,i.length)}(e.mapValue,t.mapValue);default:throw m()}}function X(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _(e,t);var n=j(e),r=j(t),o=_(n.seconds,r.seconds);return 0!==o?o:_(n.nanos,r.nanos)}function Q(e){return J(e)}function J(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=j(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?F(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,H.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,o=e.values||[];r<o.length;r++)n?n=!1:t+=",",t+=J(o[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var i=o[r];n?n=!1:t+=",",t+=i+":"+J(e.fields[i])}return t+"}"}(e.mapValue):m();var t,n}function Z(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ne(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oe(e){return!!e&&"mapValue"in e}function ie(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return T(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ie(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ie(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ae=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!oe(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ie(t)},e.prototype.setAll=function(e){var t=this,n=A.emptyPath(),r={},o=[];e.forEach((function(e,i){if(!n.isImmediateParentOf(i)){var a=t.getFieldsMap(n);t.applyChanges(a,r,o),r={},o=[],n=i.popLast()}e?r[i.lastSegment()]=ie(e):o.push(i.lastSegment())}));var i=this.getFieldsMap(n);this.applyChanges(i,r,o)},e.prototype.delete=function(e){var t=this.field(e.popLast());oe(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return K(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];oe(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){T(t,(function(t,n){return e[t]=n}));for(var r=0,o=n;r<o.length;r++){var i=o[r];delete e[i]}},e.prototype.clone=function(){return new e(ie(this.value))},e}();function se(e){var t=[];return T(e.fields,(function(e,n){var r=new A([e]);if(oe(n)){var o=se(n.mapValue).fields;if(0===o.length)t.push(r);else for(var i=0,a=o;i<a.length;i++){var s=a[i];t.push(r.child(s))}}else t.push(r)})),new P(t)}var ue=function(){function e(e,t,n,r,o){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,k.min(),ae.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ae.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ae.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ae.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ae.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ce=function(e,t,n,r,o,i,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.h=null};function le(e,t,n,r,o,i,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),new ce(e,t,n,r,o,i,a)}function fe(e){var t=y(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Q(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),z(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ce(t.startAt)),t.endAt&&(n+="|ub:",n+=Ce(t.endAt)),t.h=n}return t.h}function de(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Se(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],i=t.filters[r],o.op!==i.op||!o.field.isEqual(i.field)||!K(o.value,i.value))return!1;var o,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oe(e.startAt,t.startAt)&&Oe(e.endAt,t.endAt)}function he(e){return H.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pe=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).field=t,o.op=n,o.value=r,o}return Object(r.b)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ve(e,n,r):"array-contains"===n?new be(e,r):"in"===n?new we(e,r):"not-in"===n?new _e(e,r):"array-contains-any"===n?new xe(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new me(e,n):new ge(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m($(t,this.value)):null!==t&&G(this.value)===G(t)&&this.m($(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return m()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ve=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,r)||this).key=H.fromName(r.referenceValue),o}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=H.comparator(e.key,this.key);return this.m(t)},t}(pe),me=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ye("in",n),r}return Object(r.b)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe),ge=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ye("not-in",n),r}return Object(r.b)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe);function ye(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return H.fromName(e.referenceValue)}))}var be=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&Y(t.arrayValue,this.value)},t}(pe),we=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Y(this.value.arrayValue,t)},t}(pe),_e=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){if(Y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Y(this.value.arrayValue,t)},t}(pe),xe=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.b)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!te(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Y(t.value.arrayValue,e)}))},t}(pe),Ee=function(e,t){this.position=e,this.before=t};function Ce(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Q(e)})).join(",")}var ke=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Se(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Te(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var i=t[o],a=e.position[o];if(r=i.field.isKeyField()?H.comparator(H.fromName(a.referenceValue),n.key):$(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Oe(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!K(e.position[n],t.position[n]))return!1;return!0}var Ie=function(e,t,n,r,o,i,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ne(e,t,n,r,o,i,a,s){return new Ie(e,t,n,r,o,i,a,s)}function Re(e){return new Ie(e)}function Ae(e){return!z(e.limit)&&"F"===e.limitType}function Pe(e){return!z(e.limit)&&"L"===e.limitType}function De(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Me(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function je(e){return null!==e.collectionGroup}function Le(e){var t=y(e);if(null===t.p){t.p=[];var n=Me(t),r=De(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new ke(n)),t.p.push(new ke(A.keyField(),"asc"));else{for(var o=!1,i=0,a=t.explicitOrderBy;i<a.length;i++){var s=a[i];t.p.push(s),s.field.isKeyField()&&(o=!0)}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ke(A.keyField(),u))}}}return t.p}function Fe(e){var t=y(e);if(!t.T)if("F"===t.limitType)t.T=le(t.path,t.collectionGroup,Le(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=Le(t);r<o.length;r++){var i=o[r],a="desc"===i.dir?"asc":"desc";n.push(new ke(i.field,a))}var s=t.endAt?new Ee(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ee(t.startAt.position,!t.startAt.before):null;t.T=le(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Be(e,t,n){return new Ie(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ue(e,t){return de(Fe(e),Fe(t))&&e.limitType===t.limitType}function Ve(e){return fe(Fe(e))+"|lt:"+e.limitType}function ze(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Q(t.value);var t})).join(", ")+"]"),z(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ce(e.startAt)),e.endAt&&(t+=", endAt: "+Ce(e.endAt)),"Target("+t+")"}(Fe(e))+"; limitType="+e.limitType+")"}function We(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):H.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var o=r[n];if(!o.field.isKeyField()&&null===t.data.field(o.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Te(e.startAt,Le(e),t))&&(!e.endAt||!Te(e.endAt,Le(e),t))}(e,t)}function qe(e){return function(t,n){for(var r=!1,o=0,i=Le(e);o<i.length;o++){var a=i[o],s=He(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function He(e,t,n){var r=e.field.isKeyField()?H.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?$(r,o):m()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function Ge(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W(t)?"-0":t}}function Ke(e){return{integerValue:""+e}}function Ye(e,t){return q(t)?Ke(t):Ge(e,t)}var $e=function(){this._=void 0};function Xe(e,t,n){return e instanceof Ze?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof et?tt(e,t):e instanceof nt?rt(e,t):function(e,t){var n=Je(e,t),r=it(n)+it(e.A);return ee(n)&&ee(e.A)?Ke(r):Ge(e.R,r)}(e,t)}function Qe(e,t,n){return e instanceof et?tt(e,t):e instanceof nt?rt(e,t):n}function Je(e,t){return e instanceof ot?ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t}($e),et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.b)(t,e),t}($e);function tt(e,t){for(var n=at(t),r=function(e){n.some((function(t){return K(t,e)}))||n.push(e)},o=0,i=e.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var nt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.b)(t,e),t}($e);function rt(e,t){for(var n=at(t),r=function(e){n=n.filter((function(t){return!K(t,e)}))},o=0,i=e.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var ot=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.b)(t,e),t}($e);function it(e){return L(e.integerValue||e.doubleValue)}function at(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var st=function(e,t){this.field=e,this.transform=t},ut=function(e,t){this.version=e,this.transformResults=t},ct=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function lt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ft=function(){};function dt(e,t,n){e instanceof gt?function(e,t,n){var r=e.value.clone(),o=wt(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yt?function(e,t,n){if(lt(e.precondition,t)){var r=wt(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(bt(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ht(e,t,n){e instanceof gt?function(e,t,n){if(lt(e.precondition,t)){var r=e.value.clone(),o=_t(e.fieldTransforms,n,t);r.setAll(o),t.convertToFoundDocument(mt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof yt?function(e,t,n){if(lt(e.precondition,t)){var r=_t(e.fieldTransforms,n,t),o=t.data;o.setAll(bt(e)),o.setAll(r),t.convertToFoundDocument(mt(t),o).setHasLocalMutations()}}(e,t,n):function(e,t){lt(e.precondition,t)&&t.convertToNoDocument(k.min())}(e,t)}function pt(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var i=o[r],a=t.data.field(i.field),s=Je(i.transform,a||null);null!=s&&(null==n&&(n=ae.empty()),n.set(i.field,s))}return n||null}function vt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&x(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof et&&t instanceof et||e instanceof nt&&t instanceof nt?x(e.elements,t.elements,K):e instanceof ot&&t instanceof ot?K(e.A,t.A):e instanceof Ze&&t instanceof Ze}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function mt(e){return e.isFoundDocument()?e.version:k.min()}var gt=function(e){function t(t,n,r,o){void 0===o&&(o=[]);var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.precondition=r,i.fieldTransforms=o,i.type=0,i}return Object(r.b)(t,e),t}(ft),yt=function(e){function t(t,n,r,o,i){void 0===i&&(i=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=o,a.fieldTransforms=i,a.type=1,a}return Object(r.b)(t,e),t}(ft);function bt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wt(e,t,n){var r=new Map;g(e.length===n.length);for(var o=0;o<n.length;o++){var i=e[o],a=i.transform,s=t.data.field(i.field);r.set(i.field,Qe(a,s,n[o]))}return r}function _t(e,t,n){for(var r=new Map,o=0,i=e;o<i.length;o++){var a=i[o],s=a.transform,u=n.data.field(a.field);r.set(a.field,Xe(s,u,t))}return r}var xt,Et,Ct=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.b)(t,e),t}(ft),kt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.b)(t,e),t}(ft),St=function(e){this.count=e};function Tt(e){switch(e){case u.OK:return m();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return m()}}function Ot(e){if(void 0===e)return h("GRPC error has no .code"),u.UNKNOWN;switch(e){case xt.OK:return u.OK;case xt.CANCELLED:return u.CANCELLED;case xt.UNKNOWN:return u.UNKNOWN;case xt.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case xt.INTERNAL:return u.INTERNAL;case xt.UNAVAILABLE:return u.UNAVAILABLE;case xt.UNAUTHENTICATED:return u.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case xt.NOT_FOUND:return u.NOT_FOUND;case xt.ALREADY_EXISTS:return u.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return u.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case xt.ABORTED:return u.ABORTED;case xt.OUT_OF_RANGE:return u.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return u.UNIMPLEMENTED;case xt.DATA_LOSS:return u.DATA_LOSS;default:return m()}}(Et=xt||(xt={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";var It=function(){function e(e,t){this.comparator=e,this.root=t||Rt.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rt.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Nt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Nt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Nt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Nt(this.root,e,this.comparator,!0)},e}(),Nt=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Rt=function(){function e(t,n,r,o,i){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw m();if(this.right.isRed())throw m();var e=this.left.check();if(e!==this.right.check())throw m();return e+(this.isRed()?0:1)},e}();Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1,Rt.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new Rt(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var At=function(){function e(e){this.comparator=e,this.data=new It(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Pt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Pt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Pt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Dt=new It(H.comparator);function Mt(){return Dt}var jt=new It(H.comparator);function Lt(){return jt}var Ft=new It(H.comparator);function Bt(){return Ft}var Ut=new At(H.comparator);function Vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ut,r=0,o=e;r<o.length;r++){var i=o[r];n=n.add(i)}return n}var zt=new At(_);function Wt(){return zt}var qt=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ht.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(k.min(),r,Wt(),Mt(),Vt())},e}(),Ht=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(D.EMPTY_BYTE_STRING,n,Vt(),Vt(),Vt())},e}(),Gt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Kt=function(e,t){this.targetId=e,this.V=t},Yt=function(e,t,n,r){void 0===n&&(n=D.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},$t=function(){function e(){this.S=0,this.D=Jt(),this.C=D.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Vt(),t=Vt(),n=Vt();return this.D.forEach((function(r,o){switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:m()}})),new Ht(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Jt()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Xt=function(){function e(e){this.W=e,this.G=new Map,this.H=Mt(),this.J=Qt(),this.Y=new At(_)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var o=0,i=e.removedTargetIds;o<i.length;o++)r=i[o],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:m()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var o=r.target;if(he(o))if(0===n){var i=new H(o.path);this.tt(t,i,ue.newNoDocument(i,k.min()))}else g(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,o){var i=t.ot(o);if(i){if(r.current&&he(i.target)){var a=new H(i.target.path);null!==t.H.get(a)||t.at(o,a)||t.tt(o,a,ue.newNoDocument(a,e))}r.$&&(n.set(o,r.M()),r.L())}}));var r=Vt();this.J.forEach((function(e,n){var o=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(o=!1,!1)})),o&&(r=r.add(e))}));var o=new qt(e,n,this.Y,this.H,r);return this.H=Mt(),this.J=Qt(),this.Y=new At(_),o},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new $t,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new At(_),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||d("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new $t),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Qt(){return new It(H.comparator)}function Jt(){return new It(H.comparator)}var Zt={asc:"ASCENDING",desc:"DESCENDING"},en={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tn=function(e,t){this.databaseId=e,this.I=t};function nn(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function rn(e,t){return e.I?t.toBase64():t.toUint8Array()}function on(e,t){return nn(e,t.toTimestamp())}function an(e){return g(!!e),k.fromTimestamp(function(e){var t=j(e);return new C(t.seconds,t.nanos)}(e))}function sn(e,t){return function(e){return new N(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function un(e){var t=N.fromString(e);return g(An(t)),t}function cn(e,t){return sn(e.databaseId,t.path)}function ln(e,t){var n=un(t);if(n.get(1)!==e.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(pn(n))}function fn(e,t){return sn(e.databaseId,t)}function dn(e){var t=un(e);return 4===t.length?N.emptyPath():pn(t)}function hn(e){return new N(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pn(e){return g(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vn(e,t,n){return{name:cn(e,t),fields:n.value.mapValue.fields}}function mn(e,t,n){var r=ln(e,t.name),o=an(t.updateTime),i=new ae({mapValue:{fields:t.fields}}),a=ue.newFoundDocument(r,o,i);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function gn(e,t){var n;if(t instanceof gt)n={update:vn(e,t.key,t.value)};else if(t instanceof Ct)n={delete:cn(e,t.key)};else if(t instanceof yt)n={update:vn(e,t.key,t.data),updateMask:Rn(t.fieldMask)};else{if(!(t instanceof kt))return m();n={verify:cn(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ze)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof et)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ot)return{fieldPath:t.field.canonicalString(),increment:n.A};throw m()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:on(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:m()}(e,t.precondition)),n}function yn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ct.updateTime(an(e.updateTime)):void 0!==e.exists?ct.exists(e.exists):ct.none()}(t.currentDocument):ct.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)g("REQUEST_TIME"===t.setToServerValue),n=new Ze;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new et(r)}else if("removeAllFromArray"in t){var o=t.removeAllFromArray.values||[];n=new nt(o)}else"increment"in t?n=new ot(e,t.increment):m();var i=A.fromServerFormat(t.fieldPath);return new st(i,n)}(e,t)})):[];if(t.update){t.update.name;var o=ln(e,t.update.name),i=new ae({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new P(t.map((function(e){return A.fromServerFormat(e)})))}(t.updateMask);return new yt(o,i,a,n,r)}return new gt(o,i,n,r)}if(t.delete){var s=ln(e,t.delete);return new Ct(s,n)}if(t.verify){var u=ln(e,t.verify);return new kt(u,n)}return m()}function bn(e,t){return{documents:[fn(e,t.path)]}}function wn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NAN"}};if(ne(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NOT_NAN"}};if(ne(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tn(e.field),op:Sn(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);o&&(n.structuredQuery.where=o);var i=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Tn(e.field),direction:kn(e.dir)}}(e)}))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);var a=function(e,t){return e.I||z(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=En(t.startAt)),t.endAt&&(n.structuredQuery.endAt=En(t.endAt)),n}function _n(e){var t=dn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){g(1===r);var i=n.from[0];i.allDescendants?o=i.collectionId:t=t.child(i.collectionId)}var a=[];n.where&&(a=xn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ke(On(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return z(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Cn(n.startAt));var l=null;return n.endAt&&(l=Cn(n.endAt)),Ne(t,o,s,a,u,"F",c,l)}function xn(e){return e?void 0!==e.unaryFilter?[Nn(e)]:void 0!==e.fieldFilter?[In(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xn(e)})).reduce((function(e,t){return e.concat(t)})):m():[]}function En(e){return{before:e.before,values:e.position}}function Cn(e){var t=!!e.before,n=e.values||[];return new Ee(n,t)}function kn(e){return Zt[e]}function Sn(e){return en[e]}function Tn(e){return{fieldPath:e.canonicalString()}}function On(e){return A.fromServerFormat(e.fieldPath)}function In(e){return pe.create(On(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return m()}}(e.fieldFilter.op),e.fieldFilter.value)}function Nn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=On(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=On(e.unaryFilter.field);return pe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=On(e.unaryFilter.field);return pe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=On(e.unaryFilter.field);return pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return m()}}function Rn(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function An(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Pn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Mn(t)),t=Dn(e.get(n),t);return Mn(t)}function Dn(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var i=e.charAt(o);switch(i){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=i}}return n}function Mn(e){return e+"\x01\x01"}function jn(e){var t=e.length;if(g(t>=2),2===t)return g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),N.emptyPath();for(var n=t-2,r=[],o="",i=0;i<t;){var a=e.indexOf("\x01",i);switch((a<0||a>n)&&m(),e.charAt(a+1)){case"\x01":var s=e.substring(i,a),u=void 0;0===o.length?u=s:(u=o+=s,o=""),r.push(u);break;case"\x10":o+=e.substring(i,a),o+="\0";break;case"\x11":o+=e.substring(i,a+1);break;default:m()}i=a+2}return new N(r)}var Ln=function(e,t){this.seconds=e,this.nanoseconds=t},Fn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Fn.store="owner",Fn.key="owner";var Bn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Bn.store="mutationQueues",Bn.keyPath="userId";var Un=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Un.store="mutations",Un.keyPath="batchId",Un.userMutationsIndex="userMutationsIndex",Un.userMutationsKeyPath=["userId","batchId"];var Vn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Pn(t)]},e.key=function(e,t,n){return[e,Pn(t),n]},e}();Vn.store="documentMutations",Vn.PLACEHOLDER=new Vn;var zn=function(e,t){this.path=e,this.readTime=t},Wn=function(e,t){this.path=e,this.version=t},qn=function(e,t,n,r,o,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=i};qn.store="remoteDocuments",qn.readTimeIndex="readTimeIndex",qn.readTimeIndexPath="readTime",qn.collectionReadTimeIndex="collectionReadTimeIndex",qn.collectionReadTimeIndexPath=["parentPath","readTime"];var Hn=function(e){this.byteSize=e};Hn.store="remoteDocumentGlobal",Hn.key="remoteDocumentGlobalKey";var Gn=function(e,t,n,r,o,i,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=i,this.query=a};Gn.store="targets",Gn.keyPath="targetId",Gn.queryTargetsIndexName="queryTargetsIndex",Gn.queryTargetsKeyPath=["canonicalId","targetId"];var Kn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Kn.store="targetDocuments",Kn.keyPath=["targetId","path"],Kn.documentTargetsIndex="documentTargetsIndex",Kn.documentTargetsKeyPath=["path","targetId"];var Yn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yn.key="targetGlobalKey",Yn.store="targetGlobal";var $n=function(e,t){this.collectionId=e,this.parent=t};$n.store="collectionParents",$n.keyPath=["collectionId","parent"];var Xn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Xn.store="clientMetadata",Xn.keyPath="clientId";var Qn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Qn.store="bundles",Qn.keyPath="bundleId";var Jn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Jn.store="namedQueries",Jn.keyPath="name";var Zn=Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],Object(r.d)(Object(r.d)([],[Bn.store,Un.store,Vn.store,qn.store,Gn.store,Fn.store,Yn.store,Kn.store]),[Xn.store])),[Hn.store])),[$n.store])),[Qn.store,Jn.store]),er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tr=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),nr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},rr=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&m(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,o=0,i=!1;t.forEach((function(t){++r,t.next((function(){++o,i&&o===r&&e()}),(function(e){return n(e)}))})),i=!0,o===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},o=0,i=t;o<i.length;o++)r(i[o]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,o){r.push(t.call(n,e,o))})),this.waitFor(r)},e}(),or=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new nr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new sr(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=dr(t.target.error);n.ft.reject(new sr(e,r))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(t){throw new sr(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(d("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new cr(t)},e}(),ir=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(o.getUA)())&&h("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return d("SimpleDb","Removing database:",e),lr(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(o.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/FYP-FrontEnd",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(e){var n=e.target.result;t(n)},o.onblocked=function(){r(new sr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sr(e,n))},o.onupgradeneeded=function(e){d("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,o.transaction,e.oldVersion,n.version).next((function(){d("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,a,s,u,c;return Object(r.c)(this,(function(l){switch(l.label){case 0:i="readonly"===t,a=0,s=function(){var t,s,c,l,f;return Object(r.c)(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=r.sent(),t=or.open(u.db,e,i?"readonly":"readwrite",n),s=o(t).catch((function(e){return t.abort(e),rr.reject(e)})).toPromise(),c={},s.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return l=r.sent(),f="FirebaseError"!==l.name&&a<3,d("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ar=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return lr(this.Pt.delete())},e}(),sr=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.b)(t,e),t}(c);function ur(e){return"IndexedDbTransactionError"===e.name}var cr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(d("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),lr(n)},e.prototype.add=function(e){return d("SimpleDb","ADD",this.store.name,e,e),lr(this.store.add(e))},e.prototype.get=function(e){var t=this;return lr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return d("SimpleDb","DELETE",this.store.name,e),lr(this.store.delete(e))},e.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),lr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new rr((function(n,r){t.onerror=function(e){var t=dr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new rr((function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var i=new ar(o),a=t(o.primaryKey,o.value,i);if(a instanceof rr){var s=a.catch((function(e){return i.done(),rr.reject(e)}));n.push(s)}i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)}else r()}})).next((function(){return rr.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function lr(e){return new rr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=dr(e.target.error);n(t)}}))}var fr=!1;function dr(e){var t=ir._t(Object(o.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fr||(fr=!0,setTimeout((function(){throw r}),0)),r}}return e}var hr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.b)(t,e),t}(tr);function pr(e,t){var n=y(e);return ir.It(n.Mt,t)}var vr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(e.key)&&dt(o,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(i=n[t]).key.isEqual(e.key)&&ht(i,e,this.localWriteTime);for(var r=0,o=this.mutations;r<o.length;r++){var i;(i=o[r]).key.isEqual(e.key)&&ht(i,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),o=r;t.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(k.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vt())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&x(this.mutations,e.mutations,(function(e,t){return vt(e,t)}))&&x(this.baseMutations,e.baseMutations,(function(e,t){return vt(e,t)}))},e}(),mr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){g(t.mutations.length===r.length);for(var o=Bt(),i=t.mutations,a=0;a<i.length;a++)o=o.insert(i[a].key,r[a].version);return new e(t,n,r,o)},e}(),gr=function(){function e(e,t,n,r,o,i,a){void 0===o&&(o=k.min()),void 0===i&&(i=k.min()),void 0===a&&(a=D.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),yr=function(e){this.Lt=e};function br(e,t){if(t.document)return mn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=H.fromSegments(t.noDocument.path),r=Cr(t.noDocument.readTime),o=ue.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var i=H.fromSegments(t.unknownDocument.path);return r=Cr(t.unknownDocument.version),ue.newUnknownDocument(i,r)}return m()}function wr(e,t,n){var r=_r(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:cn(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nn(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new qn(null,null,i,a,r,o)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Er(t.version);return a=t.hasCommittedMutations,new qn(null,new zn(s,u),null,a,r,o)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Er(t.version);return new qn(new Wn(c,l),null,null,!0,r,o)}return m()}function _r(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xr(e){var t=new C(e[0],e[1]);return k.fromTimestamp(t)}function Er(e){var t=e.toTimestamp();return new Ln(t.seconds,t.nanoseconds)}function Cr(e){var t=new C(e.seconds,e.nanoseconds);return k.fromTimestamp(t)}function kr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return yn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var i=t.mutations[r+1];o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return yn(e.Lt,t)})),s=C.fromMillis(t.localWriteTimeMs);return new vr(t.batchId,s,n,a)}function Sr(e){var t,n,r=Cr(e.readTime),o=void 0!==e.lastLimboFreeSnapshotVersion?Cr(e.lastLimboFreeSnapshotVersion):k.min();return void 0!==e.query.documents?(g(1===(n=e.query).documents.length),t=Fe(Re(dn(n.documents[0])))):t=function(e){return Fe(_n(e))}(e.query),new gr(t,e.targetId,0,e.lastListenSequenceNumber,r,o,D.fromBase64String(e.resumeToken))}function Tr(e,t){var n,r=Er(t.snapshotVersion),o=Er(t.lastLimboFreeSnapshotVersion);n=he(t.target)?bn(e.Lt,t.target):wn(e.Lt,t.target);var i=t.resumeToken.toBase64();return new Gn(t.targetId,fe(t.target),r,i,t.sequenceNumber,o,n)}function Or(e){var t=_n({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Be(t,t.limit,"L"):t}var Ir=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Nr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Cr(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Nr(e).put({bundleId:(n=t).id,createTime:Er(an(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Rr(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Or(t.bundledQuery),readTime:Cr(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Rr(e).put(function(e){return{name:e.name,readTime:Er(an(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Nr(e){return pr(e,Qn.store)}function Rr(e){return pr(e,Jn.store)}var Ar=function(){function e(){this.Bt=new Pr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),rr.resolve()},e.prototype.getCollectionParents=function(e,t){return rr.resolve(this.Bt.getEntries(t))},e}(),Pr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new At(N.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new At(N.comparator)).toArray()},e}(),Dr=function(){function e(){this.qt=new Pr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var i={collectionId:r,parent:Pn(o)};return Mr(e).put(i)}return rr.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[E(t),""],!1,!0);return Mr(e).Nt(r).next((function(e){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.collectionId!==t)break;n.push(jn(i.parent))}return n}))},e}();function Mr(e){return pr(e,$n.store)}var jr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Fr(e,t,n){var r=e.store(Un.store),o=e.store(Vn.store),i=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));i.push(u.next((function(){g(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var d=f[l],h=Vn.key(t,d.key.path,n.batchId);i.push(o.delete(h)),c.push(d.key)}return rr.waitFor(i).next((function(){return c}))}function Br(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw m();t=e.noDocument}return JSON.stringify(t).length}Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);var Ur=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,o){return g(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zr(e).$t({index:Un.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,i=Wr(e),a=zr(e);return a.add({}).next((function(s){g("number"==typeof s);for(var u=new vr(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return gn(e.Lt,t)})),o=n.mutations.map((function(t){return gn(e.Lt,t)}));return new Un(t,n.batchId,n.localWriteTime.toMillis(),r,o)}(o.R,o.userId,u),l=[],f=new At((function(e,t){return _(e.canonicalString(),t.canonicalString())})),d=0,h=r;d<h.length;d++){var p=h[d],v=Vn.key(o.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(i.put(v,Vn.PLACEHOLDER))}return f.forEach((function(t){l.push(o.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){o.Kt[s]=u.keys()})),rr.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return zr(e).get(t).next((function(e){return e?(g(e.userId===n.userId),kr(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?rr.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return zr(e).$t({index:Un.userMutationsIndex,range:o},(function(e,t,o){t.userId===n.userId&&(g(t.batchId>=r),i=kr(n.R,t)),o.done()})).next((function(){return i}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zr(e).$t({index:Un.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zr(e).Nt(Un.userMutationsIndex,n).next((function(e){return e.map((function(e){return kr(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Vn.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return Wr(e).$t({range:o},(function(r,o,a){var s=r[0],u=r[1],c=r[2],l=jn(u);if(s===n.userId&&t.path.isEqual(l))return zr(e).get(c).next((function(e){if(!e)throw m();g(e.userId===n.userId),i.push(kr(n.R,e))}));a.done()})).next((function(){return i}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new At(_),o=[];return t.forEach((function(t){var i=Vn.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(i),s=Wr(e).$t({range:a},(function(e,o,i){var a=e[0],s=e[1],u=e[2],c=jn(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):i.done()}));o.push(s)})),rr.waitFor(o).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,o=r.length+1,i=Vn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(i),s=new At(_);return Wr(e).$t({range:a},(function(e,t,i){var a=e[0],u=e[1],c=e[2],l=jn(u);a===n.userId&&r.isPrefixOf(l)?l.length===o&&(s=s.add(c)):i.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],o=[];return t.forEach((function(t){o.push(zr(e).get(t).next((function(e){if(null===e)throw m();g(e.userId===n.userId),r.push(kr(n.R,e))})))})),rr.waitFor(o).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Fr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),rr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return rr.resolve();var r=IDBKeyRange.lowerBound(Vn.prefixForUser(t.userId)),o=[];return Wr(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var i=jn(e[1]);o.push(i)}else r.done()})).next((function(){g(0===o.length)}))}))},e.prototype.containsKey=function(e,t){return Vr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return qr(e).get(this.userId).next((function(e){return e||new Bn(t.userId,-1,"")}))},e}();function Vr(e,t,n){var r=Vn.prefixForPath(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),a=!1;return Wr(e).$t({range:i,Ft:!0},(function(e,n,r){var i=e[0],s=e[1];e[2],i===t&&s===o&&(a=!0),r.done()})).next((function(){return a}))}function zr(e){return pr(e,Un.store)}function Wr(e){return pr(e,Vn.store)}function qr(e){return pr(e,Bn.store)}var Hr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Gr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Hr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return k.fromTimestamp(new C(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.Zt(e,o)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return g(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return Kr(e).$t((function(a,s){var u=Sr(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(o++,i.push(r.removeTargetData(e,u)))})).next((function(){return rr.waitFor(i)})).next((function(){return o}))},e.prototype.forEachTarget=function(e,t){return Kr(e).$t((function(e,n){var r=Sr(n);t(r)}))},e.prototype.Xt=function(e){return Yr(e).get(Yn.key).next((function(e){return g(null!==e),e}))},e.prototype.Zt=function(e,t){return Yr(e).put(Yn.key,t)},e.prototype.te=function(e,t){return Kr(e).put(Tr(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=fe(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return Kr(e).$t({range:r,index:Gn.queryTargetsIndexName},(function(e,n,r){var i=Sr(n);de(t,i.target)&&(o=i,r.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],i=$r(e);return t.forEach((function(t){var a=Pn(t.path);o.push(i.put(new Kn(n,a))),o.push(r.referenceDelegate.addReference(e,n,t))})),rr.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=$r(e);return rr.forEach(t,(function(t){var i=Pn(t.path);return rr.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=$r(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$r(e),o=Vt();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=jn(e[1]),i=new H(r);o=o.add(i)})).next((function(){return o}))},e.prototype.containsKey=function(e,t){var n=Pn(t.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),o=0;return $r(e).$t({index:Kn.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(o++,n.done())})).next((function(){return o>0}))},e.prototype.lt=function(e,t){return Kr(e).get(t).next((function(e){return e?Sr(e):null}))},e}();function Kr(e){return pr(e,Gn.store)}function Yr(e){return pr(e,Yn.store)}function $r(e){return pr(e,Kn.store)}function Xr(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==er)throw e;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Qr(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],a=_(n,o);return 0===a?_(r,i):a}var Jr=function(){function e(e){this.ne=e,this.buffer=new At(Qr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Zr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r.a)(t,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ur(t=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Xr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),eo=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return rr.resolve(s.o);var r=new Jr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; disabled"),rr.resolve(jr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,o,a,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),f()<=i.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),to=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new eo(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return no(e,n)},e.prototype.removeReference=function(e,t,n){return no(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return no(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return qr(e).Ot((function(r){return Vr(e,r,t).next((function(e){return e&&(n=!0),rr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],i=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return i++,r.getEntry(e,a).next((function(){return r.removeEntry(a),$r(e).delete([0,Pn(a.path)])}))}));o.push(u)}})).next((function(){return rr.waitFor(o)})).next((function(){return r.apply(e)})).next((function(){return i}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return no(e,t)},e.prototype.we=function(e,t){var n,r=$r(e),o=s.o;return r.$t({index:Kn.documentTargetsIndex},(function(e,r){var i=e[0];e[1];var a=r.path,u=r.sequenceNumber;0===i?(o!==s.o&&t(new H(jn(n)),o),o=u,n=a):o=s.o})).next((function(){o!==s.o&&t(new H(jn(n)),o)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function no(e,t){return $r(e).put(function(e,t){return new Kn(0,Pn(e.path),t)}(t,e.currentSequenceNumber))}var ro=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){T(this.inner,(function(t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];e(a,s)}}))},e.prototype.isEmpty=function(){return O(this.inner)},e}(),oo=function(){function e(){this.changes=new ro((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:k.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ue.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rr.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),io=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return uo(e).put(co(t),n)},e.prototype.removeEntry=function(e,t){var n=uo(e),r=co(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return uo(e).get(co(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return uo(e).get(co(t)).next((function(e){return{document:n.ye(t,e),size:Br(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Mt();return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Mt(),o=new It(H.comparator);return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i),o=o.insert(e,Br(t))})).next((function(){return{documents:r,Te:o}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return rr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),i=o.getNext();return uo(e).$t({range:r},(function(e,t,r){for(var a=H.fromSegments(e);i&&H.comparator(i,a)<0;)n(i,null),i=o.getNext();i&&i.isEqual(a)&&(n(i,t),i=o.hasNext()?o.getNext():null),i?r.Ct(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,o=Mt(),i=t.path.length+1,a={};if(n.isEqual(k.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=_r(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=qn.collectionReadTimeIndex}return uo(e).$t(a,(function(e,n,a){if(e.length===i){var s=br(r.R,n);t.path.isPrefixOf(s.key.path)?We(t,s)&&(o=o.insert(s.key,s)):a.done()}})).next((function(){return o}))},e.prototype.newChangeBuffer=function(e){return new ao(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return so(e).get(Hn.key).next((function(e){return g(!!e),e}))},e.prototype.me=function(e,t){return so(e).put(Hn.key,t)},e.prototype.ye=function(e,t){if(t){var n=br(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(k.min()))return n}return ue.newInvalidDocument(e)},e}(),ao=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ro((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(r.b)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=new At((function(e,t){return _(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(i,a){var s=t.Ae.get(i);if(a.document.isValidDocument()){var u=wr(t.Ie.R,a.document,t.getReadTime(i));o=o.add(i.path.popLast());var c=Br(u);r+=c-s,n.push(t.Ie.addEntry(e,i,u))}else if(r-=s,t.trackRemovals){var l=wr(t.Ie.R,ue.newNoDocument(i,k.min()),t.getReadTime(i));n.push(t.Ie.addEntry(e,i,l))}else n.push(t.Ie.removeEntry(e,i))})),o.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(oo);function so(e){return pr(e,Hn.store)}function uo(e){return pr(e,qn.store)}function co(e){return e.path.toArray()}var lo=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var o=this;g(n<r&&n>=0&&r<=11);var i=new or("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Fn.store)}(e),function(e){e.createObjectStore(Bn.store,{keyPath:Bn.keyPath}),e.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Vn.store)}(e),fo(e),function(e){e.createObjectStore(qn.store)}(e));var a=rr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Kn.store),e.deleteObjectStore(Gn.store),e.deleteObjectStore(Yn.store)}(e),fo(e)),a=a.next((function(){return function(e){var t=e.store(Yn.store),n=new Yn(0,0,k.min().toTimestamp(),0);return t.put(Yn.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Un.store).Nt().next((function(n){e.deleteObjectStore(Un.store),e.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0});var r=t.store(Un.store),o=n.map((function(e){return r.put(e)}));return rr.waitFor(o)}))}(e,i)}))),a=a.next((function(){!function(e){e.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return o.Re(i)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Hn.store)}(e),o.be(i)}))),n<7&&r>=7&&(a=a.next((function(){return o.ve(i)}))),n<8&&r>=8&&(a=a.next((function(){return o.Pe(e,i)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(qn.store);t.createIndex(qn.readTimeIndex,qn.readTimeIndexPath,{unique:!1}),t.createIndex(qn.collectionReadTimeIndex,qn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return o.Ve(i)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(e),function(e){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(qn.store).$t((function(e,n){t+=Br(n)})).next((function(){var n=new Hn(t);return e.store(Hn.store).put(Hn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Bn.store),r=e.store(Un.store);return n.Nt().next((function(n){return rr.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Un.userMutationsIndex,o).next((function(r){return rr.forEach(r,(function(r){g(r.userId===n.userId);var o=kr(t.R,r);return Fr(e,n.userId,o).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Kn.store),n=e.store(qn.store);return e.store(Yn.store).get(Yn.key).next((function(e){var r=[];return n.$t((function(n,o){var i=new N(n),a=function(e){return[0,Pn(e)]}(i);r.push(t.get(a).next((function(n){return n?rr.resolve():function(n){return t.put(new Kn(0,Pn(n),e.highestListenSequenceNumber))}(i)})))})).next((function(){return rr.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore($n.store,{keyPath:$n.keyPath});var n=t.store($n.store),r=new Pr,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:Pn(o)})}};return t.store(qn.store).$t({Ft:!0},(function(e,t){var n=new N(e);return o(n.popLast())})).next((function(){return t.store(Vn.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=jn(n);return o(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Gn.store);return n.$t((function(e,r){var o=Sr(r),i=Tr(t.R,o);return n.put(i)}))},e}();function fo(e){e.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.documentTargetsIndex,Kn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.queryTargetsIndexName,Gn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yn.store)}var ho="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",po=function(){function e(t,n,r,o,i,a,s,l,f,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=i,this.window=a,this.document=s,this.De=f,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new to(this,o),this.Le=n+"main",this.R=new yr(l),this.Be=new ir(this.Le,11,new lo(this.R)),this.qe=new Gr(this.referenceDelegate,this.R),this.Ut=new Dr,this.Ue=function(e,t){return new io(e,t)}(this.R,this.Ut),this.Ke=new Ir,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===d&&h("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ho);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new s(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return mo(t).put(new Xn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ur(t))return d("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return vo(e).get(Fn.key).next((function(e){return rr.resolve(t.tn(e))}))},e.prototype.en=function(e){return mo(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o,i=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=pr(e,Xn.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return rr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)o=n[t],this.Qe.removeItem(this.on(o.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?rr.resolve(!0):vo(e).get(Fn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ho);return!1}}return!(!t.networkEnabled||!t.inForeground)||mo(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&d("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(r.a)(this,void 0,void 0,(function(){var e=this;return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fn.store,Xn.store],(function(t){var n=new hr(t,s.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return mo(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Ur.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;d("IndexedDbPersistence","Starting transaction:",e);var o,i="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,i,Zn,(function(i){return o=new hr(i,r.Ne?r.Ne.next():s.o),"readwrite-primary"===t?r.Je(o).next((function(e){return!!e||r.Ye(o)})).next((function(t){if(!t)throw h("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new c(u.FAILED_PRECONDITION,er);return n(o)})).next((function(e){return r.Ze(o).next((function(){return e}))})):r.dn(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return vo(e).get(Fn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,ho)}))},e.prototype.Ze=function(e){var t=new Fn(this.clientId,this.allowTabSynchronization,Date.now());return vo(e).put(Fn.key,t)},e.yt=function(){return ir.yt()},e.prototype.Xe=function(e){var t=this,n=vo(e);return n.get(Fn.key).next((function(e){return t.tn(e)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Fn.key)):rr.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(h("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),Object(o.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return d("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return h("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){h("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function vo(e){return pr(e,Fn.store)}function mo(e){return pr(e,Xn.store)}function go(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yo=function(e,t){this.progress=e,this.wn=t},bo=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,o=t;r<o.length;r++)o[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return H.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):je(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new H(t)).next((function(e){var t=Lt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,o=t.collectionGroup,i=Lt();return this.Ut.getCollectionParents(e,o).next((function(a){return rr.forEach(a,(function(a){var s=function(e,t){return new Ie(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(o));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},e.prototype.An=function(e,t,n){var r,o,i=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,i._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o=t,i.Rn(e,o,r).next((function(e){r=e;for(var t=0,n=o;t<n.length;t++)for(var i=n[t],a=0,s=i.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ue.newInvalidDocument(c),r=r.insert(c,l)),ht(u,l,i.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){We(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Vt(),o=0,i=t;o<i.length;o++)for(var a=0,s=i[o].mutations;a<s.length;a++){var u=s[a];u instanceof yt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),wo=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Vt(),o=Vt(),i=0,a=n.docChanges;i<a.length;i++){var s=a[i];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),_o=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(k.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var s=o.Cn(t,a);return(Ae(t)||Pe(t))&&o.Nn(t.limitType,s,r,n)?o.Dn(e,t):(f()<=i.LogLevel.DEBUG&&d("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ze(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new At(qe(e));return t.forEach((function(t,r){We(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var o="F"===e?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return f()<=i.LogLevel.DEBUG&&d("QueryEngine","Using full collection scan to execute query:",ze(t)),this.Sn.getDocumentsMatchingQuery(e,t,k.min())},e}(),xo=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new It(_),this.Fn=new ro((function(e){return fe(e)}),de),this.$n=k.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new bo(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Eo(e,t,n,r){return new xo(e,t,n,r)}function Co(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n._n.getAllMutationBatches(e).next((function(a){return r=a,o=n.persistence.getMutationQueue(t),i=new bo(n.On,o,n.persistence.getIndexManager()),o.getAllMutationBatches(e)})).next((function(t){for(var n=[],o=[],a=Vt(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var d=f[l];a=a.add(d.key)}}for(var h=0,p=t;h<p.length;h++){var v=p[h];o.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:o}}))}))}))];case 1:return a=r.sent(),[2,(n._n=o,n.Mn=i,n.xn.Vn(n.Mn),a)]}}))}))}function ko(e,t){var n=y(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var o=n.batch,i=o.keys(),a=rr.resolve();return i.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var i=n.docVersions.get(e);g(null!==i),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,o)}))}(n,e,t,o).next((function(){return o.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function So(e){var t=y(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function To(e,t){var n=y(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var i=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var a=[];t.targetChanges.forEach((function(t,i){var s=o.get(i);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,i).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,i)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);o=o.insert(i,c),function(e,t,n){return g(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Mt();if(t.documentUpdates.forEach((function(r,o){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Oo(e,i,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(k.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return rr.waitFor(a).next((function(){return i.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=o,e}))}function Oo(e,t,n,r,o){var i=Vt();return n.forEach((function(e){return i=i.add(e)})),t.getEntries(e,i).next((function(e){var i=Mt();return n.forEach((function(n,a){var s=e.get(n),u=(null==o?void 0:o.get(n))||r;a.isNoDocument()&&a.version.isEqual(k.min())?(t.removeEntry(n,u),i=i.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),i=i.insert(n,a)):d("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),i}))}function Io(e,t){var n=y(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function No(e,t){var n=y(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(o){return o?(r=o,rr.resolve(r)):n.qe.allocateTargetId(e).next((function(o){return r=new gr(t,o,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Ro(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:o=y(e),i=o.kn.get(t),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,o.persistence.runTransaction("Release target",a,(function(e){return o.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ur(s=r.sent()))throw s;return d("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return o.kn=o.kn.remove(t),o.Fn.delete(i.target),[2]}}))}))}function Ao(e,t,n){var r=y(e),o=k.min(),i=Vt();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=y(e),o=r.Fn.get(n);return void 0!==o?rr.resolve(r.kn.get(o)):r.qe.getTargetData(t,n)}(r,e,Fe(t)).next((function(t){if(t)return o=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){i=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?o:k.min(),n?i:Vt())})).next((function(e){return{documents:e,Bn:i}}))}))}function Po(e,t){var n=y(e),r=y(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Do(e){var t=y(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=y(e),o=Mt(),i=_r(n),a=uo(t),s=IDBKeyRange.lowerBound(i,!0);return a.$t({index:qn.readTimeIndex,range:s},(function(e,t){var n=br(r.R,t);o=o.insert(n.key,n),i=t.readTime})).next((function(){return{wn:o,readTime:xr(i)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Mo(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){return[2,(t=y(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=uo(e),n=k.min();return t.$t({index:qn.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=xr(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function jo(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,h,p;return Object(r.c)(this,(function(r){switch(r.label){case 0:for(i=y(e),a=Vt(),s=Mt(),u=Bt(),c=0,l=n;c<l.length;c++)f=l[c],d=t.qn(f.metadata.name),f.document&&(a=a.add(d)),s=s.insert(d,t.Un(f)),u=u.insert(d,t.Kn(f.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,No(i,function(e){return Fe(Re(N.fromString("__bundle__/docs/"+e)))}(o))];case 1:return p=r.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Oo(e,h,s,k.min(),u).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.qe.addMatchingKeys(e,a,p.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Lo(e,t,n){return void 0===n&&(n=Vt()),Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,No(e,Fe(Or(t.bundledQuery)))];case 1:return o=r.sent(),[2,(i=y(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var r=an(t.readTime);if(o.snapshotVersion.compareTo(r)>=0)return i.Ke.saveNamedQuery(e,t);var a=o.withResumeToken(D.EMPTY_BYTE_STRING,r);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,o.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,o.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Fo=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return rr.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:an(n.createTime)}),rr.resolve()},e.prototype.getNamedQuery=function(e,t){return rr.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Or(e.bundledQuery),readTime:an(e.readTime)}}(t)),rr.resolve()},e}(),Bo=function(){function e(){this.Wn=new At(Uo.Gn),this.zn=new At(Uo.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Uo(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Uo(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new H(new N([])),r=new Uo(n,e),o=new Uo(n,e+1),i=[];return this.zn.forEachInRange([r,o],(function(e){t.Yn(e),i.push(e.key)})),i},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new H(new N([])),n=new Uo(t,e),r=new Uo(t,e+1),o=Vt();return this.zn.forEachInRange([n,r],(function(e){o=o.add(e.key)})),o},e.prototype.containsKey=function(e){var t=new Uo(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Uo=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return H.comparator(e.key,t.key)||_(e.ns,t.ns)},e.Hn=function(e,t){return _(e.ns,t.ns)||H.comparator(e.key,t.key)},e}(),Vo=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new At(Uo.Gn)}return e.prototype.checkEmpty=function(e){return rr.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var i=new vr(o,t,n,r);this._n.push(i);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Uo(u.key,o)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return rr.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return rr.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),o=r<0?0:r;return rr.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return rr.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return rr.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Uo(t,0),o=new Uo(t,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,o],(function(e){var t=n.os(e.ns);i.push(t)})),rr.resolve(i)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new At(_);return t.forEach((function(e){var t=new Uo(e,0),o=new Uo(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,o],(function(e){r=r.add(e.ns)}))})),rr.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,o=n;H.isDocumentKey(o)||(o=o.child(""));var i=new Uo(new H(o),0),a=new At(_);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),i),rr.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;g(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return rr.forEach(t.mutations,(function(o){var i=new Uo(o.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Uo(t,0),r=this.rs.firstAfterOrEqual(n);return rr.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,rr.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),zo=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new It(H.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,o=this.docs.get(r),i=o?o.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return rr.resolve(n?n.document.clone():ue.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Mt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ue.newInvalidDocument(e))})),rr.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Mt(),o=new H(t.path.child("")),i=this.docs.getIteratorFrom(o);i.hasNext();){var a=i.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||We(t,c)&&(r=r.insert(c.key,c.clone()))}return rr.resolve(r)},e.prototype.fs=function(e,t){return rr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Wo(this)},e.prototype.getSize=function(e){return rr.resolve(this.size)},e}(),Wo=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.b)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,o){o.document.isValidDocument()?n.push(t.Ie.addEntry(e,o.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(oo),qo=function(){function e(e){this.persistence=e,this.ds=new ro((function(e){return fe(e)}),de),this.lastRemoteSnapshotVersion=k.min(),this.highestTargetId=0,this.ws=0,this._s=new Bo,this.targetCount=0,this.ys=Hr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),rr.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return rr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return rr.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),rr.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),rr.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Hr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,rr.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),rr.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,rr.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),i.push(r.removeMatchingKeysForTargetId(e,s.targetId)),o++)})),rr.waitFor(i).next((function(){return o}))},e.prototype.getTargetCount=function(e){return rr.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return rr.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),rr.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.markPotentiallyOrphaned(e,t))})),rr.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),rr.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return rr.resolve(n)},e.prototype.containsKey=function(e,t){return rr.resolve(this._s.containsKey(t))},e}(),Ho=function(){function e(e,t){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new qo(this),this.Ut=new Ar,this.Ue=function(e,t){return new zo(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new yr(t),this.Ke=new Fo(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Vo(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;d("MemoryPersistence","Starting transaction:",e);var o=new Go(this.Ne.next());return this.referenceDelegate.Es(),n(o).next((function(e){return r.referenceDelegate.Ts(o).next((function(){return e}))})).toPromise().then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return rr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Go=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.b)(t,e),t}(tr),Ko=function(){function e(e){this.persistence=e,this.As=new Bo,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw m()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),rr.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),rr.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),rr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rr.forEach(this.vs,(function(r){var o=H.fromPath(r);return t.Ps(e,o).next((function(e){e||n.removeEntry(o)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return rr.or([function(){return rr.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Yo=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function $o(e,t){return"firestore_clients_"+e+"_"+t}function Xo(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Qo(e,t){return"firestore_targets_"+e+"_"+t}Yo.UNAUTHENTICATED=new Yo(null),Yo.GOOGLE_CREDENTIALS=new Yo("google-credentials-uid"),Yo.FIRST_PARTY=new Yo("first-party-uid"),Yo.MOCK_USER=new Yo("mock-user");var Jo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var o,i=JSON.parse(r),a="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new c(i.error.code,i.error.message)),a?new e(t,n,i.state,o):(h("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Zo=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,o=JSON.parse(n),i="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new c(o.error.code,o.error.message)),i?new e(t,o.state,r):(h("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ei=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=Wt(),a=0;o&&a<r.activeTargetIds.length;++a)o=q(r.activeTargetIds[a]),i=i.add(r.activeTargetIds[a]);return o?new e(t,i):(h("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ti=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(h("SharedClientState","Failed to parse online state: "+t),null)},e}(),ni=function(){function e(){this.activeTargetIds=Wt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),ri=function(){function e(e,t,n,r,o){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new It(_),this.started=!1,this.$s=[];var i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=$o(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new ni),this.Ls=new RegExp("^firestore_clients_"+i+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+i+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+i+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o,i,a,s,u,c,l,f,d=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(o=n[t])!==this.Ns&&(i=this.getItem($o(this.persistenceKey,o)))&&(a=ei.Vs(o,i))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Qo(this.persistenceKey,e));if(n){var r=Zo.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Qo(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return d("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){d("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){d("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void h("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r.a)(t,void 0,void 0,(function(){var e,t,o,i,a,u;return Object(r.c)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(o=this.si(n.key,n.newValue)))return[2,this.ii(o)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(u=function(e){var t=s.o;if(null!=e)try{var n=JSON.parse(e);g("number"==typeof n),t=n}catch(e){h("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Jo(this.currentUser,e,t,n),o=Xo(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Ss())},e.prototype.Hs=function(e){var t=Xo(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Qo(this.persistenceKey,e),o=new Zo(e,t,n);this.setItem(r,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return ei.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return Jo.Vs(new Yo(o),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Zo.Vs(r,t)},e.prototype.js=function(e){return ti.Vs(e)},e.prototype.ii=function(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),o=this.Gs(this.Fs),i=this.Gs(r),a=[],s=[];return i.forEach((function(e){o.has(e)||a.push(e)})),o.forEach((function(e){i.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Wt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),oi=function(){function e(){this.li=new ni,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ni,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),ii=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),ai=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),si={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ui=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),ci=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.b)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(o,i){var s=new a.g;s.listenOnce(a.c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.a.NO_ERROR:var t=s.getResponseJson();d("Connection","XHR received:",JSON.stringify(t)),o(t);break;case a.a.TIMEOUT:d("Connection",'RPC "'+e+'" timed out'),i(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:var n=s.getStatus();if(d("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);i(new c(l,r.message))}else i(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else i(new c(u.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{d("Connection",'RPC "'+e+'" completed.')}}));var l=JSON.stringify(r);s.send(t,"POST",l,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(a.h)(),i=Object(a.i)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new a.d({})),this.ki(s.initMessageHeaders,t),Object(o.isMobileCordova)()||Object(o.isReactNative)()||Object(o.isElectron)()||Object(o.isIE)()||Object(o.isUWP)()||Object(o.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");d("Connection","Creating WebChannel: "+l,s);var f=r.createWebChannel(l,s),h=!1,v=!1,m=new ui({Ei:function(e){v?d("Connection","Not sending because WebChannel is closed:",e):(h||(d("Connection","Opening WebChannel transport."),f.open(),h=!0),d("Connection","WebChannel sending:",e),f.send(e))},Ti:function(){return f.close()}}),y=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return y(f,a.f.EventType.OPEN,(function(){v||d("Connection","WebChannel transport opened.")})),y(f,a.f.EventType.CLOSE,(function(){v||(v=!0,d("Connection","WebChannel transport closed"),m.Vi())})),y(f,a.f.EventType.ERROR,(function(e){v||(v=!0,p("Connection","WebChannel transport errored:",e),m.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))})),y(f,a.f.EventType.MESSAGE,(function(e){var t;if(!v){var n=e.data[0];g(!!n);var r=n,o=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(o){d("Connection","WebChannel received error:",o);var i=o.status,a=function(e){var t=xt[e];if(void 0!==t)return Ot(t)}(i),s=o.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+i+" with message "+o.message),v=!0,m.Vi(new c(a,s)),f.close()}else d("Connection","WebChannel received:",n),m.Si(n)}})),y(i,a.b.STAT_EVENT,(function(e){e.stat===a.e.PROXY?d("Connection","Detected buffering proxy"):e.stat===a.e.NOPROXY&&d("Connection","Detected no buffering proxy")})),setTimeout((function(){m.Pi()}),0),m},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var o=this.xi(e,t);d("RestConnection","Sending: ",o,n);var i={};return this.ki(i,r),this.Fi(e,o,i,n).then((function(e){return d("RestConnection","Received: ",e),e}),(function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=si[e];return this.Di+"/v1/"+t+":"+n},e}());function li(){return"undefined"!=typeof window?window:null}function fi(){return"undefined"!=typeof document?document:null}function di(e){return new tn(e,!0)}var hi=function(){function e(e,t,n,r,o){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===o&&(o=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),o=Math.max(0,n-r);o>0&&d("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),pi=function(){function e(e,t,n,r,o,i){this.Se=e,this.zi=n,this.Hi=r,this.Ji=o,this.listener=i,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new hi(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(h(t.toString()),h("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(r.a)(e,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return d("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),vi=function(e){function t(t,n,r,o,i){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,i)||this).R=o,a}return Object(r.b)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:m()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.I?(g(void 0===t||"string"==typeof t),D.fromBase64String(t||"")):(g(void 0===t||t instanceof Uint8Array),D.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:Ot(e.code);return new c(t,e.message||"")}(s);n=new Yt(r,o,i,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,o=ln(e,r.document.name),i=an(r.document.updateTime);var s=new ae({mapValue:{fields:r.document.fields}}),l=(a=ue.newFoundDocument(o,i,s),r.targetIds||[]),f=r.removedTargetIds||[];n=new Gt(l,f,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,o=ln(e,r.document),i=r.readTime?an(r.readTime):k.min(),s=ue.newNoDocument(o,i),a=r.removedTargetIds||[],n=new Gt([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,o=ln(e,r.document),i=r.removedTargetIds||[],n=new Gt([],i,o,null);else{if(!("filter"in t))return m();t.filter;var d=t.filter;d.targetId,r=d.count||0,o=new St(r),i=d.targetId,n=new Kt(i,o)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return k.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?k.min():t.readTime?an(t.readTime):k.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=hn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=he(r)?{documents:bn(e,r)}:{query:wn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rn(e,t.resumeToken):t.snapshotVersion.compareTo(k.min())>0&&(n.readTime=nn(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=hn(this.R),t.removeTarget=e,this.cr(t)},t}(pi),mi=function(e){function t(t,n,r,o,i){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,i)||this).R=o,a.gr=!1,a}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(g(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?an(e.updateTime):an(t);return n.isEqual(k.min())&&(n=an(t)),new ut(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=an(e.commitTime);return this.listener.Tr(n,t)}return g(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=hn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return gn(t.R,e)}))};this.cr(n)},t}(pi),gi=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).credentials=t,o.Hi=n,o.R=r,o.Rr=!1,o}return Object(r.b)(t,e),t.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(o){return r.Hi.Ni(e,t,n,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(o){return r.Hi.$i(e,t,n,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),yi=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(h(t),this.Vr=!1):d("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),bi=function(e,t,n,o,i){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Object(r.a)(a,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return Oi(this)?(d("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return(t=y(e)).Or.add(4),[4,_i(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,wi(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new yi(n,o)};function wi(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:if(!Oi(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function _i(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function xi(e,t){var n=y(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ti(n)?Si(n):Wi(n).er()&&Ci(n,t))}function Ei(e,t){var n=y(e),r=Wi(n);n.$r.delete(t),r.er()&&ki(n,t),0===n.$r.size&&(r.er()?r.ir():Oi(n)&&n.Br.set("Unknown"))}function Ci(e,t){e.qr.U(t.targetId),Wi(e).mr(t)}function ki(e,t){e.qr.U(t),Wi(e).yr(t)}function Si(e){e.qr=new Xt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Wi(e).start(),e.Br.Sr()}function Ti(e){return Oi(e)&&!Wi(e).tr()&&e.$r.size>0}function Oi(e){return 0===y(e).Or.size}function Ii(e){e.qr=void 0}function Ni(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return e.$r.forEach((function(t,n){Ci(e,t)})),[2]}))}))}function Ri(e,t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){return Ii(e),Ti(e)?(e.Br.Nr(t),Si(e)):e.Br.set("Unknown"),[2]}))}))}function Ai(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a;return Object(r.c)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Yt&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=t.cause,o=0,i=t.targetIds,r.label=1;case 1:return o<i.length?(a=i[o],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(a),e.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return o++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return o=s.sent(),d("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,Pi(e,o)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Gt?e.qr.X(t):t instanceof Kt?e.qr.rt(t):e.qr.et(t),n.isEqual(k.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,So(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var o=e.$r.get(r);o&&e.$r.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(D.EMPTY_BYTE_STRING,n.snapshotVersion)),ki(e,t);var r=new gr(n.target,t,1,n.sequenceNumber);Ci(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Pi(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Pi(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o=this;return Object(r.c)(this,(function(i){switch(i.label){case 0:if(!ur(t))throw t;return e.Or.add(1),[4,_i(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return So(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(r.a)(o,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,wi(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Di(e,t){return t().catch((function(n){return Pi(e,n,t)}))}function Mi(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n,o,i,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:t=y(e),n=qi(t),o=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Oi(e)&&e.Fr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Io(t.localStore,o)];case 3:return null===(i=r.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(o=i.batchId,function(e,t){e.Fr.push(t);var n=qi(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return a=r.sent(),[4,Pi(t,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return ji(t)&&Li(t),[2]}}))}))}function ji(e){return Oi(e)&&!qi(e).tr()&&e.Fr.length>0}function Li(e){qi(e).start()}function Fi(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return qi(e).Ar(),[2]}))}))}function Bi(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n,o,i;return Object(r.c)(this,(function(r){for(t=qi(e),n=0,o=e.Fr;n<o.length;n++)i=o[n],t.Er(i.mutations);return[2]}))}))}function Ui(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return o=e.Fr.shift(),i=mr.from(o,t,n),[4,Di(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return r.sent(),[4,Mi(e)];case 2:return r.sent(),[2]}}))}))}function Vi(e,t){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return t&&qi(e).pr?[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return Tt(o=t.code)&&o!==u.ABORTED?(n=e.Fr.shift(),qi(e).sr(),[4,Di(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,Mi(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ji(e)&&Li(e),[2]}}))}))}function zi(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),t?(n.Or.delete(2),[4,wi(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,_i(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Wi(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=y(e);return r.br(),new vi(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ni.bind(null,e),Ri:Ri.bind(null,e),_r:Ai.bind(null,e)}),e.Mr.push((function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ti(e)?Si(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Ii(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function qi(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=y(e);return r.br(),new mi(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Fi.bind(null,e),Ri:Vi.bind(null,e),Ir:Bi.bind(null,e),Tr:Ui.bind(null,e)}),e.Mr.push((function(n){return Object(r.a)(t,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Mi(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(d("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Hi=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,o,i){var a=new e(t,n,Date.now()+r,o,i);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Gi(e,t){if(h("AsyncQueue",t+": "+e),ur(e))return new c(u.UNAVAILABLE,t+": "+e);throw e}var Ki=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||H.comparator(t.key,n.key)}:function(e,t){return H.comparator(e.key,t.key)},this.keyedMap=Lt(),this.sortedSet=new It(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Yi=function(){function e(){this.Qr=new It(H.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):m():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),$i=function(){function e(e,t,n,r,o,i,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,o){var i=[];return n.forEach((function(e){i.push({type:0,doc:e})})),new e(t,n,Ki.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ue(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Xi=function(){this.Wr=void 0,this.listeners=[]},Qi=function(){this.queries=new ro((function(e){return Ve(e)}),Ue),this.onlineState="Unknown",this.Gr=new Set};function Ji(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s,u,c;return Object(r.c)(this,(function(r){switch(r.label){case 0:if(n=y(e),o=t.query,i=!1,(a=n.queries.get(o))||(i=!0,a=new Xi),!i)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.onListen(o)];case 2:return s.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=Gi(u,"Initialization of query '"+ze(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(o,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&na(n),[2]}}))}))}function Zi(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s;return Object(r.c)(this,(function(r){return n=y(e),o=t.query,i=!1,(a=n.queries.get(o))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),i=0===a.listeners.length),i?[2,(n.queries.delete(o),n.onUnlisten(o))]:[2]}))}))}function ea(e,t){for(var n=y(e),r=!1,o=0,i=t;o<i.length;o++){var a=i[o],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&na(n)}function ta(e,t,n){var r=y(e),o=r.queries.get(t);if(o)for(var i=0,a=o.listeners;i<a.length;i++)a[i].onError(n);r.queries.delete(t)}function na(e){e.Gr.forEach((function(e){e.next()}))}var ra=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];3!==o.type&&t.push(o)}e=new $i(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var i=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),i=!0):this.eo(e,this.onlineState)&&(this.no(e),i=!0),this.Xr=e,i},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=$i.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),oa=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ia=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ln(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?mn(this.R,e.document,!1):ue.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return an(e)},e}(),aa=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=sa(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ia(this.R),r=0,o=e;r<o.length;r++){var i=o[r];if(i.metadata.queries)for(var a=n.qn(i.metadata.name),s=0,u=i.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Vt()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,jo(this.localStore,new ia(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,o=this.queries,r.label=2;case 2:return n<o.length?(i=o[n],[4,Lo(this.localStore,i,t.get(i.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new yo(Object.assign({},this.progress),e))]}}))}))},e}();function sa(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ua=function(e){this.key=e},ca=function(e){this.key=e},la=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Vt(),this.mutatedKeys=Vt(),this.lo=qe(e),this.fo=new Ki(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Yi,o=t?t.fo:this.fo,i=t?t.mutatedKeys:this.mutatedKeys,a=o,s=!1,u=Ae(this.query)&&o.size===this.query.limit?o.last():null,c=Pe(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((function(e,t){var l=o.get(e),f=We(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),Ae(this.query)||Pe(this.query))for(;a.size>this.query.limit;){var l=Ae(this.query)?a.last():a.first();a=a.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:i}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var i=e.mo.jr();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==i.length||u?{snapshot:new $i(this.query,e.fo,o,i,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Yi,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Vt(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new ca(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ua(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Vt();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return $i.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),fa=function(e,t,n){this.query=e,this.targetId=t,this.view=n},da=function(e){this.key=e,this.bo=!1},ha=function(){function e(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.vo={},this.Po=new ro((function(e){return Ve(e)}),Ue),this.Vo=new Map,this.So=new Set,this.Do=new It(H.comparator),this.Co=new Map,this.No=new Bo,this.xo={},this.ko=new Map,this.Fo=Hr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function pa(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=Wa(e),(a=n.Po.get(t))?(o=a.targetId,n.sharedClientState.addLocalQueryTarget(o),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,No(n.localStore,Fe(t))];case 2:return s=r.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),o=s.targetId,[4,va(n,t,o,"current"===u)];case 3:i=r.sent(),n.isPrimaryClient&&xi(n.remoteStore,s),r.label=4;case 4:return[2,i]}}))}))}function va(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,a,s,u,c,l;return Object(r.c)(this,(function(f){switch(f.label){case 0:return e.Oo=function(t,n,o){return function(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,a,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(i=t.view._o(n)).Nn?[4,Ao(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=r.sent(),r.label=2;case 2:return a=o&&o.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a),[2,(Oa(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,o)},[4,Ao(e.localStore,t,!0)];case 1:return i=f.sent(),a=new la(t,i.Bn),s=a._o(i.documents),u=Ht.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==e.onlineState),c=a.applyChanges(s,e.isPrimaryClient,u),Oa(e,n,c.To),l=new fa(t,n,a),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function ma(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=n.Po.get(t),(i=n.Vo.get(o.targetId)).length>1?[2,(n.Vo.set(o.targetId,i.filter((function(e){return!Ue(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,Ro(n.localStore,o.targetId,!1).then((function(){n.sharedClientState.clearQueryState(o.targetId),Ei(n.remoteStore,o.targetId),Sa(n,o.targetId)})).catch(Xr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Sa(n,o.targetId),[4,Ro(n.localStore,o.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ga(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:o=qa(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=y(e),o=C.now(),i=t.reduce((function(e,t){return e.add(t.key)}),Vt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,i).next((function(i){n=i;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=pt(c,n.get(c.key));null!=l&&a.push(new yt(c.key,l,se(l.value.mapValue),ct.exists(!0)))}return r._n.addMutationBatch(e,o,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(o.localStore,t)];case 2:return i=r.sent(),o.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new It(_)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(o,i.batchId,n),[4,Ra(o,i.changes)];case 3:return r.sent(),[4,Mi(o.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Gi(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function ya(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,To(n.localStore,t)];case 2:return o=r.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(g(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?g(r.bo):e.removedDocuments.size>0&&(g(r.bo),r.bo=!1))})),[4,Ra(n,o,t)];case 3:return r.sent(),[3,6];case 4:return[4,Xr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ba(e,t,n){var r=y(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var o=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&o.push(r.snapshot)})),function(e,t){var n=y(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var o=0,i=n.listeners;o<i.length;o++)i[o].zr(t)&&(r=!0)})),r&&na(n)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wa(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a,s,u,c;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(o=y(e)).sharedClientState.updateQueryState(t,"rejected",n),i=o.Co.get(t),(a=i&&i.key)?(s=(s=new It(H.comparator)).insert(a,ue.newNoDocument(a,k.min())),u=Vt().add(a),c=new qt(k.min(),new Map,new At(_),s,u),[4,ya(o,c)]):[3,2];case 1:return r.sent(),o.Do=o.Do.remove(a),o.Co.delete(t),Na(o),[3,4];case 2:return[4,Ro(o.localStore,t,!1).then((function(){return Sa(o,t,n)})).catch(Xr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function _a(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),o=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,ko(n.localStore,t)];case 2:return i=r.sent(),ka(n,o,null),Ca(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),[4,Ra(n,i)];case 3:return r.sent(),[3,6];case 4:return[4,Xr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function xa(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:o=y(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return g(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(o.localStore,t)];case 2:return i=r.sent(),ka(o,t,n),Ca(o,t),o.sharedClientState.updateMutationState(t,"rejected",n),[4,Ra(o,i)];case 3:return r.sent(),[3,6];case 4:return[4,Xr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ea(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:Oi((n=y(e)).remoteStore)||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=y(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(o=r.sent())?[2,void t.resolve()]:((i=n.ko.get(o)||[]).push(t),n.ko.set(o,i),[3,4]);case 3:return a=r.sent(),s=Gi(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function Ca(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function ka(e,t,n){var r=y(e),o=r.xo[r.currentUser.toKey()];if(o){var i=o.get(t);i&&(n?i.reject(n):i.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function Sa(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var i=o[r];e.Po.delete(i),n&&e.vo.Mo(i,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Ta(e,t)}))}function Ta(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Ei(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Na(e))}function Oa(e,t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];i instanceof ua?(e.No.addReference(i.key,t),Ia(e,i)):i instanceof ca?(d("SyncEngine","Document no longer in limbo: "+i.key),e.No.removeReference(i.key,t),e.No.containsKey(i.key)||Ta(e,i.key)):m()}}function Ia(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(d("SyncEngine","New document in limbo: "+n),e.So.add(r),Na(e))}function Na(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new H(N.fromString(t)),r=e.Fo.next();e.Co.set(r,new da(n)),e.Do=e.Do.insert(n,r),xi(e.remoteStore,new gr(Fe(Re(n.path)),r,2,s.o))}}function Ra(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a,s;return Object(r.c)(this,(function(u){switch(u.label){case 0:return o=y(e),i=[],a=[],s=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach((function(e,r){s.push(o.Oo(r,t,n).then((function(e){if(e){o.isPrimaryClient&&o.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=wo.Pn(r.targetId,e);a.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),o.vo._r(i),[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s,u,c,l,f;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return rr.forEach(t,(function(t){return rr.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return rr.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!ur(o=r.sent()))throw o;return d("LocalStore","Failed to update sequence numbers: "+o),[3,4];case 4:for(i=0,a=t;i<a.length;i++)s=a[i],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,f));return[2]}}))}))}(o.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Aa(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(n=y(e)).currentUser.isEqual(t)?[3,3]:(d("SyncEngine","User change. New user:",t.toKey()),[4,Co(n.localStore,t)]);case 1:return o=r.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,Ra(n,o.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Pa(e,t){var n=y(e),r=n.Co.get(t);if(r&&r.bo)return Vt().add(r.key);var o=Vt(),i=n.Vo.get(t);if(!i)return o;for(var a=0,s=i;a<s.length;a++){var u=s[a],c=n.Po.get(u);o=o.unionWith(c.view.wo)}return o}function Da(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,Ao((n=y(e)).localStore,t.query,!0)];case 1:return o=r.sent(),i=t.view.Ao(o),[2,(n.isPrimaryClient&&Oa(n,t.targetId,i.To),i)]}}))}))}function Ma(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){return[2,Do((t=y(e)).localStore).then((function(e){return Ra(t,e)}))]}))}))}function ja(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=y(e),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):rr.resolve(null)}))}))}((i=y(e)).localStore,t)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Mi(i.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ka(i,t,o||null),Ca(i,t),function(e,t){y(y(e)._n).Gt(t)}(i.localStore,t)):m(),r.label=4;case 4:return[4,Ra(i,a)];case 5:return r.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function La(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s,u,c,l;return Object(r.c)(this,(function(r){switch(r.label){case 0:return Wa(n=y(e)),qa(n),!0!==t||!0===n.$o?[3,3]:(o=n.sharedClientState.getAllActiveQueryTargets(),[4,Fa(n,o.toArray())]);case 1:return i=r.sent(),n.$o=!0,[4,zi(n.remoteStore,!0)];case 2:for(r.sent(),a=0,s=i;a<s.length;a++)u=s[a],xi(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Sa(n,t),Ro(n.localStore,t,!0)})),Ei(n.remoteStore,t)})),[4,l]);case 4:return r.sent(),[4,Fa(n,c)];case 5:return r.sent(),function(e){var t=y(e);t.Co.forEach((function(e,n){Ei(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new It(H.comparator)}(n),n.$o=!1,[4,zi(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Fa(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s,u,c,l,f,d,h,p,v,m;return Object(r.c)(this,(function(r){switch(r.label){case 0:n=y(e),o=[],i=[],a=0,s=t,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,No(n.localStore,Fe(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),f=0,d=l,r.label=3;case 3:return f<d.length?(h=d[f],p=n.Po.get(h),[4,Da(n,p)]):[3,6];case 4:(v=r.sent()).snapshot&&i.push(v.snapshot),r.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Po(n.localStore,u)];case 8:return m=r.sent(),[4,No(n.localStore,m)];case 9:return c=r.sent(),[4,va(n,Ba(m),u,!1)];case 10:r.sent(),r.label=11;case 11:o.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(i),o)]}}))}))}function Ba(e){return Ne(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ua(e){var t=y(e);return y(y(t.localStore).persistence).fn()}function Va(e,t,n,o){return Object(r.a)(this,void 0,void 0,(function(){var i,a,s;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(i=y(e)).$o?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Do(i.localStore)];case 3:return a=r.sent(),s=qt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ra(i,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,Ro(i.localStore,t,!0)];case 6:return r.sent(),Sa(i,t,o),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function za(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,h,p;return Object(r.c)(this,(function(v){switch(v.label){case 0:if(!(o=Wa(e)).$o)return[3,10];i=0,a=t,v.label=1;case 1:return i<a.length?(s=a[i],o.Vo.has(s)?(d("SyncEngine","Adding an already active target "+s),[3,5]):[4,Po(o.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,No(o.localStore,u)];case 3:return c=v.sent(),[4,va(o,Ba(u),c.targetId,!1)];case 4:v.sent(),xi(o.remoteStore,c),v.label=5;case 5:return i++,[3,1];case 6:l=function(e){return Object(r.c)(this,(function(t){switch(t.label){case 0:return o.Vo.has(e)?[4,Ro(o.localStore,e,!1).then((function(){Ei(o.remoteStore,e),Sa(o,e)})).catch(Xr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,h=n,v.label=7;case 7:return f<h.length?(p=h[f],[5,l(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Wa(e){var t=y(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ya.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pa.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wa.bind(null,t),t.vo._r=ea.bind(null,t.eventManager),t.vo.Mo=ta.bind(null,t.eventManager),t}function qa(e){var t=y(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_a.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xa.bind(null,t),t}function Ha(e,t,n){var o=y(e);(function(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a,s,u,c;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return o=r.sent(),[4,function(e,t){var n=y(e),r=an(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,o)];case 2:return r.sent()?[4,t.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(o)))];case 4:return n._updateProgress(sa(o)),i=new aa(o,e.localStore,t.R),[4,t.Lo()];case 5:a=r.sent(),r.label=6;case 6:return a?[4,i.oo(a)]:[3,10];case 7:return(s=r.sent())&&n._updateProgress(s),[4,t.Lo()];case 8:a=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=r.sent(),[4,Ra(e,u.wn,void 0)];case 12:return r.sent(),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,o)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(c=r.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(o,t,n).then((function(){o.sharedClientState.notifyBundleLoaded()}))}var Ga=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.R=di(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Eo(this.persistence,new _o,e.initialUser,this.R)},e.prototype.qo=function(e){return new Ho(Ko.bs,this.R)},e.prototype.Bo=function(e){return new oi},e.prototype.terminate=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Ka=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).Qo=t,o.cacheSizeBytes=n,o.forceOwnership=r,o.synchronizeTabs=!1,o}return Object(r.b)(t,e),t.prototype.initialize=function(t){return Object(r.a)(this,void 0,void 0,(function(){var n=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Mo(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,qa(this.Qo.syncEngine)];case 4:return r.sent(),[4,Mi(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Eo(this.persistence,new _o,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=go(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new po(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,li(),fi(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new oi},t}(Ga),Ya=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.b)(t,e),t.prototype.initialize=function(t){return Object(r.a)(this,void 0,void 0,(function(){var n,o=this;return Object(r.c)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ri?(this.sharedClientState.syncEngine={ui:ja.bind(null,n),ai:Va.bind(null,n),hi:za.bind(null,n),fn:Ua.bind(null,n),ci:Ma.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Object(r.a)(o,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return[4,La(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=li();if(!ri.yt(t))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=go(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ri(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Ka),$a=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n=this;return Object(r.c)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ba(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Aa.bind(null,this.syncEngine),[4,zi(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Qi},e.prototype.createDatastore=function(e){var t,n=di(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ci(t));return function(e,t,n){return new gi(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,o,i,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,o=function(e){return ba(a.syncEngine,e,0)},i=ai.yt()?new ai:new ii,new bi(t,n,r,o,i)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,o,i,a){var s=new ha(e,t,n,r,o,i);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=y(e),d("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,_i(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Xa(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Object(r.a)(this,void 0,void 0,(function(){var o;return Object(r.c)(this,(function(r){return n<e.byteLength?(o={value:e.slice(n,n+t),done:!1},[2,(n+=t,o)]):[2,{done:!0}]}))}))},cancel:function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Qa=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Ja=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new nr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t,n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return o=r.sent(),[2,new oa(JSON.parse(o),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Za=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n=this;return Object(r.c)(this,(function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i,a,s,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=hn(n.R)+"/documents",i={documents:t.map((function(e){return cn(n.R,e)}))},[4,n.$i("BatchGetDocuments",o,i)];case 1:return a=r.sent(),s=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){g(!!t.found),t.found.name,t.found.updateTime;var n=ln(e,t.found.name),r=an(t.found.updateTime),o=new ae({mapValue:{fields:t.found.fields}});return ue.newFoundDocument(n,r,o)}(e,t):"missing"in t?function(e,t){g(!!t.missing),g(!!t.readTime);var n=ln(e,t.missing),r=an(t.readTime);return ue.newNoDocument(n,r)}(e,t):m()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());g(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=o.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ct(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t=this;return Object(r.c)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=H.fromPath(n);t.mutations.push(new kt(r,t.precondition(r)))})),[4,function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=y(e),o=hn(n.R)+"/documents",i={writes:t.map((function(e){return gn(n.R,e)}))},[4,n.Ni("Commit",o,i)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw m();t=k.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ct.updateTime(t):ct.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(k.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(t)}return ct.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),es=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new hi(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(r.a)(e,void 0,void 0,(function(){var e,t,n=this;return Object(r.c)(this,(function(r){return e=new Za(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!z(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Tt(t)}return!1},e}(),ts=function(){function e(e,t,n){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Yo.UNAUTHENTICATED,this.clientId=w.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Object(r.a)(o,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return d("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.a)(e,void 0,void 0,(function(){var e,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Gi(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ns(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o,i=this;return Object(r.c)(this,(function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),o=n.initialUser,e.setCredentialChangeListener((function(e){return Object(r.a)(i,void 0,void 0,(function(){return Object(r.c)(this,(function(n){switch(n.label){case 0:return o.isEqual(e)?[3,2]:[4,Co(t.localStore,e)];case 1:n.sent(),o=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function rs(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,os(e)];case 1:return n=i.sent(),d("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return o=i.sent(),[4,t.initialize(n,o)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Object(r.a)(this,void 0,void 0,(function(){var n,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(n=y(e)).asyncQueue.verifyOperationInProgress(),d("RemoteStore","RemoteStore received new credentials"),o=Oi(n),n.Or.add(3),[4,_i(n)];case 1:return r.sent(),o&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,wi(n)];case 3:return r.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function os(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(d("FirestoreClient","Using default OfflineComponentProvider"),[4,ns(e,new Ga)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function is(e){return Object(r.a)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(d("FirestoreClient","Using default OnlineComponentProvider"),[4,rs(e,new $a)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function as(e){return os(e).then((function(e){return e.persistence}))}function ss(e){return os(e).then((function(e){return e.localStore}))}function us(e){return is(e).then((function(e){return e.remoteStore}))}function cs(e){return is(e).then((function(e){return e.syncEngine}))}function ls(e){return Object(r.a)(this,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,is(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=pa.bind(null,t.syncEngine),n.onUnlisten=ma.bind(null,t.syncEngine),n)]}}))}))}function fs(e,t,n){var o=this;void 0===n&&(n={});var i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(o,void 0,void 0,(function(){var o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return o=function(e,t,n,r,o){var i=new Qa({next:function(i){t.enqueueAndForget((function(){return Zi(e,a)}));var s=i.docs.has(n);!s&&i.fromCache?o.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&i.fromCache&&r&&"server"===r.source?o.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(i)},error:function(e){return o.reject(e)}}),a=new ra(Re(n.path),i,{includeMetadataChanges:!0,so:!0});return Ji(e,a)},[4,ls(e)];case 1:return[2,o.apply(void 0,[r.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function ds(e,t,n){var o=this;void 0===n&&(n={});var i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(o,void 0,void 0,(function(){var o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return o=function(e,t,n,r,o){var i=new Qa({next:function(n){t.enqueueAndForget((function(){return Zi(e,a)})),n.fromCache&&"server"===r.source?o.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:function(e){return o.reject(e)}}),a=new ra(n,i,{includeMetadataChanges:!0,so:!0});return Ji(e,a)},[4,ls(e)];case 1:return[2,o.apply(void 0,[r.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var hs=function(e,t,n,r,o,i,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.useFetchStreams=s},ps=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),vs=new Map,ms=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},gs=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Yo.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ys=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),bs=function(){function e(e){var t=this;this.currentUser=Yo.UNAUTHENTICATED,this.oc=new nr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){d("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(d("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(g("string"==typeof n.accessToken),new ms(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Object(r.a)(n,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return g(null===e||"string"==typeof e),new Yo(e)},e}(),ws=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Yo.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),_s=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new ws(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Yo.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function xs(e,t,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Es(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Cs(e,t,n,r){if(!0===t&&!0===r)throw new c(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ks(e){if(!H.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Ss(e){if(H.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ts(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":m()}function Os(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ts(e);throw new c(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Is(e,t){if(t<=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ns=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Cs("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Rs=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ns({}),this._settingsFrozen=!1,e instanceof ps?(this._databaseId=e,this._credentials=new gs):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(e.options.projectId)}(e),this._credentials=new bs(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ns(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new gs;switch(e.type){case"gapi":var t=e.client;return g(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new _s(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=vs.get(this))&&(d("ComponentProvider","Removing Datastore"),vs.delete(this),e.terminate()),Promise.resolve();var e},e}(),As=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ds(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Ps=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ds=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,Re(r))||this)._path=r,o.type="collection",o}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new As(this.firestore,null,new H(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Ps);function Ms(e,t){for(var n,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(e=Object(o.getModularInstance)(e),xs("collection","path",t),e instanceof Rs)return Ss(n=N.fromString.apply(N,Object(r.d)([t],i))),new Ds(e,null,n);if(!(e instanceof As||e instanceof Ds))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ss(n=N.fromString.apply(N,Object(r.d)([e.path],i)).child(N.fromString(t))),new Ds(e.firestore,null,n)}function js(e,t){for(var n,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(e=Object(o.getModularInstance)(e),1===arguments.length&&(t=w.u()),xs("doc","path",t),e instanceof Rs)return ks(n=N.fromString.apply(N,Object(r.d)([t],i))),new As(e,null,new H(n));if(!(e instanceof As||e instanceof Ds))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ks(n=e._path.child(N.fromString.apply(N,Object(r.d)([t],i)))),new As(e.firestore,e instanceof Ds?e.converter:null,new H(n))}function Ls(e,t){return e=Object(o.getModularInstance)(e),t=Object(o.getModularInstance)(t),(e instanceof As||e instanceof Ds)&&(t instanceof As||t instanceof Ds)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fs(e,t){return e=Object(o.getModularInstance)(e),t=Object(o.getModularInstance)(t),e instanceof Ps&&t instanceof Ps&&e.firestore===t.firestore&&Ue(e._query,t._query)&&e.converter===t.converter}var Bs=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new hi(this,"async_queue_retry"),this.Ic=function(){var t=fi();t&&d("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=fi();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=fi();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new nr;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Object(r.a)(this,void 0,void 0,(function(){var e,t=this;return Object(r.c)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ur(e=n.sent()))throw e;return d("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,h("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var o=Hi.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&m()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Object(r.a)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var o=r[n];if(o.skipDelay(),"all"!==e&&o.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Us(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(e)}var Vs=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),zs=-1,Ws=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Bs,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.b)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Hs(this),this._firestoreClient.terminate()},t}(Rs);function qs(e){return e._firestoreClient||Hs(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Hs(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new hs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ts(e._credentials,e._queue,r)}function Gs(e,t,n){var o=this,i=new nr;return e.asyncQueue.enqueue((function(){return Object(r.a)(o,void 0,void 0,(function(){var o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,ns(e,n)];case 1:return r.sent(),[4,rs(e,t)];case 2:return r.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(o=r.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ks(e){if(e._initialized||e._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ys=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new A(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),$s=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(D.fromBase64String(t))}catch(t){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(D.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Xs=function(e){this._methodName=e},Qs=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return _(this._lat,e._lat)||_(this._long,e._long)},e}(),Js=/^__.*__$/,Zs=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new yt(e,this.data,this.fieldMask,t,this.fieldTransforms):new gt(e,this.data,t,this.fieldTransforms)},e}(),eu=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new yt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function tu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var nu=function(){function e(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return xu(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(tu(this.Nc)&&Js.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),ru=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||di(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new nu({Nc:e,methodName:t,qc:n,path:A.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ou(e){var t=e._freezeSettings(),n=di(e._databaseId);return new ru(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iu(e,t,n,r,o,i){void 0===i&&(i={});var a=e.Uc(i.merge||i.mergeFields?2:0,t,n,o);yu("Data must be an object, but it was:",a,r);var s,l,f=mu(r,a);if(i.merge)s=new P(a.fieldMask),l=a.fieldTransforms;else if(i.mergeFields){for(var d=[],h=0,p=i.mergeFields;h<p.length;h++){var v=bu(t,p[h],n);if(!a.contains(v))throw new c(u.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");Eu(d,v)||d.push(v)}s=new P(d),l=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,l=a.fieldTransforms;return new Zs(new ae(f),s,l)}var au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Xs);function su(e,t,n){return new nu({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){return new st(e.path,new Ze)},t.prototype.isEqual=function(e){return e instanceof t},t}(Xs),cu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){var t=su(this,e,!0),n=this.Kc.map((function(e){return vu(e,t)})),r=new et(n);return new st(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Xs),lu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){var t=su(this,e,!0),n=this.Kc.map((function(e){return vu(e,t)})),r=new nt(n);return new st(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Xs),fu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Object(r.b)(t,e),t.prototype._toFieldTransform=function(e){var t=new ot(e.R,Ye(e.R,this.Qc));return new st(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Xs);function du(e,t,n,r){var i=e.Uc(1,t,n);yu("Data must be an object, but it was:",i,r);var a=[],s=ae.empty();T(r,(function(e,r){var u=_u(t,e,n);r=Object(o.getModularInstance)(r);var c=i.Oc(u);if(r instanceof au)a.push(u);else{var l=vu(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new P(a);return new eu(s,u,i.fieldTransforms)}function hu(e,t,n,r,i,a){var s=e.Uc(1,t,n),l=[bu(t,r,n)],f=[i];if(a.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<a.length;d+=2)l.push(bu(t,a[d])),f.push(a[d+1]);for(var h=[],p=ae.empty(),v=l.length-1;v>=0;--v)if(!Eu(h,l[v])){var m=l[v],g=f[v];g=Object(o.getModularInstance)(g);var y=s.Oc(m);if(g instanceof au)h.push(m);else{var b=vu(g,y);null!=b&&(h.push(m),p.set(m,b))}}var w=new P(h);return new eu(p,w,s.fieldTransforms)}function pu(e,t,n,r){return void 0===r&&(r=!1),vu(n,e.Uc(r?4:3,t))}function vu(e,t){if(gu(e=Object(o.getModularInstance)(e)))return yu("Unsupported field value:",t,e),mu(e,t);if(e instanceof Xs)return function(e,t){if(!tu(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,o=0,i=e;o<i.length;o++){var a=vu(i[o],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(o.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ye(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=C.fromDate(e);return{timestampValue:nn(t.R,n)}}if(e instanceof C)return n=new C(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:nn(t.R,n)};if(e instanceof Qs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $s)return{bytesValue:rn(t.R,e._byteString)};if(e instanceof As){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:sn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Ts(e))}(e,t)}function mu(e,t){var n={};return O(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):T(e,(function(e,r){var o=vu(r,t.kc(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function gu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof C||e instanceof Qs||e instanceof $s||e instanceof As||e instanceof Xs)}function yu(e,t,n){if(!gu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ts(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function bu(e,t,n){if((t=Object(o.getModularInstance)(t))instanceof Ys)return t._internalPath;if("string"==typeof t)return _u(e,t);throw xu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var wu=new RegExp("[~\\*/\\[\\]]");function _u(e,t,n){if(t.search(wu)>=0)throw xu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Ys.bind.apply(Ys,Object(r.d)([void 0],t.split(".")))))._internalPath}catch(o){throw xu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function xu(e,t,n,r,o){var i=r&&!r.isEmpty(),a=void 0!==o,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(i||a)&&(l+=" (found",i&&(l+=" in field "+r),a&&(l+=" in document "+o),l+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+e+l)}function Eu(e,t){return e.some((function(e){return e.isEqual(t)}))}var Cu=function(){function e(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new As(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new ku(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Su("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),ku=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Cu);function Su(e,t){return"string"==typeof t?_u(e,t):t instanceof Ys?t._internalPath:t._delegate._internalPath}var Tu=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Ou=function(e){function t(t,n,r,o,i,a){var s=this;return(s=e.call(this,t,n,r,o,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=i,s}return Object(r.b)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Su("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Cu),Iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Ou),Nu=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Tu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Iu(n._firestore,n._userDataWriter,r.key,r,new Tu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Iu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Iu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),o=-1,i=-1;return 0!==t.type&&(o=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ru(t.type),doc:n,oldIndex:o,newIndex:i}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Ru(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function Au(e,t){return e instanceof Ou&&t instanceof Ou?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Nu&&t instanceof Nu&&e._firestore===t._firestore&&Fs(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Pu(e){if(Pe(e)&&0===e.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=function(){};function Mu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){e=o[r]._apply(e)}return e}var ju=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).jc=t,o.Wc=n,o.Gc=r,o.type="where",o}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=ou(e.firestore),n=function(e,t,n,r,o,i,a){var s;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){Wu(a,i);for(var l=[],f=0,d=a;f<d.length;f++){var h=d[f];l.push(zu(r,e,h))}s={arrayValue:{values:l}}}else s=zu(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Wu(a,i),s=pu(n,"where",a,"in"===i||"not-in"===i);var p=pe.create(o,i,s);return function(e,t){if(t.g()){var n=Me(e);if(null!==n&&!n.isEqual(t.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=De(e);null!==r&&qu(e,t.field,r)}var o=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var o=r[n];if(t.indexOf(o.op)>=0)return o.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+o.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ps(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ie(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Du),Lu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ke(t,n);return function(e,t){if(null===De(e)){var n=Me(e);null!==n&&qu(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Ps(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ie(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Du),Fu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Hc=n,o.Jc=r,o}return Object(r.b)(t,e),t.prototype._apply=function(e){return new Ps(e.firestore,e.converter,Be(e._query,this.Hc,this.Jc))},t}(Du),Bu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Yc=n,o.Xc=r,o}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=Vu(e,this.type,this.Yc,this.Xc);return new Ps(e.firestore,e.converter,function(e,t){return new Ie(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Du),Uu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Yc=n,o.Xc=r,o}return Object(r.b)(t,e),t.prototype._apply=function(e){var t=Vu(e,this.type,this.Yc,this.Xc);return new Ps(e.firestore,e.converter,function(e,t){return new Ie(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Du);function Vu(e,t,n,r){if(n[0]=Object(o.getModularInstance)(n[0]),n[0]instanceof Cu)return function(e,t,n,r,o){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var i=[],a=0,s=Le(e);a<s.length;a++){var l=s[a];if(l.field.isKeyField())i.push(Z(t,r.key));else{var f=r.data.field(l.field);if(B(f))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var d=l.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+d+"' (used as the orderBy) does not exist.")}i.push(f)}}return new Ee(i,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ou(e.firestore);return function(e,t,n,r,o,i){var a=e.explicitOrderBy;if(o.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<o.length;l++){var f=o[l];if(a[l].field.isKeyField()){if("string"!=typeof f)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof f);if(!je(e)&&-1!==f.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+f+"' contains a slash.");var d=e.path.child(N.fromString(f));if(!H.isDocumentKey(d))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+d+"' is not because it contains an odd number of segments.");var h=new H(d);s.push(Z(t,h))}else{var p=pu(n,r,f);s.push(p)}}return new Ee(s,i)}(e._query,e.firestore._databaseId,i,t,n,r)}function zu(e,t,n){if("string"==typeof(n=Object(o.getModularInstance)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!je(t)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(N.fromString(n));if(!H.isDocumentKey(r))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Z(e,new H(r))}if(n instanceof As)return Z(e,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ts(n)+".")}function Wu(e,t){if(!Array.isArray(e)||0===e.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function qu(e,t,n){if(!n.isEqual(t))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Hu=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),G(e)){case 0:return null;case 1:return e.booleanValue;case 2:return L(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw m()}},e.prototype.convertObject=function(e,t){var n=this,r={};return T(e.fields,(function(e,o){r[e]=n.convertValue(o,t)})),r},e.prototype.convertGeoPoint=function(e){return new Qs(L(e.latitude),L(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=U(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(V(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=j(e);return new C(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=N.fromString(e);g(An(n));var r=new ps(n.get(1),n.get(3)),o=new H(n.popFirst(5));return r.isEqual(t)||h("Document "+o+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),o},e}();function Gu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ku=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.b)(t,e),t.prototype.convertBytes=function(e){return new $s(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,t)},t}(Hu),Yu=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ou(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=$u(e,this._firestore),o=Gu(r.converter,t,n),i=iu(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,ct.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var a,s=$u(e,this._firestore);return a="string"==typeof(t=Object(o.getModularInstance)(t))||t instanceof Ys?hu(this._dataReader,"WriteBatch.update",s._key,t,n,r):du(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,ct.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=$u(e,this._firestore);return this._mutations=this._mutations.concat(new Ct(t._key,ct.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function $u(e,t){if((e=Object(o.getModularInstance)(e)).firestore!==t)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Xu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.b)(t,e),t.prototype.convertBytes=function(e){return new $s(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,t)},t}(Hu);function Qu(e,t,n){e=Os(e,As);var r=Os(e.firestore,Ws),o=Gu(e.converter,t,n);return ec(r,[iu(ou(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,ct.none())])}function Ju(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Os(e,As);var a=Os(e.firestore,Ws),s=ou(a);return ec(a,[("string"==typeof(t=Object(o.getModularInstance)(t))||t instanceof Ys?hu(s,"updateDoc",e._key,t,n,r):du(s,"updateDoc",e._key,t)).toMutation(e._key,ct.exists(!0))])}function Zu(e){for(var t,n,i,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];e=Object(o.getModularInstance)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Us(a[c])||(u=a[c],c++);var l,f,d,h={includeMetadataChanges:u.includeMetadataChanges};if(Us(a[c])){var p=a[c];a[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(e instanceof As)f=Os(e.firestore,Ws),d=Re(e._key.path),l={next:function(t){a[c]&&a[c](tc(f,e,t))},error:a[c+1],complete:a[c+2]};else{var v=Os(e,Ps);f=Os(v.firestore,Ws),d=v._query;var m=new Xu(f);l={next:function(e){a[c]&&a[c](new Nu(f,m,v,e))},error:a[c+1],complete:a[c+2]},Pu(e._query)}return function(e,t,n,o){var i=this,a=new Qa(o),s=new ra(t,a,n);return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(i,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=Ji,[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(i,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=Zi,[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(qs(f),d,h,l)}function ec(e,t){return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=ga,[4,cs(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,o])]}}))}))})),o.promise}(qs(e),t)}function tc(e,t,n){var r=n.docs.get(t._key),o=new Xu(e);return new Ou(e,o,t._key,r,new Tu(n.hasPendingWrites,n.fromCache),t.converter)}var nc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.b)(t,e),t.prototype.get=function(t){var n=this,r=$u(t,this._firestore),o=new Xu(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Ou(n._firestore,o,r._key,e._document,new Tu(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=ou(e)}return e.prototype.get=function(e){var t=this,n=$u(e,this._firestore),r=new Ku(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return m();var o=e[0];if(o.isFoundDocument())return new Cu(t._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Cu(t._firestore,r,n._key,null,n.converter);throw m()}))},e.prototype.set=function(e,t,n){var r=$u(e,this._firestore),o=Gu(r.converter,t,n),i=iu(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a,s=$u(e,this._firestore);return a="string"==typeof(t=Object(o.getModularInstance)(t))||t instanceof Ys?hu(this._dataReader,"Transaction.update",s._key,t,n,r):du(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=$u(e,this._firestore);return this._transaction.delete(t._key),this},e}());function rc(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function oc(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ic=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return oc(),new e($s.fromBase64String(t))},e.fromUint8Array=function(t){return rc(),new e($s.fromUint8Array(t))},e.prototype.toBase64=function(){return oc(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return rc(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),ac=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Ks(e=Os(e,Ws));var n=qs(e),r=e._freezeSettings(),o=new $a;return Gs(n,o,new Ka(o,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Ks(e=Os(e,Ws));var t=qs(e),n=e._freezeSettings(),r=new $a;return Gs(t,r,new Ya(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nr;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.a)(t,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return ir.yt()?(t=e+"main",[4,ir.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(go(e._databaseId,e._persistenceKey))];case 1:return o.sent(),n.resolve(),[3,3];case 2:return t=o.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),sc=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ps||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var a=(e=Os(e,Rs))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s,l;if("string"==typeof r.mockUserToken)s=r.mockUserToken,l=Yo.MOCK_USER;else{s=Object(o.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new c(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yo(f)}e._credentials=new ys(new ms(s,l))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.a)(t,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,as(e)];case 1:return t=r.sent(),[4,us(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=y(e);return t.Or.delete(0),wi(t)}(n))]}}))}))}))}(qs(Os(this._delegate,Ws)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.a)(t,void 0,void 0,(function(){var t,n;return Object(r.c)(this,(function(o){switch(o.label){case 0:return[4,as(e)];case 1:return t=o.sent(),[4,us(e)];case 2:return n=o.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.a)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return(t=y(e)).Or.add(0),[4,_i(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(qs(Os(this._delegate,Ws)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Cs("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(t,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(r){switch(r.label){case 0:return t=Ea,[4,cs(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(qs(Os(this._delegate,Ws)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,o=new Qa(t);return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=function(e,t){y(e).Gr.add(t),t.next()},[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=function(e,t){y(e).Gr.delete(t)},[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(qs(e=Os(e,Ws)),Us(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new xc(this,Ms(this._delegate,e))}catch(e){throw pc(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new hc(this,js(this._delegate,e))}catch(e){throw pc(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new bc(this,function(e,t){if(e=Os(e,Rs),xs("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ps(e,null,function(e){return new Ie(N.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw pc(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return[4,function(e){return is(e).then((function(e){return e.datastore}))}(e)];case 1:return n=r.sent(),new es(e.asyncQueue,n,t,o).run(),[2]}}))}))})),o.promise}(qs(e),(function(n){return t(new nc(e,n))}))}(this._delegate,(function(n){return e(new lc(t,n))}))},e.prototype.batch=function(){var e=this;return qs(this._delegate),new fc(new Yu(this._delegate,(function(t){return ec(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),uc=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.b)(t,e),t.prototype.convertBytes=function(e){return new ic(new $s(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hc.eu(t,this.firestore,null)},t}(Hu);function cc(e){var t;t=e,l.setLogLevel(t)}var lc=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}return e.prototype.get=function(e){var t=this,n=Ec(e);return this._delegate.get(n).then((function(e){return new gc(t._firestore,new Ou(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Ec(e);return n?(Es("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var s=Ec(e);return 2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,Object(r.d)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Ec(e);return this._delegate.delete(t),this},e}(),fc=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Ec(e);return n?(Es("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var s=Ec(e);return 2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,Object(r.d)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Ec(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),dc=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Iu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yc(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var i=o.get(n);return i||(i=new e(t,new uc(t),n),o.set(n,i)),i},e}();dc.su=new WeakMap;var hc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new As(n._delegate,r,new H(t)))},e.eu=function(t,n,r){return new e(n,new As(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new xc(this.firestore,Ms(this._delegate,e))}catch(e){throw pc(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(o.getModularInstance)(e))instanceof As&&Ls(this._delegate,e)},e.prototype.set=function(e,t){t=Es("DocumentReference.set",t);try{return t?Qu(this._delegate,e,t):Qu(this._delegate,e)}catch(e){throw pc(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];try{return 1===arguments.length?Ju(this._delegate,e):Ju.apply(void 0,Object(r.d)([this._delegate,e,t],n))}catch(e){throw pc(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ec(Os((e=this._delegate).firestore,Ws),[new Ct(e._key,ct.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=vc(t),o=mc(t,(function(t){return new gc(e.firestore,new Ou(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Zu(this._delegate,r,o)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Os(e,As);var t=Os(e.firestore,Ws),n=qs(t),o=new Xu(t);return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=r.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),i=Gi(o,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,o])]}}))}))})),o.promise}(n,e._key).then((function(n){return new Ou(t,o,e._key,n,new Tu(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Os(e,As);var t=Os(e.firestore,Ws);return fs(qs(t),e._key,{source:"server"}).then((function(n){return tc(t,e,n)}))}(this._delegate):function(e){e=Os(e,As);var t=Os(e.firestore,Ws);return fs(qs(t),e._key).then((function(n){return tc(t,e,n)}))}(this._delegate)).then((function(e){return new gc(t.firestore,new Ou(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(dc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function pc(e,t,n){return e.message=e.message.replace(t,n),e}function vc(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Us(r))return r}return{}}function mc(e,t){var n,r,o;return{next:function(e){o.next&&o.next(t(e))},error:null===(n=(o=Us(e[0])?e[0]:Us(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}var gc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new hc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Au(this._delegate,e._delegate)},e}(),yc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(gc),bc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Mu(this._delegate,function(e,t,n){var r=t,o=Su("where",e);return new ju(o,r,n)}(t,n,r)))}catch(t){throw pc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Mu(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Su("orderBy",e);return new Lu(r,n)}(t,n)))}catch(t){throw pc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Mu(this._delegate,function(e){return Is("limit",e),new Fu("limit",e,"F")}(t)))}catch(t){throw pc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Mu(this._delegate,function(e){return Is("limitToLast",e),new Fu("limitToLast",e,"L")}(t)))}catch(t){throw pc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bu("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw pc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bu("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw pc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Uu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw pc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Uu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw pc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Fs(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Os(e,Ps);var t=Os(e.firestore,Ws),n=qs(t),o=new Xu(t);return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(r.a)(this,void 0,void 0,(function(){var o,i,a,s,u;return Object(r.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ao(e,t,!0)];case 1:return u=r.sent(),o=new la(t,u.Bn),i=o._o(u.documents),a=o.applyChanges(i,!1),n.resolve(a.snapshot),[3,3];case 2:return s=r.sent(),u=Gi(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,o])]}}))}))})),o.promise}(n,e._query).then((function(n){return new Nu(t,o,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Os(e,Ps);var t=Os(e.firestore,Ws),n=qs(t),r=new Xu(t);return ds(n,e._query,{source:"server"}).then((function(n){return new Nu(t,r,e,n)}))}(this._delegate):function(e){e=Os(e,Ps);var t=Os(e.firestore,Ws),n=qs(t),r=new Xu(t);return Pu(e._query),ds(n,e._query).then((function(n){return new Nu(t,r,e,n)}))}(this._delegate)).then((function(e){return new _c(t.firestore,new Nu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=vc(t),o=mc(t,(function(t){return new _c(e.firestore,new Nu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Zu(this._delegate,r,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(dc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),wc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),_c=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new bc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new yc(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wc(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yc(n._firestore,r))}))},e.prototype.isEqual=function(e){return Au(this._delegate,e._delegate)},e}(),xc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hc(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new hc(this.firestore,void 0===e?js(this._delegate):js(this._delegate,e))}catch(e){throw pc(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Os(e.firestore,Ws),r=js(e),o=Gu(e.converter,t);return ec(n,[iu(ou(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,ct.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new hc(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ls(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(dc.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(bc);function Ec(e){return Os(e,As)}var Cc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Ys.bind.apply(Ys,Object(r.d)([void 0],e)))}return e.documentId=function(){return new e(A.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(o.getModularInstance)(e))instanceof Ys&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),kc=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new uu("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new au("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cu("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new fu("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Sc(e){return function(e,t){var n=qs(e=Os(e,Ws)),o=new Vs;return function(e,t,n,o){var i=this,a=function(e,t){return function(e,t){return new Ja(e,t)}(function(e,t){if(e instanceof Uint8Array)return Xa(e,t);if(e instanceof ArrayBuffer)return Xa(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,di(t));e.asyncQueue.enqueueAndForget((function(){return Object(r.a)(i,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(n){switch(n.label){case 0:return t=Ha,[4,cs(e)];case 1:return t.apply(void 0,[n.sent(),a,o]),[2]}}))}))}))}(n,e._databaseId,t,o),o}(this._delegate,e)}function Tc(e){var t,n,o=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Object(r.a)(n,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=y(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(qs(t=Os(t,Ws)),n).then((function(e){return e?new Ps(t,null,e.query):null}))).then((function(e){return e?new bc(o,e):null}))}}).call(this,n(66))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(130);function o(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){var r=n(177);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return M}));var r=n(29),o=n(1),i=n.n(o),a=n(42),s=n(121),u=n(43),c=n(8),l=n(99),f=n.n(l),d=(n(152),n(11)),h=(n(74),function(e){var t=Object(s.a)();return t.displayName=e,t}),p=h("Router-History"),v=h("Router"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.a.Component);i.a.Component;var g=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.a.Component);var y={},b=1e4,w=0;function _(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(y[e])return y[e];var t=f.a.compile(e);return w<b&&(y[e]=t,w++),t}(e)(t,{pretty:!0})}function x(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.a.createElement(v.Consumer,null,(function(e){e||Object(u.a)(!1);var r=e.history,s=e.staticContext,l=o?r.push:r.replace,f=Object(a.c)(t?"string"===typeof n?_(n,t.params):Object(c.a)({},n,{pathname:_(n.pathname,t.params)}):n);return s?(l(f),null):i.a.createElement(g,{onMount:function(){l(f)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(c.a)({},f,{key:n.key}))||l(f)},to:n})}))}var E={},C=1e4,k=0;function S(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=E[n]||(E[n]={});if(r[e])return r[e];var o=[],i={regexp:f()(e,o,t),keys:o};return k<C&&(r[e]=i,k++),i}(n,{end:i,strict:s,sensitive:c}),o=r.regexp,a=r.keys,u=o.exec(e);if(!u)return null;var l=u[0],d=u.slice(1),h=e===l;return i&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var T=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(v.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?S(n.pathname,e.props):t.match,o=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&function(e){return 0===i.a.Children.count(e)}(s)&&(s=null),i.a.createElement(v.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:l?i.a.createElement(l,o):f?f(o):null:"function"===typeof s?s(o):null)}))},t}(i.a.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function I(e,t){if(!e)return t;var n=O(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function N(e){return"string"===typeof e?e:Object(a.e)(e)}function R(e){return function(){Object(u.a)(!1)}}function A(){}i.a.Component;var P=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(v.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,(function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?S(o.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.a.Component);var D=i.a.useContext;function M(){return D(p)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return w}));var r=n(33),o=n(29),i=n(1),a=n.n(i),s=n(42),u=n(8),c=n(11),l=n(43),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(o.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var m=v((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=Object(c.a)(e,["innerRef","navigate","onClick"]),s=i.target,l=Object(u.a)({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.a.createElement("a",l)}));var g=v((function(e,t){var n=e.component,o=void 0===n?m:n,i=e.replace,f=e.to,g=e.innerRef,y=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=h(d(f,e.location),e.location),c=r?n.createHref(r):"",m=Object(u.a)({},y,{href:c,navigate:function(){var t=d(f,e.location),r=Object(s.e)(e.location)===Object(s.e)(h(t));(i||r?n.replace:n.push)(t)}});return p!==v?m.ref=t||g:m.innerRef=g,a.a.createElement(o,m)}))})),y=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);var w=b((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,i=e.activeClassName,s=void 0===i?"active":i,f=e.activeStyle,p=e.className,v=e.exact,m=e.isActive,w=e.location,_=e.sensitive,x=e.strict,E=e.style,C=e.to,k=e.innerRef,S=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,i=h(d(C,n),n),c=i.pathname,T=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=T?Object(r.f)(n.pathname,{path:T,exact:v,sensitive:_,strict:x}):null,I=!!(m?m(O,n):O),N="function"===typeof p?p(I):p,R="function"===typeof E?E(I):E;I&&(N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(N,s),R=Object(u.a)({},R,f));var A=Object(u.a)({"aria-current":I&&o||null,className:N,style:R,to:i},S);return y!==b?A.ref=t||k:A.innerRef=k,a.a.createElement(g,A)}))}))},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return fr})),n.d(t,"b",(function(){return hr})),n.d(t,"c",(function(){return dr})),n.d(t,"d",(function(){return vr})),n.d(t,"e",(function(){return pr})),n.d(t,"f",(function(){return mr})),n.d(t,"g",(function(){return gr})),n.d(t,"h",(function(){return cr})),n.d(t,"i",(function(){return lr}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var i,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var d="closure_uid_"+(1e9*Math.random()>>>0),h=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function m(e,t,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function y(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function b(){this.s=this.s,this.o=this.o}var w={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,d)&&e[d]||(e[d]=++h)}(this);delete w[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},x=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};function E(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e){return/^[\s\xa0]*$/.test(e)}var S,T=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function O(e,t){return-1!=e.indexOf(t)}function I(e,t){return e<t?-1:e>t?1:0}e:{var N=u.navigator;if(N){var R=N.userAgent;if(R){S=R;break e}}S=""}function A(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<D.length;i++)n=D[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){return j[" "](e),e}j[" "]=c;var L,F=O(S,"Opera"),B=O(S,"Trident")||O(S,"MSIE"),U=O(S,"Edge"),V=U||B,z=O(S,"Gecko")&&!(O(S.toLowerCase(),"webkit")&&!O(S,"Edge"))&&!(O(S,"Trident")||O(S,"MSIE"))&&!O(S,"Edge"),W=O(S.toLowerCase(),"webkit")&&!O(S,"Edge");function q(){var e=u.document;return e?e.documentMode:void 0}e:{var H="",G=function(){var e=S;return z?/rv:([^\);]+)(\)|;)/.exec(e):U?/Edge\/([\d\.]+)/.exec(e):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):W?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(G&&(H=G?G[1]:""),B){var K=q();if(null!=K&&K>parseFloat(H)){L=String(K);break e}}L=H}var Y,$={};function X(){return function(e){var t=$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=T(String(L)).split("."),n=T("9").split("."),r=Math.max(t.length,n.length),o=0;0==e&&o<r;o++){var i=t[o]||"",a=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;e=I(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||I(0==i[2].length,0==a[2].length)||I(i[2],a[2]),i=i[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&B){var Q=q();Y=Q||(parseInt(L,10)||void 0)}else Y=void 0;var J=Y,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",c,t),u.removeEventListener("test",c,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(z){e:{try{j(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},y(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ie(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++oe,this.ca=this.fa=!1}function ae(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function se(e){this.src=e,this.g={},this.h=0}function ue(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=_(o,t);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ce(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return o}return-1}se.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=ce(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ie(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),fe={};function de(e,t,n,r,o){if(r&&r.once)return pe(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)de(e,t[i],n,r,o);return null}return n=_e(n),e&&e[re]?e.N(t,n,f(r)?!!r.capture:!!r,o):he(e,t,n,!1,r,o)}function he(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=f(o)?!!o.capture:!!o,s=be(e);if(s||(e[le]=s=new se(e)),(n=s.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ye;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)pe(e,t[i],n,r,o);return null}return n=_e(n),e&&e[re]?e.O(t,n,f(r)?!!r.capture:!!r,o):he(e,t,n,!0,r,o)}function ve(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)ve(e,t[i],n,r,o);else r=f(r)?!!r.capture:!!r,n=_e(n),e&&e[re]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ce(i=e.g[t],n,r,o))&&(ae(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ce(t,n,r,o)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ue(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(ue(n,e),0==n.h&&(n.src=null,t[le]=null)):ae(e)}}}function ge(e){return e in fe?fe[e]:fe[e]="on"+e}function ye(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&me(e),e=n.call(r,t)}return e}function be(e){return(e=e[le])instanceof se?e:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(e){return"function"===typeof e?e:(e[we]||(e[we]=function(t){return e.handleEvent(t)}),e[we])}function xe(){b.call(this),this.i=new se(this),this.P=this,this.I=null}function Ee(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var o=t;M(t=new ee(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];o=Ce(a,r,!0,t)&&o}if(o=Ce(a=t.g=e,r,!0,t)&&o,o=Ce(a,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=Ce(a=t.g=n[i],r,!1,t)&&o}function Ce(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ue(e.i,a),o=!1!==s.call(u,r)&&o}}return o&&!r.defaultPrevented}y(xe,b),xe.prototype[re]=!0,xe.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},xe.prototype.M=function(){if(xe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ae(n[r]);delete t.g[e],t.h--}}this.I=null},xe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ke=u.JSON.stringify;function Se(){var e=De,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Te,Oe=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Ie.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Ie=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Ne}),(function(e){return e.reset()})),Ne=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Re(e){u.setTimeout((function(){throw e}),0)}function Ae(e,t){Te||function(){var e=u.Promise.resolve(void 0);Te=function(){e.then(Me)}}(),Pe||(Te(),Pe=!0),De.add(e,t)}var Pe=!1,De=new Oe;function Me(){for(var e;e=Se();){try{e.h.call(e.g)}catch(n){Re(n)}var t=Ie;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pe=!1}function je(e,t){xe.call(this),this.h=e||1,this.g=t||u,this.j=m(this.kb,this),this.l=Date.now()}function Le(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fe(e,t,n){if("function"===typeof e)n&&(e=m(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=m(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Be(e){e.g=Fe((function(){e.g=null,e.i&&(e.i=!1,Be(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}y(je,xe),(i=je.prototype).da=!1,i.S=null,i.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ee(this,"tick"),this.da&&(Le(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){je.Z.M.call(this),Le(this),delete this.g};var Ue=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Be(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function Ve(e){b.call(this),this.h=e,this.g={}}y(Ve,b);var ze=[];function We(e,t,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var o=0;o<n.length;o++){var i=de(t,n[o],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function qe(e){A(e.g,(function(e,t){this.g.hasOwnProperty(t)&&me(e)}),e),e.g={}}function He(){this.g=!0}function Ge(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<o.length;a++)o[a]=""}}}return ke(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ve.prototype.M=function(){Ve.Z.M.call(this),qe(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},He.prototype.Aa=function(){this.g=!1},He.prototype.info=function(){};var Ke={},Ye=null;function $e(){return Ye=Ye||new xe}function Xe(e){ee.call(this,Ke.Ma,e)}function Qe(e){var t=$e();Ee(t,new Xe(t,e))}function Je(e,t){ee.call(this,Ke.STAT_EVENT,e),this.stat=t}function Ze(e){var t=$e();Ee(t,new Je(t,e))}function et(e,t){ee.call(this,Ke.Na,e),this.size=t}function tt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}Ke.Ma="serverreachability",y(Xe,ee),Ke.STAT_EVENT="statevent",y(Je,ee),Ke.Na="timingevent",y(et,ee);var nt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ot(){}function it(e){return e.h||(e.h=e.i())}function at(){}ot.prototype.h=null;var st,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ct(){ee.call(this,"d")}function lt(){ee.call(this,"c")}function ft(){}function dt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ve(this),this.P=pt,e=V?125:void 0,this.W=new je(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}y(ct,ee),y(lt,ee),y(ft,ot),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},st=new ft;var pt=45e3,vt={},mt={};function gt(e,t,n){e.K=1,e.v=Ut(Dt(t)),e.s=n,e.U=!0,yt(e,null)}function yt(e,t){e.F=Date.now(),xt(e),e.A=Dt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Zt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ht,e.g=nr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ue(m(e.Ia,e,e.g),e.O)),We(e.V,e.g,"readystatechange",e.gb),t=e.H?P(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qe(1),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var a="",s=i.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function wt(e,t,n){for(var r,o=!0;!e.I&&e.C<n.length;){if((r=_t(e,n))==mt){4==t&&(e.o=4,Ze(14),o=!1),Ge(e.j,e.m,null,"[Incomplete Response]");break}if(r==vt){e.o=4,Ze(15),Ge(e.j,e.m,n,"[Invalid Chunk]"),o=!1;break}Ge(e.j,e.m,r,null),Tt(e,r)}bt(e)&&r!=mt&&r!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ze(16),o=!1),e.i=e.i&&o,o?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(t),t.L=!0,Ze(11))):(Ge(e.j,e.m,n,"[Invalid Chunked Response]"),St(e),kt(e))}function _t(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?mt:(t=t.substr(r,n),e.C=r+n,t))}function xt(e){e.Y=Date.now()+e.P,Et(e,e.P)}function Et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tt(m(e.eb,e),t)}function Ct(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function kt(e){0==e.l.G||e.I||Qn(e.l,e)}function St(e){Ct(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Le(e.W),qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||un(n.i,e)))if(n.I=e.N,!e.J&&un(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xn(n),Bn(n)}Kn(n),Ze(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=tt(m(n.ab,n),6e3));if(1>=sn(n.i)&&n.ka){try{n.ka()}catch(i){}n.ka=void 0}}else Zn(n,11)}else if((e.J||n.g==e)&&Xn(n),!k(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var i=o[t];if(n.U=i[0],i=i[1],2==n.G)if("c"==i[0]){n.J=i[1],n.la=i[2];var a=i[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=i[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=i[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(O(l,"spdy")||O(l,"quic")||O(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(cn(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Bt(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=tr(r,r.H?r.la:null,r.W),h.J){ln(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(Ct(p),xt(p)),r.g=h}else Gn(r);0<n.l.length&&zn(n)}else"stop"!=i[0]&&"close"!=i[0]||Zn(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zn(n,7):Fn(n):"noop"!=i[0]&&n.j&&n.j.wa(i),n.A=0)}Qe(4)}catch(i){}}function Ot(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)x(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(l(e)||"string"===typeof e){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length;for(var i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}}function It(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof It)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Rt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)Rt(o,r=e.g[t])||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}function Rt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=dt.prototype).setTimeout=function(e){this.P=e},i.gb=function(e){e=e.target;var t=this.L;t&&3==Pn(e)?t.l():this.Ia(e)},i.Ia=function(e){try{if(e==this.g)e:{var t=Pn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||V||this.g&&(this.h.h||this.g.ga()||Dn(this.g)))){this.I||4!=t||7==n||Qe(8==n||0>=r?3:2),Ct(this);var o=this.g.ba();this.N=o;t:if(bt(this)){var i=Dn(this.g);e="";var a=i.length,s=4==Pn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){St(this),kt(this);var c="";break t}this.h.i=new u.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:s&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==o,function(e,t,n,r,o,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var l,f=this.g;if((l=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(l)){var d=l;break t}}d=null}if(!(o=d)){this.i=!1,this.o=3,Ze(12),St(this),kt(this);break e}Ge(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tt(this,o)}this.U?(wt(this,t,c),V&&this.i&&3==t&&(We(this.V,this.W,"tick",this.fb),this.W.start())):(Ge(this.j,this.m,c,null),Tt(this,c)),4==t&&St(this),this.i&&!this.I&&(4==t?Qn(this.l,this):(this.i=!1,xt(this)))}else 400==o&&0<c.indexOf("Unknown SID")?(this.o=3,Ze(12)):(this.o=0,Ze(13)),St(this),kt(this)}}}catch(t){}},i.fb=function(){if(this.g){var e=Pn(this.g),t=this.g.ga();this.C<t.length&&(Ct(this),wt(this,e,t),this.i&&4!=e&&xt(this))}},i.cancel=function(){this.I=!0,St(this)},i.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qe(3),Ze(17)),St(this),this.o=2,kt(this)):Et(this,this.Y-e)},(i=It.prototype).R=function(){Nt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},i.T=function(){return Nt(this),this.g.concat()},i.get=function(e,t){return Rt(this.h,e)?this.h[e]:t},i.set=function(e,t){Rt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},i.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var At=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pt){this.g=void 0!==t?t:e.g,Mt(this,e.j),this.s=e.s,jt(this,e.i),Lt(this,e.m),this.l=e.l,t=e.h;var n=new $t;n.i=t.i,t.g&&(n.g=new It(t.g),n.h=t.h),Ft(this,n),this.o=e.o}else e&&(n=String(e).match(At))?(this.g=!!t,Mt(this,n[1]||"",!0),this.s=Vt(n[2]||""),jt(this,n[3]||"",!0),Lt(this,n[4]),this.l=Vt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.o=Vt(n[7]||"")):(this.g=!!t,this.h=new $t(null,this.g))}function Dt(e){return new Pt(e)}function Mt(e,t,n){e.j=n?Vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jt(e,t,n){e.i=n?Vt(t,!0):t}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ft(e,t,n){t instanceof $t?(e.h=t,function(e,t){t&&!e.j&&(Xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),Zt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zt(t,Kt)),e.h=new $t(t,e.g))}function Bt(e,t,n){e.h.set(t,n)}function Ut(e){return Bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zt(t,qt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zt(t,qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?Gt:Ht,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zt(n,Yt)),e.join("")};var qt=/[#\/\?@]/g,Ht=/[#\?:]/g,Gt=/[#\?]/g,Kt=/[#\?@]/g,Yt=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xt(e){e.g||(e.g=new It,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qt(e,t){Xt(e),t=en(e,t),Rt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Rt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Nt(e)))}function Jt(e,t){return Xt(e),t=en(e,t),Rt(e.g.h,t)}function Zt(e,t,n){Qt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),C(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(i=$t.prototype).add=function(e,t){Xt(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){Xt(this),this.g.forEach((function(n,r){x(n,(function(n){e.call(t,n,r,this)}),this)}),this)},i.T=function(){Xt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},i.R=function(e){Xt(this);var t=[];if("string"===typeof e)Jt(this,e)&&(t=E(t,this.g.get(en(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=E(t,e[n])}return t},i.set=function(e,t){return Xt(this),this.i=null,Jt(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),e.push(a)}}return this.i=e.join("&")};var tn=function(e,t){this.h=e,this.g=t};function nn(e){this.l=e||on,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rn,on=10;function an(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sn(e){return e.h?1:e.g?e.g.size:0}function un(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cn(e,t){e.g?e.g.add(t):e.h=t}function ln(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=o(e.g.values()),a=i.next();!a.done;a=i.next()){var s=a.value;r=r.concat(s.D)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return C(e.i)}function dn(){}function hn(){this.g=new dn}function pn(e,t,n){var r=n||"";try{Ot(e,(function(e,n){var o=e;f(e)&&(o=ke(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function vn(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(i){}}function mn(e){this.l=e.$b||null,this.j=e.ib||!1}function gn(e,t){xe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){var e,t;if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=o(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},dn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},dn.prototype.parse=function(e){return u.JSON.parse(e,void 0)},y(mn,ot),mn.prototype.g=function(){return new gn(this.l,this.j)},mn.prototype.i=(rn={},function(){return rn}),y(gn,xe);var yn=0;function bn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function wn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_n(e)}function _n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(i=gn.prototype).open=function(e,t){if(this.readyState!=yn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_n(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||u).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wn(this)),this.readyState=yn},i.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wn(this):_n(this),3==this.readyState&&bn(this)}},i.Ua=function(e){this.g&&(this.response=this.responseText=e,wn(this))},i.Ta=function(e){this.g&&(this.response=e,wn(this))},i.ha=function(){this.g&&wn(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xn=u.JSON.parse;function En(e){xe.call(this),this.headers=new It,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}y(En,xe);var Cn="",kn=/^https?$/i,Sn=["POST","PUT"];function Tn(e){return"content-type"==e.toLowerCase()}function On(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,In(e),Rn(e)}function In(e){e.D||(e.D=!0,Ee(e,"complete"),Ee(e,"error"))}function Nn(e){if(e.h&&"undefined"!=typeof s&&(!e.C[1]||4!=Pn(e)||2!=e.ba()))if(e.v&&4==Pn(e))Fe(e.Fa,0,e);else if(Ee(e,"readystatechange"),4==Pn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.H).match(At)[1]||null;if(!i&&u.self&&u.self.location){var a=u.self.location.protocol;i=a.substr(0,a.length-1)}o=!kn.test(i?i.toLowerCase():"")}t=o}if(t)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var c=2<Pn(e)?e.g.statusText:""}catch(l){c=""}e.j=c+" ["+e.ba()+"]",In(e)}}finally{Rn(e)}}}function Rn(e,t){if(e.g){An(e);var n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=r}catch(o){}}}function An(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function Pn(e){return e.g?e.g.readyState:0}function Dn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Mn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return A(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bt(e,t,n))}function jn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ln(e){this.za=0,this.l=[],this.h=new He,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jn("baseRetryDelayMs",5e3,e),this.$a=jn("retryDelaySeedMs",1e4,e),this.Ya=jn("forwardChannelMaxRetries",2,e),this.ra=jn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nn(e&&e.concurrentRequestLimit),this.Ca=new hn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Fn(e){if(Un(e),3==e.G){var t=e.V++,n=Dt(e.F);Bt(n,"SID",e.J),Bt(n,"RID",t),Bt(n,"TYPE","terminate"),qn(e,n),(t=new dt(e,e.h,t,void 0)).K=2,t.v=Ut(Dt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.v.toString(),"")),!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=nr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),xt(t)}er(e)}function Bn(e){e.g&&(Yn(e),e.g.cancel(),e.g=null)}function Un(e){Bn(e),e.u&&(u.clearTimeout(e.u),e.u=null),Xn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&u.clearTimeout(e.m),e.m=null)}function Vn(e,t){e.l.push(new tn(e.Za++,t)),3==e.G&&zn(e)}function zn(e){an(e.i)||e.m||(e.m=!0,Ae(e.Ha,e),e.C=0)}function Wn(e,t){var n;n=t?t.m:e.V++;var r=Dt(e.F);Bt(r,"SID",e.J),Bt(r,"RID",n),Bt(r,"AID",e.U),qn(e,r),e.o&&e.s&&Mn(r,e.o,e.s),n=new dt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Hn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cn(e.i,n),gt(n,r,t)}function qn(e,t){e.j&&Ot({},(function(e,n){Bt(t,n,e)}))}function Hn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?m(e.j.Oa,e.j,e):null;e:for(var o=e.l,i=-1;;){var a=["count="+n];-1==i?0<n?(i=o[0].h,a.push("ofs="+i)):i=0:a.push("ofs="+i);for(var s=!0,u=0;u<n;u++){var c=o[u].h,l=o[u].g;if(0>(c-=i))i=Math.max(0,o[u].h-100),s=!1;else try{pn(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Gn(e){e.g||e.u||(e.Y=1,Ae(e.Ga,e),e.A=0)}function Kn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tt(m(e.Ga,e),Jn(e,e.A)),e.A++,!0)}function Yn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function $n(e){e.g=new dt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dt(e.oa);Bt(t,"RID","rpc"),Bt(t,"SID",e.J),Bt(t,"CI",e.N?"0":"1"),Bt(t,"AID",e.U),qn(e,t),Bt(t,"TYPE","xmlhttp"),e.o&&e.s&&Mn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ut(Dt(t)),n.s=null,n.U=!0,yt(n,e)}function Xn(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Qn(e,t){var n=null;if(e.g==t){Xn(e),Yn(e),e.g=null;var r=2}else{if(!un(e.i,t))return;n=t.D,ln(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;Ee(r=$e(),new et(r,n,t,o)),zn(e)}else Gn(e);else if(3==(o=t.o)||0==o&&0<e.I||!(1==r&&function(e,t){return!(sn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tt(m(e.Ha,e,t),Jn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Zn(e,5);break;case 4:Zn(e,10);break;case 3:Zn(e,6);break;default:Zn(e,2)}}function Jn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=m(e.jb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Mt(n,"https"),Ut(n)),function(e,t){var n=new He;if(u.Image){var r=new Image;r.onload=g(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=g(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(vn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.G=0,e.j&&e.j.va(t),er(e),Un(e)}function er(e){e.G=0,e.I=-1,e.j&&(0==fn(e.i).length&&0==e.l.length||(e.i.i.length=0,C(e.l),e.l.length=0),e.j.ua())}function tr(e,t,n){var r=function(e){return e instanceof Pt?Dt(e):new Pt(e,void 0)}(n);if(""!=r.i)t&&jt(r,t+"."+r.i),Lt(r,r.m);else{var o=u.location;r=function(e,t,n,r){var o=new Pt(null,void 0);return e&&Mt(o,e),t&&jt(o,t),n&&Lt(o,n),r&&(o.l=r),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&A(e.aa,(function(e,t){Bt(r,t,e)})),t=e.D,n=e.sa,t&&n&&Bt(r,t,n),Bt(r,"VER",e.ma),qn(e,r),r}function nr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new En(new mn({ib:!0})):new En(e.qa)).L=e.H,t}function rr(){}function or(){if(B&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function ir(e,t){xe.call(this),this.g=new Ln(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!k(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ur(this)}function ar(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sr(){lt.call(this),this.status=1}function ur(e){this.g=e}(i=En.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=this.u?it(this.u):it(st),this.g.onreadystatechange=m(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void On(this,i)}e=n||"";var o=new It(this.headers);r&&Ot(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=Tn,n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.T()),n=u.FormData&&e instanceof u.FormData,!(0<=_(Sn,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{An(this),0<this.B&&((this.K=function(e){return B&&X()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=m(this.pa,this)):this.A=Fe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){On(this,i)}},i.pa=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),Rn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rn(this,!0)),En.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Nn(this):this.cb())},i.cb=function(){Nn(this)},i.ba=function(){try{return 2<Pn(this)?this.g.status:-1}catch(rn){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(rn){return""}},i.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xn(t)}},i.Da=function(){return this.m},i.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(i=Ln.prototype).ma=8,i.G=1,i.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},i.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new dt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?M(n=P(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){var i=this.l[o];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=o;break e}if(4096===r||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=Hn(this,t,r),Bt(o=Dt(this.F),"RID",e),Bt(o,"CVER",22),this.D&&Bt(o,"X-HTTP-Session-Id",this.D),qn(this,o),this.o&&n&&Mn(o,this.o,n),cn(this.i,t),this.Ra&&Bt(o,"TYPE","init"),this.ja?(Bt(o,"$req",r),Bt(o,"SID","null"),t.$=!0,gt(t,o,null)):gt(t,o,r),this.G=2}}else 3==this.G&&(e?Wn(this,e):0==this.l.length||an(this.i)||Wn(this))},i.Ga=function(){if(this.u=null,$n(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tt(m(this.bb,this),e)}},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ze(10),Bn(this),$n(this))},i.ab=function(){null!=this.v&&(this.v=null,Bn(this),Kn(this),Ze(19))},i.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ze(2)):(this.h.info("Failed to ping google.com"),Ze(1))},(i=rr.prototype).xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},or.prototype.g=function(e,t){return new ir(e,t)},y(ir,xe),ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ae(m(e.hb,e,t))),Ze(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tr(e,null,e.W),zn(e)},ir.prototype.close=function(){Fn(this.g)},ir.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Vn(this.g,t)}else this.v?((t={}).__data__=ke(e),Vn(this.g,t)):Vn(this.g,e)},ir.prototype.M=function(){this.g.j=null,delete this.j,Fn(this.g),delete this.g,ir.Z.M.call(this)},y(ar,ct),y(sr,lt),y(ur,rr),ur.prototype.xa=function(){Ee(this.g,"a")},ur.prototype.wa=function(e){Ee(this.g,new ar(e))},ur.prototype.va=function(e){Ee(this.g,new sr(e))},ur.prototype.ua=function(){Ee(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",at.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",xe.prototype.listen=xe.prototype.N,En.prototype.listenOnce=En.prototype.O,En.prototype.getLastError=En.prototype.La,En.prototype.getLastErrorCode=En.prototype.Da,En.prototype.getStatus=En.prototype.ba,En.prototype.getResponseJson=En.prototype.Qa,En.prototype.getResponseText=En.prototype.ga,En.prototype.send=En.prototype.ea;var cr=function(){return new or},lr=function(){return $e()},fr=nt,dr=rt,hr=Ke,pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vr=mn,mr=at,gr=En}).call(this,n(38))},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f}));var r=n(130);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var o=e.substring(t+1,e.length-1).split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,s=r*Math.min(o,1-o),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),a({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=i(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function l(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function f(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(83);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Object(r.a)(o.key),o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return yn})),n.d(t,"c",(function(){return bn})),n.d(t,"a",(function(){return wn})),n.d(t,"e",(function(){return Qt})),n.d(t,"f",(function(){return _n}));var r=n(3);function o(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach((function(n,r){var o=n.x,i=n.y,a=t[r];e.moveTo(a.x,a.y),e.lineTo(o,i)})),n){var r=t[t.length-1],o=t[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.stroke()}var i=n(7),a=function(){function e(e,t){if(!v(e)||!v(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function s(e,t){return e instanceof r.a&&e.shape.length===t}function u(e){return s(e,3)}function c(e){return s(e,4)}function l(e){return e%2===0}function f(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function d(e){return e&&e.width&&e.height}function h(e){return e.reduce((function(e,t){return e.add(t)}),new g(0,0)).div(new g(e.length,e.length))}function p(e,t,n){return Array(e).fill(0).map((function(e,r){return t+r*n}))}function v(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function m(e){return v(e)&&0<=e&&e<=1}var g=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),y=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(v),i=[r.x,r.y,r.width,r.height].every(v);if(!i&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],u=a[1],c=a[2],l=a[3];e.assertIsValidBox({x:s,y:u,width:c,height:l},"Box.constructor",n),this._x=s,this._y=u,this._width=c,this._height=l}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(v)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new g(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new g(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new g(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new g(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.round(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.floor(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,o=t.width,i=t.height,a=Math.abs(o-i);return o<i&&(n-=a/2,o+=a),i<o&&(r-=a/2,i+=a),new e({x:n,y:r,width:o,height:i})},e.prototype.rescale=function(t){var n=d(t)?t.width:t,r=d(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,o=r.x,i=r.y,a=r.right,s=r.bottom,u=Math.max(o,0),c=Math.max(i,0),l=a-u,f=s-c;return new e({x:u,y:c,width:Math.min(l,t-u),height:Math.min(f,n-c)}).floor()},e.prototype.shift=function(t,n){var r=this.width,o=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:o})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,o=n,i=r,a=this.left,s=this.top,u=this.right,c=this.bottom;return u>t&&(o=-u+t+n,u=t),c>e&&(i=-c+e+r,c=e),a<1&&(i=2-a,a=1),s<1&&(i=2-s,s=1),{dy:1,edy:i,dx:1,edx:o,y:s,ey:c,x:a,ex:u,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),b=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{left:t,top:n,right:r,bottom:o},i)||this}return Object(i.c)(t,e),t}(y),w=function(){function e(e,t,n,r,o){this._imageDims=new a(o.width,o.height),this._score=e,this._classScore=t,this._className=n,this._box=new y(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new y(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),_=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return Object(i.c)(t,e),t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r);return new t(o.score,o.relativeBox,o.imageDims)},t}(w);function x(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function E(e,t,n,r){void 0===r&&(r=!0);for(var o=t.map((function(e,t){return{score:e,boxIndex:t}})).sort((function(e,t){return e.score-t.score})).map((function(e){return e.boxIndex})),i=[],a=function(){var t=o.pop();i.push(t);for(var a=o,s=[],u=0;u<a.length;u++){var c=a[u],l=e[t],f=e[c];s.push(x(l,f,r))}o=o.filter((function(e,t){return s[t]<=n}))};o.length>0;)a();return i}function C(e,t){return r.L((function(){var n=t[0],o=t[1],a=t[2],s=r.n(Object(i.e)(e.shape.slice(0,3),[1]),n),u=r.n(Object(i.e)(e.shape.slice(0,3),[1]),o),c=r.n(Object(i.e)(e.shape.slice(0,3),[1]),a),l=r.h([s,u,c],3);return r.F(e,l)}))}function k(e){return 1/(1+Math.exp(-e))}var S=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{x:t,y:n,width:r,height:o},i)||this}return Object(i.c)(t,e),t}(y),T=function(){function e(e,t,n){void 0===n&&(n=new g(0,0));var r=t.width,o=t.height;this._imgDims=new a(r,o),this._shift=n,this._positions=e.map((function(e){return e.mul(new g(r,o)).add(n)}))}return Object.defineProperty(e.prototype,"shift",{get:function(){return new g(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map((function(t){return t.sub(e._shift).div(new g(e.imageWidth,e.imageHeight))}))},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new g(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof _?e.box.floor():new y(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=r.useDlibAlignment,i=r.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(i)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],o=function(e){return r.sub(e).magnitude()},i=(o(t)+o(n))/2,a=Math.floor(i/.45),s=h(e),u=Math.floor(Math.max(0,s.x-.5*a)),c=Math.floor(Math.max(0,s.y-.43*a));return new S(u,c,Math.min(a,this.imageWidth+u),Math.min(a,this.imageHeight+c))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map((function(e){return e.x})),n=e.map((function(e){return e.y})),r=t.reduce((function(e,t){return t<e?t:e}),1/0),o=n.reduce((function(e,t){return t<e?t:e}),1/0),i=t.reduce((function(e,t){return e<t?t:e}),0),a=n.reduce((function(e,t){return e<t?t:e}),0);return new b(r,o,i,a)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],h([e[3],e[4]])]},t}(T),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(h)},t}(T),N=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+f(this.distance)+")":"")},e}(),R=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return Object(i.c)(t,e),t.assertIsValidLabeledBox=function(e,t){if(y.assertIsValidBox(e,t),!v(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(y),A=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some((function(e){return!(e instanceof Float32Array)})))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map((function(e){return Array.from(e)}))}},e.fromJSON=function(t){var n=t.descriptors.map((function(e){return new Float32Array(e)}));return new e(t.label,n)},e}();!function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i._score=r,i._classScore=o,i}Object(i.c)(t,e),t.assertIsValidPredictedBox=function(e,t){if(R.assertIsValidLabeledBox(e,t),!m(e.score)||!m(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(R);function P(e){return e.detection instanceof _}function D(e,t){var n={detection:t};return Object.assign({},e,n)}function M(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}var j=n(77),L=n(100);function F(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}var B,U=n(101);function V(e){B=e}function z(){F()&&V(M()),Object(U.a)()&&V(Object(L.a)())}var W,q={getEnv:function(){if(!B)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return B},setEnv:V,initialize:z,createBrowserEnv:M,createFileSystem:j.a,createNodejsEnv:L.a,monkeyPatch:function(e){if(B||z(),!B)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?B.Canvas:t,r=e.Image,o=void 0===r?B.Image:r;B.Canvas=n,B.Image=o,B.createCanvasElement=e.createCanvasElement||function(){return new n},B.createImageElement=e.createImageElement||function(){return new o},B.ImageData=e.ImageData||B.ImageData,B.Video=e.Video||B.Video,B.fetch=e.fetch||B.fetch,B.readFile=e.readFile||B.readFile},isBrowser:F,isNodejs:U.a};function H(e){return q.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function G(e){var t=q.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=H(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=r.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}z(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(W||(W={}));var K=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,o=e.fontSize,i=e.fontStyle,a=e.padding;this.anchorPosition=t||W.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=i||"Georgia",this.padding=a||4},Y=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new K(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map((function(t){return e.measureText(t).width})).reduce((function(e,t){return e<t?t:e}),0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===W.BOTTOM_RIGHT||n===W.TOP_RIGHT,o=n===W.BOTTOM_LEFT||n===W.BOTTOM_RIGHT,i=this.measureWidth(e),a=this.measureHeight(),s=r?this.anchor.x-i:this.anchor.x,u=o?this.anchor.y-a:this.anchor.y;if(t){var c=t.width,l=t.height;return{x:Math.max(Math.min(s,c-i),0),y:Math.max(Math.min(u,l-a),0)}}return{x:s,y:u}},e.prototype.draw=function(e){var t=H(e),n=G(t),r=this.options,o=r.backgroundColor,i=r.fontColor,a=r.fontSize,s=r.fontStyle,u=r.padding;n.font=a+"px "+s;var c=this.measureWidth(n),l=this.measureHeight();n.fillStyle=o;var f=this.getUpperLeft(n,t);n.fillRect(f.x,f.y,c,l),n.fillStyle=i,this.text.forEach((function(e,t){var r=u+f.x,o=u+f.y+(t+1)*a;n.fillText(e,r,o)}))},e}(),$=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,o=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var i={anchorPosition:W.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new K(Object.assign({},i,o))};!function(){function e(e,t){void 0===t&&(t={}),this.box=new y(e),this.options=new $(t)}e.prototype.draw=function(e){var t=G(e),n=this.options,r=n.boxColor,o=n.lineWidth,i=this.box,a=i.x,s=i.y,u=i.width,c=i.height;t.strokeStyle=r,t.lineWidth=o,t.strokeRect(a,s,u,c);var l=this.options.label;l&&new Y([l],{x:a-o/2,y:s},this.options.drawLabelOptions).draw(e)}}();function X(e){var t=q.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function Q(e){var t=q.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new a(e.naturalWidth,e.naturalHeight):e instanceof r?new a(e.videoWidth,e.videoHeight):new a(e.width,e.height)}function J(e){var t=e.width,n=e.height,r=(0,q.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function Z(e,t){var n=q.getEnv().ImageData;if(!(e instanceof n)&&!X(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||Q(e),o=r.width,i=r.height,a=J({width:o,height:i});return e instanceof n?G(a).putImageData(e,0,0):G(a).drawImage(e,0,0,o,i),a}function ee(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,o,a,s,u,l;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=t||q.getEnv().createCanvasElement(),o=e.shape.slice(c(e)?1:0),a=o[0],s=o[1],u=o[2],l=r.L((function(){return e.as3D(a,s,u).toInt()})),[4,r.f.toPixels(l,n)];case 1:return i.sent(),l.dispose(),[2,n]}}))}))}function te(e){var t=q.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}var ne=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach((function(e,t){if(u(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(c(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var o=e instanceof q.getEnv().Canvas?e:Z(e);n._canvases[t]=o,n._inputDimensions[t]=[o.height,o.width,3]}))}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return p(this.batchSize,0,1).map((function(t,n){return e.getReshapedInputDimensions(n)}))},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new a(Math.round(n*o),Math.round(r*o))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,r.L((function(){var o=p(n.batchSize,0,1).map((function(o){var i=n.getInput(o);if(i instanceof r.a){var a=c(i)?i:i.expandDims();return(a=function(e,t){return void 0===t&&(t=!1),r.L((function(){var n=e.shape.slice(1),o=n[0],i=n[1];if(o===i)return e;var a=Math.abs(o-i),s=Math.round(a*(t?.5:1)),u=o>i?2:1,c=function(t){var n=e.shape.slice();return n[u]=t,r.n(n,0)},l=c(s),f=a-l.shape[u],d=[t&&f?c(f):null,e,l].filter((function(e){return!!e})).map((function(e){return e.toFloat()}));return r.h(d,u)}))}(a,t)).shape[1]===e&&a.shape[2]===e||(a=r.o.resizeBilinear(a,[e,e])),a.as3D(e,e,3)}if(i instanceof q.getEnv().Canvas)return r.f.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=q.getEnv(),o=r.Image,i=r.Canvas;if(!(e instanceof o||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=Q(e),s=t/Math.max(a.height,a.width),u=s*a.width,c=s*a.height,l=J({width:t,height:t}),f=e instanceof i?e:Z(e),d=Math.abs(u-c)/2,h=n&&u<c?d:0,p=n&&c<u?d:0;return G(l).drawImage(f,h,p,u,c),l}(i,e,t));throw new Error("toBatchTensor - at batchIdx "+o+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+i)}));return r.E(o.map((function(e){return e.toFloat()}))).as4D(n.batchSize,e,e,3)}))},e}();function re(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,r;return Object(i.d)(this,(function(o){switch(o.label){case 0:if(e instanceof ne)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(H)).forEach((function(e,r){if(!te(e)&&!u(e)&&!c(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(c(e)){var o=e.shape[0];if(1!==o)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+o+" passed, but not supported in input array")}})),[4,Promise.all(r.map((function(e){return te(e)&&(t=e,new Promise((function(e,n){if(t instanceof q.getEnv().Canvas||X(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",o),e(t))}function o(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",o),n(e))}t.addEventListener("load",r),t.addEventListener("error",o)})));var t})))];case 1:return o.sent(),[2,new ne(r,Array.isArray(e))]}}))}))}function oe(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=q.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,re(e)];case 1:if((o=i.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(a=o.getInput(0))instanceof n?(s=a,[3,4]):[3,2];case 2:return[4,ee(a)];case 3:s=i.sent(),i.label=4;case 4:r=s,i.label=5;case 5:return u=G(r),[2,t.map((function(e){return e instanceof _?e.forSize(r.width,r.height).box.floor():e})).map((function(e){return e.clipAtImageBorders(r.width,r.height)})).map((function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=J({width:r,height:o});return G(i).putImageData(u.getImageData(t,n,r,o),0,0),i}))]}}))}))}function ie(e,t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){if(!u(e)&&!c(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(c(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,r.L((function(){var n=e.shape.slice(c(e)?1:0),o=n[0],i=n[1],a=n[2],s=t.map((function(e){return e instanceof _?e.forSize(i,o).box:e})).map((function(e){return e.clipAtImageBorders(i,o)})).map((function(t){var n=t.x,s=t.y,u=t.width,c=t.height;return r.C(e.as3D(o,i,a),[s,n,0],[c,u,a])}));return s}))]}))}))}function ae(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,(0,q.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}}))}))}function se(e){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,ae(e)];case 1:return[2,t.sent().json()]}}))}))}function ue(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",o=(e=e.replace(r,"")).split("/").filter((function(e){return e})),i=e.endsWith(".json")?o[o.length-1]:n,a=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return{modelBaseUri:a=e.startsWith("/")?"/"+a:a,manifestUri:"/"===a?"/"+i:a+"/"+i}}function ce(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=ue(e,t),o=n.manifestUri,a=n.modelBaseUri,[4,se(o)];case 1:return s=i.sent(),[2,r.p.loadWeights(s,a)]}}))}))}var le=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,o=n.objProp;r[o].dispose(),r[o]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map((function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}}))},e.prototype.getTrainableParams=function(){return this.getParamList().filter((function(e){return e.tensor instanceof r.b}))},e.prototype.getFrozenParams=function(){return this.getParamList().filter((function(e){return!(e.tensor instanceof r.b)}))},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach((function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())}))},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach((function(t){var n=t.path,o=t.tensor,i=r.G(o.dataSync());o.dispose(),e.reassignParamFromPath(n,i)}))},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach((function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()})),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map((function(e){var t=e.tensor;return Array.from(t.dataSync())})).reduce((function(e,t){return e.concat(t)})))},e.prototype.load=function(e){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.loadFromUri=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,ce(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}}))}))},e.prototype.loadFromDisk=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,o,a,s,u,c,l,f,d;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=q.getEnv().readFile,n=ue(e,this.getDefaultModelName()),o=n.manifestUri,a=n.modelBaseUri,s=function(e){return Promise.all(e.map((function(e){return t(e).then((function(e){return e.buffer}))})))},u=r.p.weightsLoaderFactory(s),f=(l=JSON).parse,[4,t(o)];case 1:return c=f.apply(l,[i.sent().toString()]),[4,u(c,a)];case 2:return d=i.sent(),this.loadFromWeightMap(d),[2]}}))}))},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce((function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}}),{nextObj:this.params}),n=t.obj,o=t.objProp;if(!n||!o||!(n[o]instanceof r.a))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:o}},e}();function fe(e,t,n){return r.L((function(){var o=r.z(e,t.depthwise_filter,t.pointwise_filter,n,"same");return o=r.c(o,t.bias)}))}function de(e,t,n){return void 0===n&&(n=!1),r.L((function(){var o=r.w(n?r.c(r.i(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):fe(e,t.conv0,[2,2])),i=fe(o,t.conv1,[1,1]),a=fe(r.w(r.c(o,i)),t.conv2,[1,1]);return r.w(r.c(o,r.c(i,a)))}))}function he(e,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=!0),r.L((function(){var i=r.w(n?r.c(r.i(e,t.conv0.filters,o?[2,2]:[1,1],"same"),t.conv0.bias):fe(e,t.conv0,o?[2,2]:[1,1])),a=fe(i,t.conv1,[1,1]),s=fe(r.w(r.c(i,a)),t.conv2,[1,1]),u=fe(r.w(r.c(i,r.c(a,s))),t.conv3,[1,1]);return r.w(r.c(i,r.c(a,r.c(s,u))))}))}function pe(e,t,n,o){return void 0===n&&(n="same"),void 0===o&&(o=!1),r.L((function(){var i=r.c(r.i(e,t.filters,[1,1],n),t.bias);return o?r.w(i):i}))}function ve(e,t){Object.keys(e).forEach((function(n){t.some((function(e){return e.originalPath===n}))||e[n].dispose()}))}function me(e,t){return function(n,o,i,a){var s=r.K(e(n*o*i*i),[i,i,n,o]),u=r.H(e(o));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}}function ge(e,t){return function(n,o,i){var a=r.I(e(n*o),[n,o]),s=r.H(e(o));return t.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:a,bias:s}}}var ye=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function be(e,t){return function(n,o,i){var a=r.K(e(9*n),[3,3,n,1]),s=r.K(e(n*o),[1,1,n,o]),u=r.H(e(o));return t.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new ye(a,s,u)}}function we(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new ye(n,r,o)}}function _e(e,t){return function(n,r,o){var i=e[n];if(!s(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:o||n}),i}}function xe(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function Ee(e,t){var n=me(e,t),r=be(e,t);function o(e,t,o,i){return void 0===i&&(i=!1),{conv0:i?n(e,t,3,o+"/conv0"):r(e,t,o+"/conv0"),conv1:r(t,t,o+"/conv1"),conv2:r(t,t,o+"/conv2")}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:function(e,t,n,i){void 0===i&&(i=!1);var a=o(e,t,n,i);return{conv0:a.conv0,conv1:a.conv1,conv2:a.conv2,conv3:r(t,t,n+"/conv3")}}}}function Ce(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function ke(e,t){var n=_e(e,t),r=Ce(n),o=we(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2"),conv3:o(e+"/conv3")}}}}var Se=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return Object(i.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return r.L((function(){var n=he(C(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(r.y(255)),t.dense0,!0);return n=he(n,t.dense1),n=he(n,t.dense2),n=he(n,t.dense3),n=r.d(n,[7,7],[2,2],"valid")}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=ke(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return ve(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=xe(e),r=n.extractWeights,o=n.getRemainingWeights,i=Ee(r,t).extractDenseBlock4Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2"),c=i(128,256,"dense3");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u,dense3:c}}}(e)},t}(le);function Te(e,t){return r.L((function(){return r.c(r.q(e,t.weights),t.bias)}))}function Oe(e){var t={},n={};return Object.keys(e).forEach((function(r){(r.startsWith("fc")?n:t)[r]=e[r]})),{featureExtractorMap:t,classifierMap:n}}var Ie=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return Object(i.c)(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return r.L((function(){var r=e instanceof ne?t.faceFeatureExtractor.forwardInput(e):e;return Te(r.as2D(r.shape[0],-1),n.fc)}))},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],o=xe(e),i=o.extractWeights,a=o.getRemainingWeights,s=ge(i,r)(t,n,"fc");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=Oe(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t,n=[],r=_e(e,n),o={fc:(t="fc",{weights:r(t+"/weights",2),bias:r(t+"/bias",1)})};return ve(e,n),{params:o,paramMappings:n}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,o=e.slice(0,e.length-r),i=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(i)},t}(le),Ne=["neutral","happy","sad","angry","fearful","disgusted","surprised"],Re=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);Ne.forEach((function(n,r){t[n]=e[r]}))}return e.prototype.asSortedArray=function(){var e=this;return Ne.map((function(t){return{expression:t,probability:e[t]}})).sort((function(e,t){return t.probability-e.probability}))},e}(),Ae=function(e){function t(t){return void 0===t&&(t=new Se),e.call(this,"FaceExpressionNet",t)||this}return Object(i.c)(t,e),t.prototype.forwardInput=function(e){var t=this;return r.L((function(){return r.D(t.runNet(e))}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictExpressions=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,o,a,s=this;return Object(i.d)(this,(function(u){switch(u.label){case 0:return[4,re(e)];case 1:return t=u.sent(),[4,this.forwardInput(t)];case 2:return n=u.sent(),[4,Promise.all(r.O(n).map((function(e){return Object(i.b)(s,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 3:return o=u.sent(),n.dispose(),a=o.map((function(e){return new Re(e)})),[2,t.isBatchInput?a:a[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(Ie);function Pe(e,t){var n={expressions:t};return Object.assign({},e,n)}function De(e){return P(e)&&e.landmarks instanceof T&&e.unshiftedLandmarks instanceof T&&e.alignedRect instanceof _}function Me(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),i=e.detection.imageDims,a={landmarks:r,unshiftedLandmarks:t,alignedRect:new _(e.detection.score,o.rescale(i.reverse()),i)};return Object.assign({},e,a)}var je=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,o=void 0===r||r,i=e.lineWidth,a=e.lineColor,s=e.pointSize,u=e.pointColor;this.drawLines=n,this.drawPoints=o,this.lineWidth=i||1,this.pointSize=s||2,this.lineColor=a||"rgba(0, 255, 255, 1)",this.pointColor=u||"rgba(255, 0, 255, 1)"};!function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new je(t)}e.prototype.draw=function(e){var t=G(e),n=this.options,r=n.drawLines,i=n.drawPoints,a=n.lineWidth,s=n.lineColor,u=n.pointSize,c=n.pointColor;if(r&&this.faceLandmarks instanceof I&&(t.strokeStyle=s,t.lineWidth=a,o(t,this.faceLandmarks.getJawOutline()),o(t,this.faceLandmarks.getLeftEyeBrow()),o(t,this.faceLandmarks.getRightEyeBrow()),o(t,this.faceLandmarks.getNose()),o(t,this.faceLandmarks.getLeftEye(),!0),o(t,this.faceLandmarks.getRightEye(),!0),o(t,this.faceLandmarks.getMouth(),!0)),i){t.strokeStyle=c,t.fillStyle=c;this.faceLandmarks.positions.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,u,0,2*Math.PI),t.fill()}))}}}();function Le(e,t){var n=[],r=xe(e),o=r.extractWeights,i=r.getRemainingWeights,a=function(e,t){var n=me(e,t),r=be(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,o){return{separable_conv0:r(e,t,o+"/separable_conv0"),separable_conv1:r(t,t,o+"/separable_conv1"),expansion_conv:n(e,t,1,o+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(o,n),s=a.extractConvParams,u=a.extractSeparableConvParams,c=a.extractReductionBlockParams,l=a.extractMainBlockParams,f={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:c(32,64,"entry_flow/reduction_block_0"),reduction_block_1:c(64,128,"entry_flow/reduction_block_1")},d={};p(t,0,1).forEach((function(e){d["main_block_"+e]=l(128,"middle_flow/main_block_"+e)}));var h={reduction_block:c(128,256,"exit_flow/reduction_block"),separable_conv:u(256,512,"exit_flow/separable_conv")};if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:f,middle_flow:d,exit_flow:h}}}function Fe(e,t){var n=[],r=function(e,t){var n=_e(e,t),r=Ce(n),o=we(n);return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),separable_conv2:o(e+"/separable_conv2")}}}}(e,n),o=r.extractConvParams,i=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,u={conv_in:o("entry_flow/conv_in"),reduction_block_0:a("entry_flow/reduction_block_0"),reduction_block_1:a("entry_flow/reduction_block_1")},c={};p(t,0,1).forEach((function(e){c["main_block_"+e]=s("middle_flow/main_block_"+e)}));var l={reduction_block:a("exit_flow/reduction_block"),separable_conv:i("exit_flow/separable_conv")};return ve(e,n),{params:{entry_flow:u,middle_flow:c,exit_flow:l},paramMappings:n}}function Be(e,t,n){return r.c(r.i(e,t.filters,n,"same"),t.bias)}function Ue(e,t,n){void 0===n&&(n=!0);var o=n?r.w(e):e;return o=fe(o,t.separable_conv0,[1,1]),o=fe(r.w(o),t.separable_conv1,[1,1]),o=r.s(o,[3,3],[2,2],"same"),o=r.c(o,Be(e,t.expansion_conv,[2,2]))}var Ve,ze=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return Object(i.c)(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return r.L((function(){var o=C(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(r.y(256)),i=r.w(Be(o,n.entry_flow.conv_in,[2,2]));return i=Ue(i,n.entry_flow.reduction_block_0,!1),i=Ue(i,n.entry_flow.reduction_block_1),p(t._numMainBlocks,0,1).forEach((function(e){i=function(e,t){var n=fe(r.w(e),t.separable_conv0,[1,1]);return n=fe(r.w(n),t.separable_conv1,[1,1]),n=fe(r.w(n),t.separable_conv2,[1,1]),r.c(n,e)}(i,n.middle_flow["main_block_"+e])})),i=Ue(i,n.exit_flow.reduction_block),i=r.w(fe(i,n.exit_flow.separable_conv,[1,1]))}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Fe(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return Le(e,this._numMainBlocks)},t}(le);!function(e){e.FEMALE="female",e.MALE="male"}(Ve||(Ve={}));var We=function(e){function t(t){void 0===t&&(t=new ze(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Object(i.c)(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return r.L((function(){var o=e instanceof ne?t.faceFeatureExtractor.forwardInput(e):e,i=r.d(o,[7,7],[2,2],"valid").as2D(o.shape[0],-1);return{age:Te(i,n.fc.age).as1D(),gender:Te(i,n.fc.gender)}}))},t.prototype.forwardInput=function(e){var t=this;return r.L((function(){var n=t.runNet(e),o=n.age,i=n.gender;return{age:o,gender:r.D(i)}}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictAgeAndGender=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,o,a,s,u,c=this;return Object(i.d)(this,(function(l){switch(l.label){case 0:return[4,re(e)];case 1:return t=l.sent(),[4,this.forwardInput(t)];case 2:return n=l.sent(),o=r.O(n.age),a=r.O(n.gender),s=o.map((function(e,t){return{ageTensor:e,genderTensor:a[t]}})),[4,Promise.all(s.map((function(e){var t=e.ageTensor,n=e.genderTensor;return Object(i.b)(c,void 0,void 0,(function(){var e,r,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,t.data()];case 1:return e=i.sent()[0],[4,n.data()];case 2:return r=i.sent()[0],a=(o=r>.5)?Ve.MALE:Ve.FEMALE,s=o?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:a,genderProbability:s}]}}))}))})))];case 3:return u=l.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?u:u[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=xe(e),r=n.extractWeights,o=n.getRemainingWeights,i=ge(r,t),a=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:a,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=Oe(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=_e(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return ve(e,t),{params:o,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(le),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.postProcess=function(e,t,n){var o=n.map((function(e){var n=e.width,r=e.height,o=t/Math.max(r,n);return{width:n*o,height:r*o}})),i=o.length;return r.L((function(){var n=function(e,t){return r.E([r.n([68],e),r.n([68],t)],1).as2D(1,136).as1D()},a=function(e,t){var n=o[e],r=n.width,i=n.height;return t(r,i)?Math.abs(r-i)/2:0};return e.mul(r.n([i,136],t)).sub(r.E(Array.from(Array(i),(function(e,t){return n(function(e){return a(e,(function(e,t){return e<t}))}(t),function(e){return a(e,(function(e,t){return t<e}))}(t))})))).div(r.E(Array.from(Array(i),(function(e,t){return n(o[t].width,o[t].height)}))))}))},t.prototype.forwardInput=function(e){var t=this;return r.L((function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map((function(e){return{height:e[0],width:e[1]}})))}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.detectLandmarks=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,o,a=this;return Object(i.d)(this,(function(s){switch(s.label){case 0:return[4,re(e)];case 1:return t=s.sent(),n=r.L((function(){return r.O(a.forwardInput(t))})),[4,Promise.all(n.map((function(e,n){return Object(i.b)(a,void 0,void 0,(function(){var r,o,a,s,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return a=(o=Array).from,[4,e.data()];case 1:return r=a.apply(o,[i.sent()]),s=r.filter((function(e,t){return l(t)})),u=r.filter((function(e,t){return!l(t)})),[2,new I(Array(68).fill(0).map((function(e,t){return new g(s[t],u[t])})),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}}))}))})))];case 2:return o=s.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?o:o[0]]}}))}))},t.prototype.getClassifierChannelsOut=function(){return 136},t}(Ie),He=function(e){function t(t){return void 0===t&&(t=new Se),e.call(this,"FaceLandmark68Net",t)||this}return Object(i.c)(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(qe);var Ge=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return Object(i.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return r.L((function(){var n=de(C(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(r.y(255)),t.dense0,!0);return n=de(n,t.dense1),n=de(n,t.dense2),n=r.d(n,[14,14],[2,2],"valid")}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=ke(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return ve(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=xe(e),r=n.extractWeights,o=n.getRemainingWeights,i=Ee(r,t).extractDenseBlock3Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u}}}(e)},t}(le),Ke=function(e){function t(t){return void 0===t&&(t=new Ge),e.call(this,"FaceLandmark68TinyNet",t)||this}return Object(i.c)(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(qe);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(i.c)(t,e)}(He);function Ye(e,t,n,o,i){void 0===i&&(i="same");var a=t.conv,s=a.filters,u=a.bias,c=r.i(e,s,n,i);return c=function(e,t){return r.c(r.t(e,t.weights),t.biases)}(c=r.c(c,u),t.scale),o?r.w(c):c}function $e(e,t){return Ye(e,t,[1,1],!1)}function Xe(e,t){return Ye(e,t,[2,2],!0,"valid")}function Qe(e,t){function n(n,o,i,a){var s=function(t,n,o){var i=e(t),a=i.length/(n*o*o);if(a%1!==0)throw new Error("depth has to be an integer: "+a+", weights.length: "+i.length+", numFilters: "+n+", filterSize: "+o);return r.L((function(){return r.N(r.K(i,[n,a,o,o]),[2,3,1,0])}))}(n,o,i),u=r.H(e(o));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}function o(o,i,a,s){var u=n(o,i,a,s+"/conv"),c=function(n,o){var i=r.H(e(n)),a=r.H(e(n));return t.push({paramPath:o+"/weights"},{paramPath:o+"/biases"}),{weights:i,biases:a}}(i,s+"/scale");return{conv:u,scale:c}}return{extractConvLayerParams:o,extractResidualLayerParams:function(e,t,n,r,i){return void 0===i&&(i=!1),{conv1:o((i?.5:1)*e,t,n,r+"/conv1"),conv2:o(e,t,n,r+"/conv2")}}}}function Je(e,t){var n=_e(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),o=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:o}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function Ze(e){var t=[],n=Je(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,i=r("conv32_down"),a=o("conv32_1"),u=o("conv32_2"),c=o("conv32_3"),l=o("conv64_down"),f=o("conv64_1"),d=o("conv64_2"),h=o("conv64_3"),p=o("conv128_down"),v=o("conv128_1"),m=o("conv128_2"),g=o("conv256_down"),y=o("conv256_1"),b=o("conv256_2"),w=o("conv256_down_out"),_=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!s(_,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+_);var x={conv32_down:i,conv32_1:a,conv32_2:u,conv32_3:c,conv64_down:l,conv64_1:f,conv64_2:d,conv64_3:h,conv128_down:p,conv128_1:v,conv128_2:m,conv256_down:g,conv256_1:y,conv256_2:b,conv256_down_out:w,fc:_};return ve(e,t),{params:x,paramMappings:t}}function et(e,t){var n=function(e,t){return Ye(e,t,[1,1],!0)}(e,t.conv1);return n=$e(n,t.conv2),n=r.c(n,e),n=r.w(n)}function tt(e,t){var n=Xe(e,t.conv1);n=$e(n,t.conv2);var o=r.d(e,2,2,"valid"),a=r.P(o.shape),s=o.shape[3]!==n.shape[3];if(o.shape[1]!==n.shape[1]||o.shape[2]!==n.shape[2]){var u=Object(i.e)(n.shape);u[1]=1;var c=r.P(u);n=r.h([n,c],1);var l=Object(i.e)(n.shape);l[2]=1;var f=r.P(l);n=r.h([n,f],2)}return o=s?r.h([o,a],3):o,n=r.c(o,n),n=r.w(n)}var nt=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return Object(i.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return r.L((function(){var n=Xe(C(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(r.y(256)),t.conv32_down);n=et(n=r.s(n,3,2,"valid"),t.conv32_1),n=et(n,t.conv32_2),n=et(n,t.conv32_3),n=et(n=tt(n,t.conv64_down),t.conv64_1),n=et(n,t.conv64_2),n=et(n,t.conv64_3),n=et(n=tt(n,t.conv128_down),t.conv128_1),n=et(n,t.conv128_2),n=et(n=tt(n,t.conv256_down),t.conv256_1);var o=(n=tt(n=et(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return r.q(o,t.fc)}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.computeFaceDescriptor=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,o,a=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,re(e)];case 1:return t=i.sent(),n=r.L((function(){return r.O(a.forwardInput(t))})),[4,Promise.all(n.map((function(e){return e.data()})))];case 2:return o=i.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?o:o[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Ze(e)},t.prototype.extractParams=function(e){return function(e){var t=xe(e),n=t.extractWeights,o=t.getRemainingWeights,i=[],a=Qe(n,i),s=a.extractConvLayerParams,u=a.extractResidualLayerParams,c=s(4704,32,7,"conv32_down"),l=u(9216,32,3,"conv32_1"),f=u(9216,32,3,"conv32_2"),d=u(9216,32,3,"conv32_3"),h=u(36864,64,3,"conv64_down",!0),p=u(36864,64,3,"conv64_1"),v=u(36864,64,3,"conv64_2"),m=u(36864,64,3,"conv64_3"),g=u(147456,128,3,"conv128_down",!0),y=u(147456,128,3,"conv128_1"),b=u(147456,128,3,"conv128_2"),w=u(589824,256,3,"conv256_down",!0),_=u(589824,256,3,"conv256_1"),x=u(589824,256,3,"conv256_2"),E=u(589824,256,3,"conv256_down_out"),C=r.L((function(){return r.N(r.I(n(32768),[128,256]),[1,0])}));if(i.push({paramPath:"fc"}),0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{params:{conv32_down:c,conv32_1:l,conv32_2:f,conv32_3:d,conv64_down:h,conv64_1:p,conv64_2:v,conv64_3:m,conv128_down:g,conv128_1:y,conv128_2:b,conv256_down:w,conv256_1:_,conv256_2:x,conv256_down_out:E,fc:C},paramMappings:i}}(e)},t}(le);function rt(e,t){var n={descriptor:t};return Object.assign({},e,n)}function ot(e,t){var n={age:t};return Object.assign({},e,n)}function it(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var at=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,o=t.maxNumScales,i=t.scoreThresholds,a=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=o||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=a,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some((function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some((function(e){return"number"!==typeof e}))))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function st(e,t){function n(n,o,i,a,s){var u=r.K(e(n*o*i*i),[i,i,n,o]),c=r.H(e(o));return t.push({paramPath:a+"/filters"},{paramPath:a+"/"+(s?"batch_norm_offset":"bias")}),{filters:u,bias:c}}function o(e,t,r,o){var i=n(e,t,r,o,!0);return{filters:i.filters,batch_norm_offset:i.bias}}function i(n,i,a){var s=function(n,o){var i=r.K(e(9*n),[3,3,n,1]),a=r.H(e(n)),s=r.H(e(n)),u=r.H(e(n)),c=r.H(e(n));return t.push({paramPath:o+"/filters"},{paramPath:o+"/batch_norm_scale"},{paramPath:o+"/batch_norm_offset"},{paramPath:o+"/batch_norm_mean"},{paramPath:o+"/batch_norm_variance"}),{filters:i,batch_norm_scale:a,batch_norm_offset:s,batch_norm_mean:u,batch_norm_variance:c}}(n,a+"/depthwise_conv");return{depthwise_conv:s,pointwise_conv:o(n,i,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:o(3,32,3,"mobilenetv1/conv_0"),conv_1:i(32,64,"mobilenetv1/conv_1"),conv_2:i(64,128,"mobilenetv1/conv_2"),conv_3:i(128,128,"mobilenetv1/conv_3"),conv_4:i(128,256,"mobilenetv1/conv_4"),conv_5:i(256,256,"mobilenetv1/conv_5"),conv_6:i(256,512,"mobilenetv1/conv_6"),conv_7:i(512,512,"mobilenetv1/conv_7"),conv_8:i(512,512,"mobilenetv1/conv_8"),conv_9:i(512,512,"mobilenetv1/conv_9"),conv_10:i(512,512,"mobilenetv1/conv_10"),conv_11:i(512,512,"mobilenetv1/conv_11"),conv_12:i(512,1024,"mobilenetv1/conv_12"),conv_13:i(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:o(1024,256,1,"prediction_layer/conv_0"),conv_1:o(256,512,3,"prediction_layer/conv_1"),conv_2:o(512,128,1,"prediction_layer/conv_2"),conv_3:o(128,256,3,"prediction_layer/conv_3"),conv_4:o(256,128,1,"prediction_layer/conv_4"),conv_5:o(128,256,3,"prediction_layer/conv_5"),conv_6:o(256,64,1,"prediction_layer/conv_6"),conv_7:o(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function ut(e){var t=[],n=function(e,t){var n=_e(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function o(e){var t="mobilenetv1/conv_"+e,o="MobilenetV1/Conv2d_"+e+"_depthwise",i=t+"/depthwise_conv",a=t+"/pointwise_conv";return{depthwise_conv:{filters:n(o+"/depthwise_weights",4,i+"/filters"),batch_norm_scale:n(o+"/BatchNorm/gamma",1,i+"/batch_norm_scale"),batch_norm_offset:n(o+"/BatchNorm/beta",1,i+"/batch_norm_offset"),batch_norm_mean:n(o+"/BatchNorm/moving_mean",1,i+"/batch_norm_mean"),batch_norm_variance:n(o+"/BatchNorm/moving_variance",1,i+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,a)}}function i(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function a(e){return{box_encoding_predictor:i("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:i("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:a(0),box_predictor_1:a(1),box_predictor_2:a(2),box_predictor_3:a(3),box_predictor_4:a(4),box_predictor_5:a(5)}}}}(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!u(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var a={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:i}};return ve(e,t),{params:a,paramMappings:t}}function ct(e,t,n){return r.L((function(){var o=r.i(e,t.filters,n,"same");return o=r.c(o,t.batch_norm_offset),r.g(o,0,6)}))}var lt=.0010000000474974513;function ft(e,t){return r.L((function(){var n=null,o=ct(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach((function(e,t){var i=t+1,a=function(e){return[2,4,6,12].some((function(t){return t===e}))?[2,2]:[1,1]}(i);o=function(e,t,n){return r.L((function(){var o=r.j(e,t.filters,n,"same");return o=r.e(o,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,lt),r.g(o,0,6)}))}(o,e.depthwise_conv,a),o=ct(o,e.pointwise_conv,[1,1]),11===i&&(n=o)})),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:o,conv11:n}}))}function dt(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),a=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),l=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),d=(a-o)*(s-i),h=(l-u)*(f-c);if(d<=0||h<=0)return 0;var p=Math.max(o,u),v=Math.max(i,c),m=Math.min(a,l),g=Math.min(s,f),y=Math.max(m-p,0)*Math.max(g-v,0);return y/(d+h-y)}function ht(e,t){var n=function(e){var t=r.O(r.N(e,[1,0])),n=[r.F(t[2],t[0]),r.F(t[3],t[1])];return{sizes:n,centers:[r.c(t[0],r.k(n[0],r.y(2))),r.c(t[1],r.k(n[1],r.y(2)))]}}(e),o=n.sizes,i=n.centers,a=r.O(r.N(t,[1,0])),s=r.k(r.t(r.l(r.k(a[2],r.y(5))),o[0]),r.y(2)),u=r.c(r.t(r.k(a[0],r.y(10)),o[0]),i[0]),c=r.k(r.t(r.l(r.k(a[3],r.y(5))),o[1]),r.y(2)),l=r.c(r.t(r.k(a[1],r.y(10)),o[1]),i[1]);return r.N(r.E([r.F(u,s),r.F(l,c),r.c(u,s),r.c(l,c)]),[1,0])}function pt(e,t){return r.L((function(){var n=e.shape[0];return{boxPredictionEncoding:r.x(pe(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:r.x(pe(e,t.class_predictor),[n,-1,3])}}))}var vt=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),mt=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return Object(i.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return r.L((function(){var n=e.toBatchTensor(512,!1).toFloat(),o=ft(r.F(r.t(n,r.y(.007843137718737125)),r.y(1)),t.mobilenetv1),i=function(e,t,n){return r.L((function(){var o=ct(e,n.conv_0,[1,1]),i=ct(o,n.conv_1,[2,2]),a=ct(i,n.conv_2,[1,1]),s=ct(a,n.conv_3,[2,2]),u=ct(s,n.conv_4,[1,1]),c=ct(u,n.conv_5,[2,2]),l=ct(c,n.conv_6,[1,1]),f=ct(l,n.conv_7,[2,2]),d=pt(t,n.box_predictor_0),h=pt(e,n.box_predictor_1),p=pt(i,n.box_predictor_2),v=pt(s,n.box_predictor_3),m=pt(c,n.box_predictor_4),g=pt(f,n.box_predictor_5);return{boxPredictions:r.h([d.boxPredictionEncoding,h.boxPredictionEncoding,p.boxPredictionEncoding,v.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding],1),classPredictions:r.h([d.classPrediction,h.classPrediction,p.classPrediction,v.classPrediction,m.classPrediction,g.classPrediction],1)}}))}(o.out,o.conv11,t.prediction_layer);return function(e,t,n){return r.L((function(){var o=e.shape[0],i=ht(r.x(r.M(n.extra_dim,[o,1,1]),[-1,4]),r.x(e,[-1,4]));i=r.x(i,[o,i.shape[0]/o,4]);var a=r.A(r.B(t,[0,0,1],[-1,-1,-1])),s=r.B(a,[0,0,0],[-1,-1,1]);return s=r.x(s,[o,s.shape[1]]),{boxes:r.O(i),scores:r.O(s)}}))}(i.boxPredictions,i.classPredictions,t.output_layer)}))},t.prototype.forward=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,re(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,f,d,h,p,v,m,g,y,b,w,x,E;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=new vt(t),r=n.maxResults,o=n.minConfidence,[4,re(e)];case 1:for(a=i.sent(),s=this.forwardInput(a),u=s.boxes,c=s.scores,l=u[0],f=c[0],d=1;d<u.length;d++)u[d].dispose(),c[d].dispose();return v=(p=Array).from,[4,f.data()];case 2:return h=v.apply(p,[i.sent()]),.5,m=function(e,t,n,r,o){var i=e.shape[0],a=Math.min(n,i),s=t.map((function(e,t){return{score:e,boxIndex:t}})).filter((function(e){return e.score>o})).sort((function(e,t){return t.score-e.score})),u=[];return s.forEach((function(t){if(!(u.length>=a)){for(var n=t.score,i=u.length-1;i>=0;--i){var s=dt(e,t.boxIndex,u[i]);if(0!==s&&(t.score*=s<=r?1:0,t.score<=o))break}n===t.score&&u.push(t.boxIndex)}})),u}(l,h,r,.5,o),g=a.getReshapedInputDimensions(0),y=a.inputSize,b=y/g.width,w=y/g.height,x=l.arraySync(),E=m.map((function(e){var t=[Math.max(0,x[e][0]),Math.min(1,x[e][2])].map((function(e){return e*w})),n=t[0],r=t[1],o=[Math.max(0,x[e][1]),Math.min(1,x[e][3])].map((function(e){return e*b})),i=o[0],s=o[1];return new _(h[e],new S(i,n,s-i,r-n),{height:a.getInputHeight(0),width:a.getInputWidth(0)})})),l.dispose(),f.dispose(),[2,E]}}))}))},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return ut(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=xe(e),o=n.extractWeights,i=n.getRemainingWeights,a=st(o,t),s=a.extractMobilenetV1Params,u=a.extractPredictionLayerParams,c=s(),l=u(),f={extra_dim:r.J(o(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:c,prediction_layer:l,output_layer:f},paramMappings:t}}(e)},t}(le);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(i.c)(t,e)}(mt);var gt,yt=[new g(.738768,.874946),new g(2.42204,2.65704),new g(4.30971,7.04493),new g(10.246,4.59428),new g(12.6868,11.8741)],bt=[new g(1.603231,2.094468),new g(6.041143,7.080126),new g(2.882459,3.518061),new g(4.266906,5.178857),new g(9.041765,10.66308)],wt=[117.001,114.697,97.404],_t=function(e){return"number"===typeof e};function xt(e){return r.L((function(){var t=r.t(e,r.y(.10000000149011612));return r.c(r.w(r.F(e,t)),t)}))}function Et(e,t){return r.L((function(){var n=r.v(e,[[0,0],[1,1],[1,1],[0,0]]);return n=r.i(n,t.conv.filters,[1,1],"valid"),n=r.F(n,t.bn.sub),n=r.t(n,t.bn.truediv),xt(n=r.c(n,t.conv.bias))}))}function Ct(e,t){return r.L((function(){var n=r.v(e,[[0,0],[1,1],[1,1],[0,0]]);return n=r.z(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),xt(n=r.c(n,t.bias))}))}function kt(e,t){var n=me(e,t);var o=be(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(o,i,a){var s=n(o,i,3,a+"/conv"),u=function(n,o){var i=r.H(e(n)),a=r.H(e(n));return t.push({paramPath:o+"/sub"},{paramPath:o+"/truediv"}),{sub:i,truediv:a}}(i,a+"/bn");return{conv:s,bn:u}},extractSeparableConvParams:o}}function St(e,t){var n=_e(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),o=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:o}},extractSeparableConvParams:we(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(gt||(gt={}));var Tt=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),Ot=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!_t(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every((function(e){return"string"===typeof e})))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map((function(e){return e||{}})).every((function(e){return _t(e.x)&&_t(e.y)})))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(_t)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return Object(i.c)(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=Et(e,t.conv0);return n=Et(n=r.s(n,[2,2],[2,2],"same"),t.conv1),n=Et(n=r.s(n,[2,2],[2,2],"same"),t.conv2),n=Et(n=r.s(n,[2,2],[2,2],"same"),t.conv3),n=Et(n=r.s(n,[2,2],[2,2],"same"),t.conv4),n=Et(n=r.s(n,[2,2],[2,2],"same"),t.conv5),n=Et(n=r.s(n,[2,2],[1,1],"same"),t.conv6),pe(n=Et(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?xt(pe(e,t.conv0,"valid",!1)):Ct(e,t.conv0);return n=Ct(n=r.s(n,[2,2],[2,2],"same"),t.conv1),n=Ct(n=r.s(n,[2,2],[2,2],"same"),t.conv2),n=Ct(n=r.s(n,[2,2],[2,2],"same"),t.conv3),n=Ct(n=r.s(n,[2,2],[2,2],"same"),t.conv4),n=Ct(n=r.s(n,[2,2],[2,2],"same"),t.conv5),n=r.s(n,[2,2],[1,1],"same"),n=t.conv6?Ct(n,t.conv6):n,pe(n=t.conv7?Ct(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,o=this.params;if(!o)throw new Error("TinyYolov2 - load model before inference");return r.L((function(){var i=e.toBatchTensor(t,!1).toFloat();return i=(i=n.config.meanRgb?C(i,n.config.meanRgb):i).div(r.y(256)),n.config.withSeparableConvs?n.runMobilenet(i,o):n.runTinyYolov2(i,o)}))},t.prototype.forward=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,re(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}}))}))},t.prototype.detect=function(e,t){return void 0===t&&(t={}),Object(i.b)(this,void 0,void 0,(function(){var n,o,a,s,u,c,l,f,d,h,p,v,m,g=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=new Tt(t),o=n.inputSize,a=n.scoreThreshold,[4,re(e)];case 1:return s=i.sent(),[4,this.forwardInput(s,o)];case 2:return u=i.sent(),c=r.L((function(){return r.O(u)[0].expandDims()})),l={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),a)];case 3:return f=i.sent(),u.dispose(),c.dispose(),d=f.map((function(e){return e.box})),h=f.map((function(e){return e.score})),p=f.map((function(e){return e.classScore})),v=f.map((function(e){return g.config.classes[e.label]})),m=E(d.map((function(e){return e.rescale(o)})),h,this.config.iouThreshold,!0),[2,m.map((function(e){return new w(h[e],p[e],v[e],d[e],l)}))]}}))}))},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],o=St(e,r),i=o.extractConvParams,a=o.extractConvWithBatchNormParams,s=o.extractSeparableConvParams;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?i("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:u>7?s("conv6"):void 0,conv7:u>8?s("conv7"):void 0,conv8:i("conv8")}}else n={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:i("conv8")};return ve(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var o,i=xe(e),a=i.extractWeights,s=i.getRemainingWeights,u=[],c=kt(a,u),l=c.extractConvParams,f=c.extractConvWithBatchNormParams,d=c.extractSeparableConvParams;if(t.withSeparableConvs){var h=r[0],p=r[1],v=r[2],m=r[3],g=r[4],y=r[5],b=r[6],w=r[7],_=r[8];o={conv0:t.isFirstLayerConv2d?l(h,p,3,"conv0"):d(h,p,"conv0"),conv1:d(p,v,"conv1"),conv2:d(v,m,"conv2"),conv3:d(m,g,"conv3"),conv4:d(g,y,"conv4"),conv5:d(y,b,"conv5"),conv6:w?d(b,w,"conv6"):void 0,conv7:_?d(w,_,"conv7"):void 0,conv8:l(_||w||b,5*n,1,"conv8")}}else h=r[0],p=r[1],v=r[2],m=r[3],g=r[4],y=r[5],b=r[6],w=r[7],_=r[8],o={conv0:f(h,p,"conv0"),conv1:f(p,v,"conv1"),conv2:f(v,m,"conv2"),conv3:f(m,g,"conv3"),conv4:f(g,y,"conv4"),conv5:f(y,b,"conv5"),conv6:f(b,w,"conv6"),conv7:f(w,_,"conv7"),conv8:l(_,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:o,paramMappings:u}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h,p,v,m,g,y,w,_,x,E,C,S,T,O,I,N,R,A,P,D,M,j=this;return Object(i.d)(this,(function(L){switch(L.label){case 0:return o=t.width,a=t.height,s=Math.max(o,a),u=s/o,c=s/a,l=e.shape[1],f=this.config.anchors.length,d=r.L((function(){var t=e.reshape([l,l,f,j.boxEncodingSize]);return[t.slice([0,0,0,0],[l,l,f,4]),t.slice([0,0,0,4],[l,l,f,1]),j.withClassScores?r.D(t.slice([0,0,0,5],[l,l,f,j.config.classes.length]),3):r.y(0)]})),h=d[0],p=d[1],v=d[2],m=[],[4,p.array()];case 1:return g=L.sent(),[4,h.array()];case 2:y=L.sent(),w=0,L.label=3;case 3:if(!(w<l))return[3,12];_=0,L.label=4;case 4:if(!(_<l))return[3,11];x=0,L.label=5;case 5:return x<f?(E=k(g[w][_][x][0]),!n||E>n?(C=(_+k(y[w][_][x][0]))/l*u,S=(w+k(y[w][_][x][1]))/l*c,T=Math.exp(y[w][_][x][2])*this.config.anchors[x].x/l*u,O=Math.exp(y[w][_][x][3])*this.config.anchors[x].y/l*c,I=C-T/2,N=S-O/2,R={row:w,col:_,anchor:x},this.withClassScores?[4,this.extractPredictedClass(v,R)]:[3,7]):[3,9]):[3,10];case 6:return M=L.sent(),[3,8];case 7:M={classScore:1,label:0},L.label=8;case 8:P=(A=M).classScore,D=A.label,m.push(Object(i.a)({box:new b(I,N,I+T,N+O),score:E,classScore:E*P,label:D},R)),L.label=9;case 9:return x++,[3,5];case 10:return _++,[3,4];case 11:return w++,[3,3];case 12:return h.dispose(),p.dispose(),v.dispose(),[2,m]}}))}))},t.prototype.extractPredictedClass=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=t.row,r=t.col,o=t.anchor,[4,e.array()];case 1:return a=i.sent(),[2,Array(this.config.classes.length).fill(0).map((function(e,t){return a[n][r][o][t]})).map((function(e,t){return{classScore:e,label:t}})).reduce((function(e,t){return e.classScore>t.classScore?e:t}))]}}))}))},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(le),It=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:bt,meanRgb:wt}:{anchors:yt,withClassScores:!0});return e.call(this,n)||this}return Object(i.c)(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new _(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(Ot);var Nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return Object(i.c)(t,e),t}(Tt),Rt=function(){function e(){}return e.prototype.then=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}}))}))},e.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){throw new Error("ComposableTask - run is not implemented")}))}))},e}();function At(e,t,n,o,a){return void 0===a&&(a=function(e){return e.alignedRect}),Object(i.b)(this,void 0,void 0,(function(){var s,u,c,l,f;return Object(i.d)(this,(function(i){switch(i.label){case 0:return s=e.map((function(e){return De(e)?a(e):e.detection})),(c=o)?[3,5]:t instanceof r.a?[4,ie(t,s)]:[3,2];case 1:return l=i.sent(),[3,4];case 2:return[4,oe(t,s)];case 3:l=i.sent(),i.label=4;case 4:c=l,i.label=5;case 5:return[4,n(u=c)];case 6:return f=i.sent(),u.forEach((function(e){return e instanceof r.a&&e.dispose()})),[2,f]}}))}))}function Pt(e,t,n,r,o){return Object(i.b)(this,void 0,void 0,(function(){var a=this;return Object(i.d)(this,(function(s){return[2,At([e],t,(function(e){return Object(i.b)(a,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return[2,n(e[0])]}))}))}),r,o)]}))}))}var Dt=2,Mt=12;function jt(e){var t=xe(e),n=t.extractWeights,o=t.getRemainingWeights,a=[],s=function(e,t){var n=me(e,t),o=ge(e,t);function a(n,o){var i=r.H(e(n));return t.push({paramPath:o}),i}function s(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:a(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:a(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:a(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=s([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return Object(i.a)(Object(i.a)({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=s([3,28,48,64],"rnet",!0),t=o(576,128,"rnet/fc1"),n=a(128,"rnet/prelu4_alpha"),r=o(128,2,"rnet/fc2_1"),u=o(128,4,"rnet/fc2_2");return Object(i.a)(Object(i.a)({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:u})},extractONetParams:function(){var e=s([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),r=a(128,"onet/prelu4_alpha"),u=o(1152,256,"onet/fc1"),c=a(256,"onet/prelu5_alpha"),l=o(256,2,"onet/fc2_1"),f=o(256,4,"onet/fc2_2"),d=o(256,10,"onet/fc2_3");return Object(i.a)(Object(i.a)({},e),{conv4:t,prelu4_alpha:r,fc1:u,prelu5_alpha:c,fc2_1:l,fc2_2:f,fc2_3:d})}}}(n,a),u=s.extractPNetParams,c=s.extractRNetParams,l=s.extractONetParams,f=u(),d=c(),h=l();if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{params:{pnet:f,rnet:d,onet:h},paramMappings:a}}function Lt(e){var t=[],n=function(e,t){var n=_e(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function o(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function a(e){return n(e,1)}function s(e){return{conv1:r(e+"/conv1"),prelu1_alpha:a(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:a(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:a(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=s("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return Object(i.a)(Object(i.a)({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=s("rnet"),t=o("rnet/fc1"),n=a("rnet/prelu4_alpha"),r=o("rnet/fc2_1"),u=o("rnet/fc2_2");return Object(i.a)(Object(i.a)({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:u})},extractONetParams:function(){var e=s("onet"),t=r("onet/conv4"),n=a("onet/prelu4_alpha"),u=o("onet/fc1"),c=a("onet/prelu5_alpha"),l=o("onet/fc2_1"),f=o("onet/fc2_2"),d=o("onet/fc2_3");return Object(i.a)(Object(i.a)({},e),{conv4:t,prelu4_alpha:n,fc1:u,prelu5_alpha:c,fc2_1:l,fc2_2:f,fc2_3:d})}}}(e,t),r=n.extractPNetParams,o=n.extractRNetParams,a=n.extractONetParams,s=r(),u=o(),c=a();return ve(e,t),{params:{pnet:s,rnet:u,onet:c},paramMappings:t}}function Ft(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var Bt=function(e){function t(t,n,r,o){return e.call(this,{left:t,top:n,right:r,bottom:o},!0)||this}return Object(i.c)(t,e),t}(y);function Ut(e){return r.L((function(){return r.t(r.F(e,r.y(127.5)),r.y(.0078125))}))}function Vt(e,t){return r.L((function(){return r.c(r.w(e),r.t(t,r.u(r.w(r.u(e)))))}))}function zt(e,t,n){return void 0===n&&(n=!1),r.L((function(){var o=pe(e,t.conv1,"valid");return o=Vt(o,t.prelu1_alpha),o=Vt(o=pe(o=r.s(o,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),o=Vt(o=pe(o=n?o:r.s(o,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)}))}function Wt(e,t,n,o,i){i.stage1=[];var a=t.map((function(t){return r.L((function(){var n={scale:t},i=function(e,t){return r.L((function(){var n=Ft(t,e.shape.slice(1)),o=n.height,i=n.width,a=Ut(r.o.resizeBilinear(e,[o,i]));return r.N(a,[0,2,1,3])}))}(e,t),a=Date.now(),s=function(e,t){return r.L((function(){var n=zt(e,t,!0),o=pe(n,t.conv4_1,"valid"),i=r.m(r.r(o,3),3);return{prob:r.D(r.F(o,i),3),regions:pe(n,t.conv4_2,"valid")}}))}(i,o),u=s.prob,c=s.regions;return n.pnet=Date.now()-a,{scoresTensor:r.O(r.O(u,3)[1])[0],regionsTensor:r.O(c)[0],scale:t,statsForScale:n}}))})),s=a.map((function(e){var t=e.scoresTensor,r=e.regionsTensor,o=e.scale,a=e.statsForScale,s=function(e,t,n,r){for(var o=[],i=e.arraySync(),a=0;a<e.shape[0];a++)for(var s=0;s<e.shape[1];s++)i[a][s]>=r&&o.push(new g(s,a));return o.map((function(e){var r=new b(Math.round((e.y*Dt+1)/n),Math.round((e.x*Dt+1)/n),Math.round((e.y*Dt+Mt)/n),Math.round((e.x*Dt+Mt)/n)),o=i[e.y][e.x],a=t.arraySync();return{cell:r,score:o,region:new Bt(a[e.y][e.x][0],a[e.y][e.x][1],a[e.y][e.x][2],a[e.y][e.x][3])}}))}(t,r,o,n);if(t.dispose(),r.dispose(),!s.length)return i.stage1.push(a),[];var u=Date.now(),c=E(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.5);return a.nms=Date.now()-u,a.numBoxes=c.length,i.stage1.push(a),c.map((function(e){return s[e]}))})),u=s.reduce((function(e,t){return e.concat(t)}),[]),c=[],l=[];if(u.length>0){var f=Date.now(),d=E(u.map((function(e){return e.cell})),u.map((function(e){return e.score})),.7);i.stage1_nms=Date.now()-f,l=d.map((function(e){return u[e].score})),c=d.map((function(e){return u[e]})).map((function(e){var t=e.cell,n=e.region;return new b(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()}))}return{boxes:c,scores:l}}function qt(e,t,n){var o=n.width,a=n.height;return Object(i.b)(this,void 0,void 0,(function(){var n,s,u,c=this;return Object(i.d)(this,(function(l){switch(l.label){case 0:return n=G(e),[4,Promise.all(t.map((function(t){return Object(i.b)(c,void 0,void 0,(function(){var r,o,a,s,u,c,l,f;return Object(i.d)(this,(function(i){return r=t.padAtBorders(e.height,e.width),o=r.y,a=r.ey,s=r.x,u=r.ex,c=s-1,l=o-1,f=n.getImageData(c,l,u-c,a-l),[2,q.isNodejs()?Z(f):createImageBitmap(f)]}))}))})))];case 1:return s=l.sent(),u=[],s.forEach((function(e){var t=G(J({width:o,height:a}));t.drawImage(e,0,0,o,a);for(var n=t.getImageData(0,0,o,a).data,r=[],i=0;i<n.length;i+=4)r.push(n[i+2]),r.push(n[i+1]),r.push(n[i]);u.push(r)})),[2,u.map((function(e){return r.L((function(){return Ut(r.N(r.K(e,[1,o,a,3]),[0,2,1,3]).toFloat())}))}))]}}))}))}function Ht(e,t,n,o,a){return Object(i.b)(this,void 0,void 0,(function(){var s,u,c,l,f,d,h,p,v,m,g,y,b,w;return Object(i.d)(this,(function(i){switch(i.label){case 0:return s=Date.now(),[4,qt(e,t,{width:24,height:24})];case 1:return u=i.sent(),a.stage2_extractImagePatches=Date.now()-s,s=Date.now(),c=u.map((function(e){var t=function(e,t){return r.L((function(){var n=zt(e,t),o=Vt(Te(r.x(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),i=Te(o,t.fc2_1),a=r.m(r.r(i,1),1),s=r.D(r.F(i,a),1),u=Te(o,t.fc2_2);return{scores:r.O(s,1)[1],regions:u}}))}(e,o);return e.dispose(),t})),a.stage2_rnet=Date.now()-s,l=c.length>1?r.h(c.map((function(e){return e.scores}))):c[0].scores,h=(d=Array).from,[4,l.data()];case 2:return f=h.apply(d,[i.sent()]),l.dispose(),p=f.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),v=p.map((function(e){return t[e]})),m=p.map((function(e){return f[e]})),g=[],y=[],v.length>0&&(s=Date.now(),b=E(v,m,.7),a.stage2_nms=Date.now()-s,w=b.map((function(e){var t=c[p[e]].regions.arraySync();return new Bt(t[0][0],t[0][1],t[0][2],t[0][3])})),y=b.map((function(e){return m[e]})),g=b.map((function(e,t){return v[e].calibrate(w[t])}))),c.forEach((function(e){e.regions.dispose(),e.scores.dispose()})),[2,{boxes:g,scores:y}]}}))}))}function Gt(e,t,n,o,a){return Object(i.b)(this,void 0,void 0,(function(){var s,u,c,l,f,d,h,p,v,m,y,b,w,_,x;return Object(i.d)(this,(function(i){switch(i.label){case 0:return s=Date.now(),[4,qt(e,t,{width:48,height:48})];case 1:return u=i.sent(),a.stage3_extractImagePatches=Date.now()-s,s=Date.now(),c=u.map((function(e){var t=function(e,t){return r.L((function(){var n=zt(e,t);n=Vt(n=pe(n=r.s(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var o=Vt(Te(r.x(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),i=Te(o,t.fc2_1),a=r.m(r.r(i,1),1),s=r.D(r.F(i,a),1),u=Te(o,t.fc2_2),c=Te(o,t.fc2_3);return{scores:r.O(s,1)[1],regions:u,points:c}}))}(e,o);return e.dispose(),t})),a.stage3_onet=Date.now()-s,l=c.length>1?r.h(c.map((function(e){return e.scores}))):c[0].scores,h=(d=Array).from,[4,l.data()];case 2:return f=h.apply(d,[i.sent()]),l.dispose(),p=f.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),v=p.map((function(e){var t=c[e].regions.arraySync();return new Bt(t[0][0],t[0][1],t[0][2],t[0][3])})),m=p.map((function(e,n){return t[e].calibrate(v[n])})),y=p.map((function(e){return f[e]})),b=[],w=[],_=[],m.length>0&&(s=Date.now(),x=E(m,y,.7,!1),a.stage3_nms=Date.now()-s,b=x.map((function(e){return m[e]})),w=x.map((function(e){return y[e]})),_=x.map((function(e,t){return Array(5).fill(0).map((function(n,r){var o=c[e].points.arraySync();return new g(o[0][r]*(b[t].width+1)+b[t].left,o[0][r+5]*(b[t].height+1)+b[t].top)}))}))),c.forEach((function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()})),[2,{boxes:b,scores:w,points:_}]}}))}))}var Kt=function(e){function t(){return e.call(this,"Mtcnn")||this}return Object(i.c)(t,e),t.prototype.load=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]}))}))},t.prototype.loadFromDisk=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]}))}))},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),Object(i.b)(this,void 0,void 0,(function(){var n,o,a,s,u,c,l,f,d,h,p,v,m,y,b,w,x,E,C,k,T;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(o=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return a={},s=Date.now(),u=r.L((function(){return e=r.m(r.f.fromPixels(o)).toFloat(),r.L((function(){return r.E(r.O(e,3).reverse(),3)}));var e})),c=function(e){return u.dispose(),a.total=Date.now()-s,e},l=u.shape.slice(1),f=l[0],d=l[1],h=new at(t),p=h.minFaceSize,v=h.scaleFactor,m=h.maxNumScales,y=h.scoreThresholds,b=h.scaleSteps,w=(b||function(e,t,n){for(var r=n[0],o=n[1],i=Mt/e,a=[],s=Math.min(r,o)*i,u=0;s>=12;)a.push(i*Math.pow(t,u)),s*=t,u+=1;return a}(p,v,[f,d])).filter((function(e){var t=Ft(e,[f,d]);return Math.min(t.width,t.height)>Mt})).slice(0,m),a.scales=w,a.pyramid=w.map((function(e){return Ft(e,[f,d])})),x=Date.now(),[4,Wt(u,w,y[0],n.pnet,a)];case 1:return E=i.sent(),a.total_stage1=Date.now()-x,E.boxes.length?(a.stage2_numInputBoxes=E.boxes.length,x=Date.now(),[4,Ht(o,E.boxes,y[1],n.rnet,a)]):[2,c({results:[],stats:a})];case 2:return C=i.sent(),a.total_stage2=Date.now()-x,C.boxes.length?(a.stage3_numInputBoxes=C.boxes.length,x=Date.now(),[4,Gt(o,C.boxes,y[2],n.onet,a)]):[2,c({results:[],stats:a})];case 3:return k=i.sent(),a.total_stage3=Date.now()-x,T=k.boxes.map((function(e,t){return Me(D({},new _(k.scores[t],new S(e.left/d,e.top/f,e.width/d,e.height/f),{height:f,width:d})),new O(k.points[t].map((function(t){return t.sub(new g(e.left,e.top)).div(new g(e.width,e.height))})),{width:e.width,height:e.height}))})),[2,c({results:T,stats:a})]}}))}))},t.prototype.forward=function(e,t){return void 0===t&&(t={}),Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,re(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}}))}))},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,re(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}}))}))},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Lt(e)},t.prototype.extractParams=function(e){return jt(e)},t}(le),Yt=[new g(1.603231,2.094468),new g(6.041143,7.080126),new g(2.882459,3.518061),new g(4.266906,5.178857),new g(9.041765,10.66308)],$t=[117.001,114.697,97.404],Xt=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:Yt,meanRgb:$t,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return Object(i.c)(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new _(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(Ot),Qt={ssdMobilenetv1:new mt,tinyFaceDetector:new Xt,tinyYolov2:new It,mtcnn:new Kt,faceLandmark68Net:new He,faceLandmark68TinyNet:new Ke,faceRecognitionNet:new nt,faceExpressionNet:new Ae,ageGenderNet:new We},Jt=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Object(i.c)(t,e),t}(Rt),Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n=this;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,At(e=r.sent(),this.input,(function(e){return Object(i.b)(n,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return Qt.faceExpressionNet.predictExpressions(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){return Pe(e,t[n])}))]}}))}))},t.prototype.withAgeAndGender=function(){return new on(this,this.input)},t}(Jt),en=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Pt(e,this.input,(function(e){return Qt.faceExpressionNet.predictExpressions(e)}),this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,Pe(e,t)]}}))}))},t.prototype.withAgeAndGender=function(){return new an(this,this.input)},t}(Jt),tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.withAgeAndGender=function(){return new sn(this,this.input)},t.prototype.withFaceDescriptors=function(){return new ln(this,this.input)},t}(Zt),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.withAgeAndGender=function(){return new un(this,this.input)},t.prototype.withFaceDescriptor=function(){return new fn(this,this.input)},t}(en),rn=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Object(i.c)(t,e),t}(Rt),on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n=this;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,At(e=r.sent(),this.input,(function(e){return Object(i.b)(n,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return Qt.ageGenderNet.predictAgeAndGender(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){var r=t[n],o=r.age;return ot(it(e,r.gender,r.genderProbability),o)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Zt(this,this.input)},t}(rn),an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n,r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?[4,Pt(e,this.input,(function(e){return Qt.ageGenderNet.predictAgeAndGender(e)}),this.extractedFaces)]:[2];case 2:return t=i.sent(),n=t.age,r=t.gender,o=t.genderProbability,[2,ot(it(e,r,o),n)]}}))}))},t.prototype.withFaceExpressions=function(){return new en(this,this.input)},t}(rn),sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.withFaceExpressions=function(){return new tn(this,this.input)},t.prototype.withFaceDescriptors=function(){return new ln(this,this.input)},t}(on),un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.withFaceExpressions=function(){return new nn(this,this.input)},t.prototype.withFaceDescriptor=function(){return new fn(this,this.input)},t}(an),cn=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return Object(i.c)(t,e),t}(Rt),ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,At(e=t.sent(),this.input,(function(e){return Promise.all(e.map((function(e){return Qt.faceRecognitionNet.computeFaceDescriptor(e)})))}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))];case 2:return[2,t.sent().map((function(t,n){return rt(e[n],t)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new tn(this,this.input)},t.prototype.withAgeAndGender=function(){return new sn(this,this.input)},t}(cn),fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Pt(e,this.input,(function(e){return Qt.faceRecognitionNet.computeFaceDescriptor(e)}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))]:[2];case 2:return t=n.sent(),[2,rt(e,t)]}}))}))},t.prototype.withFaceExpressions=function(){return new nn(this,this.input)},t.prototype.withAgeAndGender=function(){return new un(this,this.input)},t}(cn),dn=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.useTinyLandmarkNet=r,o}return Object(i.c)(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Qt.faceLandmark68TinyNet:Qt.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(Rt),hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n,o,a,s=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return e=i.sent(),t=e.map((function(e){return e.detection})),this.input instanceof r.a?[4,ie(this.input,t)]:[3,3];case 2:return o=i.sent(),[3,5];case 3:return[4,oe(this.input,t)];case 4:o=i.sent(),i.label=5;case 5:return n=o,[4,Promise.all(n.map((function(e){return s.landmarkNet.detectLandmarks(e)})))];case 6:return a=i.sent(),n.forEach((function(e){return e instanceof r.a&&e.dispose()})),[2,e.map((function(e,t){return Me(e,a[t])}))]}}))}))},t.prototype.withFaceExpressions=function(){return new tn(this,this.input)},t.prototype.withAgeAndGender=function(){return new sn(this,this.input)},t.prototype.withFaceDescriptors=function(){return new ln(this,this.input)},t}(dn),pn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?(t=e.detection,this.input instanceof r.a?[4,ie(this.input,[t])]:[3,3]):[2];case 2:return o=i.sent(),[3,5];case 3:return[4,oe(this.input,[t])];case 4:o=i.sent(),i.label=5;case 5:return n=o,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return a=i.sent(),n.forEach((function(e){return e instanceof r.a&&e.dispose()})),[2,Me(e,a)]}}))}))},t.prototype.withFaceExpressions=function(){return new nn(this,this.input)},t.prototype.withAgeAndGender=function(){return new un(this,this.input)},t.prototype.withFaceDescriptor=function(){return new fn(this,this.input)},t}(dn),vn=function(e){function t(t,n){void 0===n&&(n=new vt);var r=e.call(this)||this;return r.input=t,r.options=n,r}return Object(i.c)(t,e),t}(Rt),mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n,r;return Object(i.d)(this,(function(o){switch(o.label){case 0:return t=(e=this).input,(n=e.options)instanceof at?[4,Qt.mtcnn.forward(t,n)]:[3,2];case 1:return[2,o.sent().map((function(e){return e.detection}))];case 2:if(r=n instanceof Nt?function(e){return Qt.tinyFaceDetector.locateFaces(e,n)}:n instanceof vt?function(e){return Qt.ssdMobilenetv1.locateFaces(e,n)}:n instanceof Tt?function(e){return Qt.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}}))}))},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise((function(t){return Object(i.b)(e,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map((function(e){return D({},e)})))]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new hn(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new Zt(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new on(this.runAndExtendWithFaceDetections(),this.input)},t}(vn),gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.run=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,new mn(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach((function(e){e.score>t.score&&(t=e)})),[2,t]}}))}))},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise((function(t){return Object(i.b)(e,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?D({},e):void 0)]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new pn(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new en(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new an(this.runAndExtendWithFaceDetection(),this.input)},t}(vn);function yn(e,t){return void 0===t&&(t=new vt),new gn(e,t)}function bn(e,t){return void 0===t&&(t=new vt),new mn(e,t)}var wn=function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,o=function(){return"person "+r++};this._labeledDescriptors=n.map((function(e){if(e instanceof A)return e;if(e instanceof Float32Array)return new A(o(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new A(o(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")}))}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map((function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map((function(e,t){return e-r[t]})).reduce((function(e,t){return e+Math.pow(t,2)}),0))}(t,e)})).reduce((function(e,t){return e+t}),0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map((function(n){var r=n.descriptors,o=n.label;return new N(o,t.computeMeanDistance(e,r))})).reduce((function(e,t){return e.distance<t.distance?e:t}))},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new N("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map((function(e){return e.toJSON()}))}},e.fromJSON=function(t){return new e(t.labeledDescriptors.map((function(e){return A.fromJSON(e)})),t.distanceThreshold)},e}();function _n(e,t){var n=new a(t.width,t.height),r=n.width,o=n.height;if(r<=0||o<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:o}));if(Array.isArray(e))return e.map((function(e){return _n(e,{width:r,height:o})}));if(De(e)){var i=e.detection.forSize(r,o),s=e.unshiftedLandmarks.forSize(i.box.width,i.box.height);return Me(D(e,i),s)}return P(e)?D(e,e.detection.forSize(r,o)):e instanceof T||e instanceof _?e.forSize(r,o):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p}));var r=n(8);function o(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),u=t&&o(t),c=s||u;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,d=a.length;d>=0;d--){var h=a[d];"."===h?i(a,d):".."===h?(i(a,d),f++):f&&(i(a,d),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&o(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),o=s(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(43);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function v(e,t,n,o){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=Object(r.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",_="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,f=void 0===u?b:u,m=i.keyLength,E=void 0===m?6:m,C=e.basename?h(l(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return C&&(i=d(i,C)),v(i,r,n)}function S(){return Math.random().toString(36).substr(2,E)}var T=g();function O(e){Object(r.a)(U,e),U.length=t.length,T.notifyListeners(U.location,U.action)}function I(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||A(k(e.state))}function N(){A(k(x()))}var R=!1;function A(e){if(R)R=!1,O();else{T.confirmTransitionTo(e,"POP",f,(function(t){t?O({action:"POP",location:e}):function(e){var t=U.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(R=!0,j(o))}(e)}))}}var P=k(x()),D=[P.key];function M(e){return C+p(e)}function j(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?(window.addEventListener(w,I),o&&window.addEventListener(_,N)):0===L&&(window.removeEventListener(w,I),o&&window.removeEventListener(_,N))}var B=!1;var U={length:t.length,action:"POP",location:P,createHref:M,push:function(e,r){var o="PUSH",i=v(e,r,S(),U.location);T.confirmTransitionTo(i,o,f,(function(e){if(e){var r=M(i),a=i.key,u=i.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(U.location.key),l=D.slice(0,c+1);l.push(i.key),D=l,O({action:o,location:i})}else window.location.href=r}}))},replace:function(e,r){var o="REPLACE",i=v(e,r,S(),U.location);T.confirmTransitionTo(i,o,f,(function(e){if(e){var r=M(i),a=i.key,u=i.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(U.location.key);-1!==c&&(D[c]=i.key),O({action:o,location:i})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=T.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var C="hashchange",k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(S(window.location.href)+"#"+e)}function I(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,i=void 0===o?b:o,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?h(l(e.basename)):"",f=k[s],m=f.encodePath,w=f.decodePath;function _(){var e=w(T());return u&&(e=d(e,u)),v(e)}var x=g();function E(e){Object(r.a)(U,e),U.length=t.length,x.notifyListeners(U.location,U.action)}var I=!1,N=null;function R(){var e,t,n=T(),r=m(n);if(n!==r)O(r);else{var o=_(),a=U.location;if(!I&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(N===p(o))return;N=null,function(e){if(I)I=!1,E();else{var t="POP";x.confirmTransitionTo(e,t,i,(function(n){n?E({action:t,location:e}):function(e){var t=U.location,n=M.lastIndexOf(p(t));-1===n&&(n=0);var r=M.lastIndexOf(p(e));-1===r&&(r=0);var o=n-r;o&&(I=!0,j(o))}(e)}))}}(o)}}var A=T(),P=m(A);A!==P&&O(P);var D=_(),M=[p(D)];function j(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?window.addEventListener(C,R):0===L&&window.removeEventListener(C,R)}var B=!1;var U={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+m(u+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,U.location);x.confirmTransitionTo(r,n,i,(function(e){if(e){var t=p(r),o=m(u+t);if(T()!==o){N=t,function(e){window.location.hash=e}(o);var i=M.lastIndexOf(p(U.location)),a=M.slice(0,i+1);a.push(t),M=a,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,U.location);x.confirmTransitionTo(r,n,i,(function(e){if(e){var t=p(r),o=m(u+t);T()!==o&&(N=t,O(o));var i=M.indexOf(p(U.location));-1!==i&&(M[i]=t),E({action:n,location:r})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=x.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function N(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=g();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function d(){return Math.random().toString(36).substr(2,c)}var h=N(s,0,i.length-1),m=i.map((function(e){return v(e,void 0,"string"===typeof e?d():e.key||d())})),y=p;function b(e){var t=N(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:m.length,action:"POP",location:m[h],index:h,entries:m,createHref:y,push:function(e,t){var r="PUSH",o=v(e,t,d(),w.location);l.confirmTransitionTo(o,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),f({action:r,location:o,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",o=v(e,t,d(),w.location);l.confirmTransitionTo(o,r,n,(function(e){e&&(w.entries[w.index]=o,f({action:r,location:o}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!0,o="Invariant failed";function i(e,t){if(!e){if(r)throw new Error(o);var n="function"===typeof t?t():t,i=n?"".concat(o,": ").concat(n):o;throw new Error(i)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(83);function o(e,t,n){return(t=Object(r.a)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function i(e){var t=r.useRef(e);return o((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(1),o=n.n(r).a.createContext(null),i=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(44);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(205),o=(n(1),n(80));function i(){return Object(r.a)()||o.a}},function(e,t,n){"use strict";(function(e){var r=n(9),o=n(21),i=n(79);function a(e){return r.a.isPlainObject(e)||r.a.isArray(e)}function s(e){return r.a.endsWith(e,"[]")?e.slice(0,-2):e}function u(e,t,n){return e?e.concat(t).map((function(e,t){return e=s(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var c=r.a.toFlatObject(r.a,{},null,(function(e){return/^is[A-Z]/.test(e)}));t.a=function(t,n,l){if(!r.a.isObject(t))throw new TypeError("target must be an object");n=n||new(i.a||FormData);var f=(l=r.a.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!r.a.isUndefined(t[e])}))).metaTokens,d=l.visitor||g,h=l.dots,p=l.indexes,v=(l.Blob||"undefined"!==typeof Blob&&Blob)&&r.a.isSpecCompliantForm(n);if(!r.a.isFunction(d))throw new TypeError("visitor must be a function");function m(t){if(null===t)return"";if(r.a.isDate(t))return t.toISOString();if(!v&&r.a.isBlob(t))throw new o.a("Blob is not supported. Use a Buffer instead.");return r.a.isArrayBuffer(t)||r.a.isTypedArray(t)?v&&"function"===typeof Blob?new Blob([t]):e.from(t):t}function g(e,t,o){var i=e;if(e&&!o&&"object"===typeof e)if(r.a.endsWith(t,"{}"))t=f?t:t.slice(0,-2),e=JSON.stringify(e);else if(r.a.isArray(e)&&function(e){return r.a.isArray(e)&&!e.some(a)}(e)||(r.a.isFileList(e)||r.a.endsWith(t,"[]"))&&(i=r.a.toArray(e)))return t=s(t),i.forEach((function(e,o){!r.a.isUndefined(e)&&null!==e&&n.append(!0===p?u([t],o,h):null===p?t:t+"[]",m(e))})),!1;return!!a(e)||(n.append(u(o,t,h),m(e)),!1)}var y=[],b=Object.assign(c,{defaultVisitor:g,convertValue:m,isVisitable:a});if(!r.a.isObject(t))throw new TypeError("data must be an object");return function e(t,o){if(!r.a.isUndefined(t)){if(-1!==y.indexOf(t))throw Error("Circular reference detected in "+o.join("."));y.push(t),r.a.forEach(t,(function(t,i){!0===(!(r.a.isUndefined(t)||null===t)&&d.call(n,t,r.a.isString(i)?i.trim():i,o,b))&&e(t,o?o.concat(i):[i])})),y.pop()}}(t),n}}).call(this,n(107).Buffer)},function(e,t,n){"use strict";var r=n(1),o=n.n(r).a.createContext(null);o.displayName="NavbarContext",t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(68);var o=n(122),i=n(73);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(o.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var o,i=new Promise((function(i,a){n(o=e[t].apply(e,r)).then(i,a)}));return i.request=o,i}function o(e,t,n){var o=r(e,t,n);return o.then((function(e){if(e)return new l(e,o.request)}))}function i(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,o){o.forEach((function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}function v(e,t,n){var o=r(indexedDB,"open",[e,t]),i=o.request;return i&&(i.onupgradeneeded=function(e){n&&n(new h(i.result,e.oldVersion,i.transaction))}),o.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}i(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},i(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},i(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},i(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},i(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],o=this._store||this._index,i=o[e].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(o){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae})),n.d(t,"b",(function(){return Ft})),n.d(t,"c",(function(){return rt})),n.d(t,"d",(function(){return at})),n.d(t,"e",(function(){return Vt})),n.d(t,"f",(function(){return Wt})),n.d(t,"g",(function(){return qt})),n.d(t,"h",(function(){return an})),n.d(t,"i",(function(){return sn})),n.d(t,"j",(function(){return ln})),n.d(t,"k",(function(){return on}));var r=n(2),o=n.n(r),i=n(10),a=n.n(i),s=n(0),u=n.n(s),c=n(11),l=n(29),f=n(96),d=n.n(f),h=!1,p=o.a.createContext(null),v="unmounted",m="exited",g="entering",y="entered",b="exiting",w=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=m,r.appearStatus=g):o=y:o=t.unmountOnExit||t.mountOnEnter?v:m,r.state={status:o},r.nextCallback=null,r}Object(l.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===v?{status:m}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==g&&n!==y&&(t=g):n!==g&&n!==y||(t=b)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=d.a.findDOMNode(this);t===g?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===m&&this.setState({status:v})},n.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context?this.context.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;!t&&!r||h?this.safeSetState({status:y},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,o),this.safeSetState({status:g},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:y},(function(){n.props.onEntered(e,o)}))}))})))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!h?(this.props.onExit(e),this.safeSetState({status:b},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:m},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:m},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===v)return null;var t=this.props,n=t.children,r=Object(c.a)(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return o.a.createElement(p.Provider,{value:null},n(e,r));var i=o.a.Children.only(n);return o.a.createElement(p.Provider,{value:null},o.a.cloneElement(i,r))},t}(o.a.Component);function _(){}w.contextType=p,w.propTypes={},w.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},w.UNMOUNTED=0,w.EXITED=1,w.ENTERING=2,w.ENTERED=3,w.EXITING=4;var x=w,E=(n(170),n(60)),C=n.n(E),k=n(19),S=n.n(k),T=n(32),O=n.n(T),I=n(1),N=n(102),R=n.n(N),A=R()(),P=R()(),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,O()(S()(S()(t)),"referenceNode",void 0),O()(S()(S()(t)),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}C()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return I.createElement(A.Provider,{value:this.referenceNode},I.createElement(P.Provider,{value:this.setReferenceNode},this.props.children))},t}(I.Component),M=n(125),j=n.n(M),L=n(58),F=n.n(L),B=n(126),U=n.n(B),V=n(103),z=function(e){return Array.isArray(e)?e[0]:e},W=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},q=function(e,t){if("function"===typeof e)return W(e,t);null!=e&&(e.current=t)},H={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},G={},K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,O()(S()(S()(t)),"state",{data:void 0,placement:void 0}),O()(S()(S()(t)),"popperInstance",void 0),O()(S()(S()(t)),"popperNode",null),O()(S()(S()(t)),"arrowNode",null),O()(S()(S()(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&(q(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),O()(S()(S()(t)),"setArrowNode",(function(e){t.arrowNode=e})),O()(S()(S()(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),O()(S()(S()(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:F()({},t.props.modifiers,{arrow:F()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),O()(S()(S()(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?F()({position:t.state.data.offsets.popper.position},t.state.data.styles):H})),O()(S()(S()(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),O()(S()(S()(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:G})),O()(S()(S()(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),O()(S()(S()(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),O()(S()(S()(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=S()(S()(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new V.a(n,e,t.getOptions()))})),O()(S()(S()(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}C()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&U()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){q(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return z(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(I.Component);O()(K,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});V.a.placements;function Y(e){var t=e.referenceElement,n=j()(e,["referenceElement"]);return I.createElement(A.Consumer,null,(function(e){return I.createElement(K,F()({referenceElement:void 0!==t?t:e},n))}))}var $=n(59),X=n.n($),Q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,O()(S()(S()(t)),"refHandler",(function(e){q(t.props.innerRef,e),W(t.props.setReferenceNode,e)})),t}C()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){q(this.props.innerRef,null)},n.render=function(){return X()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),z(this.props.children)({ref:this.refHandler})},t}(I.Component);function J(e){return I.createElement(P.Consumer,null,(function(t){return I.createElement(Q,F()({setReferenceNode:t},e))}))}n(123);var Z=n(34),ee=n(124),te=n.n(ee),ne=n(127);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ve(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?me(e):t}(this,n)}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||we(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=function(e){var t=ye(Object(r.useState)(!0),2),n=t[0],i=t[1],s=e.className,u=e.tag,c=e.color,l=e.children,f=e.dismiss,d=a()("alert",c&&"alert-".concat(c),s);return f?o.a.createElement(x,{in:n,timeout:150,unmountOnExit:!0,onExit:function(t){return function(t){return t.classList.add("fade"),e.onClose&&e.onClose()}(t)},onExited:function(t){return e.onClosed&&e.onClosed()}},o.a.createElement(u,{"data-test":"alert",className:d,role:"alert"},l,o.a.createElement("button",{onClick:function(){i(!1)},type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):o.a.createElement(u,{"data-test":"alert",className:d,role:"alert"},l)};xe.defaultProps={color:"primary",tag:"div"},xe.propTypes={className:u.a.string,color:u.a.oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),onClose:u.a.func,onClosed:u.a.func,tag:u.a.string};var Ee=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{isVisible:!1,revealed:!1,countIterations:0}),se(me(e),"elemRef",o.a.createRef()),se(me(e),"updatePredicate",(function(){var t=window.innerHeight,n=window.scrollY,r=document.documentElement.offsetHeight,o=e.state.revealed,i=e.elemRef.current;t+n-100>e.getOffset(i)&&n<e.getOffset(i)||t+n-100>e.getOffset(i)+i.clientHeight&&n<e.getOffset(i)+i.clientHeight||t+n===r&&e.getOffset(i)+100>r?e.setState({isVisible:!0,revealed:!0}):o||e.setState({isVisible:!1,revealed:!0})})),se(me(e),"handleStart",(function(){var t=e.props.onAnimationStart,n=e.state.countIterations;e.setState({countIterations:n+1}),t&&t()})),se(me(e),"handleIteration",(function(){var t=e.props.onAnimationIteration,n=e.state.countIterations;t&&(e.setState({countIterations:n+1}),t())})),se(me(e),"handleEnd",(function(){var t=e.props,n=t.onAnimationEnd,r=t.count,o=e.state.countIterations;e.setState({countIterations:o+1}),n&&r===o&&n()})),se(me(e),"getOffset",(function(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=r.clientTop||n.clientTop||0,a=t.top+o-i;return Math.round(a)})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this.props.reveal;this.setState({isVisible:!e,revealed:!e}),e&&(window.addEventListener("scroll",this.updatePredicate),this.updatePredicate())}},{key:"componentWillUnmount",value:function(){this.props.reveal&&window.removeEventListener("scroll",this.updatePredicate)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.count,i=e.delay,s=e.duration,u=e.infinite,c=(e.reveal,e.style),l=e.tag,f=e.type,d=ve(e,["children","className","count","delay","duration","infinite","reveal","style","tag","type"]),h=this.state,p=h.isVisible,v=h.revealed,m={animationDuration:s,animationDelay:i,animationIterationCount:!u&&r,visibility:p?"visible":"hidden",animationName:f},g=Object.assign(m,c),y=a()(p&&"animated",f&&f,u&&"infinite",n);return o.a.createElement(l,ue({"data-test":"animation",className:y,onAnimationEnd:this.handleEnd,onAnimationIteration:this.handleIteration,onAnimationStart:this.handleStart,ref:this.elemRef,style:p&&v?g:{animationName:"none",visibility:"hidden"}},d),t)}}]),n}();Ee.propTypes={children:u.a.oneOfType([u.a.arrayOf(u.a.node),u.a.node]),className:u.a.string,count:u.a.number,delay:u.a.string,duration:u.a.oneOfType([u.a.string,u.a.number]),infinite:u.a.bool,onAnimationEnd:u.a.func,onAnimationIteration:u.a.func,onAnimationStart:u.a.func,reveal:u.a.bool,style:u.a.node,tag:u.a.oneOfType([u.a.func,u.a.string]),type:u.a.string},Ee.defaultProps={tag:"div",reveal:!1,duration:1,count:1};var Ce=function(e){var t=e.tag,n=e.className,r=e.children,i=e.color,s=e.pill,u=ve(e,["tag","className","children","color","pill"]),c=a()("badge",i,"badge-".concat(i),!!s&&"badge-pill",n);return o.a.createElement(t,ue({"data-test":"badge"},u,{className:c}),r)};Ce.propTypes={children:u.a.node,className:u.a.string,color:u.a.string,pill:u.a.bool,tag:u.a.string},Ce.defaultProps={tag:"span",color:"default",pill:!1};var ke=function(e){var t=e.tag,n=e.className,r=e.children,i=e.display,s=e.justifyContent,u=e.flex,c=e.alignItems,l=e.alignContent,f=e.alignSelf,d=e.color,h=e.bgColor,p=e.m,v=e.mt,m=e.mr,g=e.mb,y=e.ml,b=e.mx,w=e.my,_=e.p,x=e.pt,E=e.pr,C=e.pb,k=e.pl,S=e.px,T=e.py,O=ve(e,["tag","className","children","display","justifyContent","flex","alignItems","alignContent","alignSelf","color","bgColor","m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py"]),I=function(e,t){if(void 0!==e)return"".concat(t,"-").concat(e)},N=a()(i&&"d-".concat(i),s&&"justify-content-".concat(s),u&&"flex-".concat(u),c&&"align-items-".concat(c),l&&"align-content-".concat(l),f&&"align-self-".concat(f),d&&"".concat(d,"-text"),h&&"bg-".concat(h),I(p,"m"),I(v,"mt"),I(m,"mr"),I(g,"mb"),I(y,"ml"),I(b,"mx"),I(w,"my"),I(_,"p"),I(x,"pt"),I(E,"pr"),I(C,"pb"),I(k,"pl"),I(S,"px"),I(T,"py"),n),R=""!==N?N:null;return o.a.createElement(t,ue({"data-test":"box"},O,{className:R}),r)};function Se(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}ke.propTypes={alignContent:u.a.string,alignItems:u.a.string,alignSelf:u.a.string,bgColor:u.a.string,children:u.a.node,className:u.a.string,color:u.a.string,display:u.a.string,flex:u.a.string,justifyContent:u.a.string,m:u.a.oneOfType([u.a.number,u.a.string]),mb:u.a.oneOfType([u.a.number,u.a.string]),ml:u.a.oneOfType([u.a.number,u.a.string]),mr:u.a.oneOfType([u.a.number,u.a.string]),mt:u.a.oneOfType([u.a.number,u.a.string]),mx:u.a.oneOfType([u.a.number,u.a.string]),my:u.a.oneOfType([u.a.number,u.a.string]),p:u.a.oneOfType([u.a.number,u.a.string]),pb:u.a.oneOfType([u.a.number,u.a.string]),pl:u.a.oneOfType([u.a.number,u.a.string]),pr:u.a.oneOfType([u.a.number,u.a.string]),pt:u.a.oneOfType([u.a.number,u.a.string]),px:u.a.oneOfType([u.a.number,u.a.string]),py:u.a.oneOfType([u.a.number,u.a.string]),tag:u.a.string},ke.defaultProps={tag:"div"};var Te=27,Oe=32,Ie=38,Ne=40,Re=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})};u.a.bool,u.a.node,u.a.string,u.a.string,u.a.bool,u.a.bool;var Ae=function(e){var t=e.border,n=e.brand,r=e.className,i=e.fab,s=e.duotone,u=e.fal,c=e.fad,l=e.far,f=e.solid,d=e.fixed,h=e.fas,p=e.flip,v=e.icon,m=e.inverse,g=e.light,y=e.list,b=e.pull,w=e.pulse,_=e.regular,x=e.rotate,E=e.size,C=e.spin,k=e.stack,S=ve(e,["border","brand","className","fab","duotone","fal","fad","far","solid","fixed","fas","flip","icon","inverse","light","list","pull","pulse","regular","rotate","size","spin","stack"]),T=a()(_||l?"far":f||h?"fas":g||u?"fal":s||c?"fad":n||i?"fab":"fa",!!y&&"fa-li",!!v&&"fa-".concat(v),!!E&&"fa-".concat(E),!!d&&"fa-fw",!!b&&"fa-pull-".concat(b),!!t&&"fa-border",!!C&&"fa-spin",!!w&&"fa-pulse",!!x&&"fa-rotate-".concat(x),!!p&&"fa-flip-".concat(p),!!m&&"fa-inverse",!!k&&"fa-".concat(k),r);return o.a.createElement("i",ue({"data-test":"fa"},S,{className:T}))};function Pe(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}Ae.propTypes={icon:u.a.string.isRequired,border:u.a.bool,brand:u.a.bool,className:u.a.string,fab:u.a.bool,fal:u.a.bool,far:u.a.bool,fixed:u.a.bool,flip:u.a.string,inverse:u.a.bool,light:u.a.bool,list:u.a.bool,pull:u.a.string,pulse:u.a.bool,regular:u.a.bool,rotate:u.a.string,size:u.a.string,spin:u.a.bool,stack:u.a.string},Ae.defaultProps={border:!1,brand:!1,className:"",fab:!1,fal:!1,far:!1,fixed:!1,flip:"",inverse:!1,light:!1,list:!1,pull:"",pulse:!1,regular:!1,rotate:"",size:"",spin:!1,stack:""},Pe(".bc-icons.breadcrumb-item::before,\n.bc-icons.breadcrumb-item::after {\n  content: none;\n}\n\n.bc-icons.breadcrumb-item + .active.breadcrumb-item::before,\n.bc-icons.breadcrumb-item + .active.breadcrumb-item::after{\n  content: none;\n}\n\n.bc-icons.breadcrumb-item.active {\n  color: #eeeeee;\n}\n");var De=function(e){var t=e.active,n=e.appendIcon,r=e.children,i=e.className,s=e.bold,u=e.icon,c=e.iconBrand,l=e.iconClassName,f=e.iconLight,d=e.iconRegular,h=e.iconSize,p=ve(e,["active","appendIcon","children","className","bold","icon","iconBrand","iconClassName","iconLight","iconRegular","iconSize"]),v=a()(!!t&&"active",u&&"bc-icons","breadcrumb-item",i),m=a()(n?"mx-2":"mr-2",l);return o.a.createElement("li",ue({"data-test":"breadcrumb-item"},p,{className:v}),o.a.createElement((function(e){var t=e.children;return s?o.a.createElement("strong",null,t):t}),null,o.a.createElement((function(){return u?o.a.createElement(o.a.Fragment,null,n&&r,o.a.createElement(Ae,{brand:c,className:m,icon:u,light:f,regular:d,size:h}),!n&&r):r}),null)))};De.propTypes={active:u.a.bool,appendIcon:u.a.bool,bold:u.a.bool,children:u.a.node,className:u.a.string,icon:u.a.string,iconBrand:u.a.bool,iconClassName:u.a.string,iconLight:u.a.bool,iconRegular:u.a.bool,iconSize:u.a.string},De.defaultProps={active:!1,appendIcon:!1,className:"",bold:!1,icon:"",iconBrand:!1,iconClassName:"",iconLight:!1,iconRegular:!1,iconSize:""},Pe(".btn-group-vertical>.btn,\n.btn-group-vertical>.btn+.btn-group,\n.btn-group-vertical>.btn-group+.btn,\n.btn-group-vertical>.btn-group+.btn-group {\n  margin-left: 0px;\n}\n\n.btn-group-lg>.btn {\n  font-size: 0.9rem;\n  padding: 1rem 2.4rem;\n}\n\n.btn-group-sm>.btn {\n  font-size: 0.6rem;\n  padding: 0.5rem 1.6rem;\n}\n\n.btn-floating.btn.btn-sm,\n.btn-floating.btn.btn-lg {\n  padding: 0;\n}\n");var Me=function(e){var t=e.className,n=e.size,r=e.vertical,i=e.children,s=ve(e,["className","size","vertical","children"]),u=a()(t,!!n&&"btn-group-".concat(n),r?"btn-group-vertical":"btn-group");return o.a.createElement("div",ue({"data-test":"button-group"},s,{className:u}),i)};Me.propTypes={"aria-label":u.a.string,children:u.a.node,className:u.a.string,role:u.a.string,size:u.a.string,vertical:u.a.bool},Me.defaultProps={role:"group"};var je=function(e){var t=e.className,n=e.children,r=ve(e,["className","children"]),i=a()(t,"btn-toolbar");return o.a.createElement("div",ue({"data-test":"button-toolbar"},r,{className:i}),n)};je.propTypes={"aria-label":u.a.string,children:u.a.node,className:u.a.string,role:u.a.string},je.defaultProps={role:"toolbar"};var Le=function(e){var t,n=e.className,r=e.tag,i=e.cascade,s=e.wide,u=e.narrow,c=e.reverse,l=e.testimonial,f=e.ecommerce,d=e.collection,h=e.pricing,p=e.personal,v=e.news,m=e.color,g=e.text,y=e.border,b=ve(e,["className","tag","cascade","wide","narrow","reverse","testimonial","ecommerce","collection","pricing","personal","news","color","text","border"]),w=a()((se(t={"card-cascade":i,"card-cascade wider":s,"card-cascade narrower":u,"card-cascade wider reverse":c,"testimonial-card":l,"card-ecommerce":f,"collection-card":d,"pricing-card":h,"card-personal":p,"news-card":v},"".concat(g,"-text"),g),se(t,"border-".concat(y),y),t),"card",m,n);return o.a.createElement(r,ue({"data-test":"card"},b,{className:w}))};Le.propTypes={border:u.a.string,cascade:u.a.bool,className:u.a.string,collection:u.a.bool,color:u.a.string,ecommerce:u.a.bool,narrow:u.a.bool,news:u.a.bool,personal:u.a.bool,pricing:u.a.bool,reverse:u.a.bool,tag:u.a.string,testimonial:u.a.bool,text:u.a.string,wide:u.a.bool},Le.defaultProps={tag:"div"};var Fe=function(e){var t=e.className,n=e.tag,r=e.cascade,i=ve(e,["className","tag","cascade"]),s=a()("card-body",r&&"card-body-cascade",t);return o.a.createElement(n,ue({"data-test":"card-body"},i,{className:s}))};Fe.propTypes={cascade:u.a.bool,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},Fe.defaultProps={tag:"div"};var Be=function(e){var t,n=e.className,r=e.tag,i=e.color,s=e.children,u=e.text,c=e.border,l=e.transparent,f=e.small,d=e.muted,h=ve(e,["className","tag","color","children","text","border","transparent","small","muted"]),p=a()((se(t={"white-text":i&&!u},"border-".concat(c),c),se(t,"bg-transparent",l),se(t,"text-muted",d),se(t,"".concat(u,"-text"),u),t),"card-footer",i,n);return o.a.createElement(r,ue({"data-test":"card-footer"},h,{className:p}),f?o.a.createElement("small",null," ",s," "):s)};Be.propTypes={border:u.a.string,className:u.a.string,color:u.a.string,muted:u.a.bool,small:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string]),text:u.a.string,transparent:u.a.bool},Be.defaultProps={tag:"div"};var Ue=function(e){var t=e.className,n=e.tag,r=e.deck,i=e.column,s=ve(e,["className","tag","deck","column"]),u=a()(r?"card-deck":i?"card-columns":"card-group",t);return o.a.createElement(n,ue({"data-test":"card-group"},s,{className:u}))};Ue.propTypes={className:u.a.string,column:u.a.bool,deck:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string])},Ue.defaultProps={tag:"div"};var Ve=function(e){var t,n=e.border,r=e.className,i=e.color,s=e.tag,u=e.text,c=e.transparent,l=ve(e,["border","className","color","tag","text","transparent"]),f=a()((se(t={"white-text":i&&!u},"border-".concat(n),n),se(t,"bg-transparent",c),se(t,"".concat(u,"-text"),u),t),"card-header",r,i);return o.a.createElement(s,ue({"data-test":"card-header"},l,{className:f}))};Ve.propTypes={border:u.a.string,className:u.a.string,color:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),text:u.a.string,transparent:u.a.bool},Ve.defaultProps={tag:"div"},Pe(".Ripple {\n  position: absolute;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  opacity: 1;\n  transform: scale(0);\n}\n\n.Ripple-outline {\n  background: rgba(0, 0, 0, 0.2);\n}\n\n.Ripple.is-reppling {\n  animation: ripple 0.5s linear;\n}\n\n.Ripple-parent {\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n}\n\n@keyframes ripple {\n  100% {\n    opacity: 0;\n    transform: scale(3);\n  }\n}\n");var ze=function(e){fe(n,o.a.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{animate:!1,width:0,height:0,top:0,left:0,cursorPos:e.props.cursorPos}),se(me(e),"wavesRef",o.a.createRef()),e}return ae(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.cursorPos;t.cursorPos.time!==r.time&&(t.animate?this.setState({animate:!1,cursorPos:r},(function(){n.replying()})):this.replying())}},{key:"replying",value:function(){var e=this.wavesRef.current.parentNode,t=e.getBoundingClientRect(),n=e.offsetWidth,r=e.offsetHeight,o=Math.max(r,n),i=o/2,a=this.state.cursorPos;this.setState({animate:!0,width:o,height:o,top:a.top-t.top-i,left:a.left-t.left-i})}},{key:"render",value:function(){var e=this.props,t=e.outline,n=e.flat,r=e.dark,i=this.state,a=i.animate,s=i.top,u=i.left,c=i.width,l=i.height;return o.a.createElement("div",{"data-test":"waves",className:"Ripple ".concat(t||n||r?"Ripple-outline ":"").concat(a?"is-reppling":""),style:{top:"".concat(s,"px"),left:"".concat(u,"px"),width:"".concat(c,"px"),height:"".concat(l,"px")},ref:this.wavesRef})}}]),n}();ze.propTypes={animate:u.a.bool,children:u.a.node,cursorPos:u.a.object,dark:u.a.bool,flat:u.a.bool,outline:u.a.bool};var We=function(e){var t=e.children,n=e.className,r=e.overlay,i=e.pattern,s=e.tag,u=ve(e,["children","className","overlay","pattern","tag"]),c=a()("mask",i&&"pattern-".concat(i),r&&"rgba-".concat(r),n);return o.a.createElement(s,ue({"data-test":"mask"},u,{className:c}),t)};We.propTypes={children:u.a.node,className:u.a.string,overlay:u.a.string,pattern:u.a.oneOfType([u.a.string,u.a.number]),tag:u.a.string},We.defaultProps={className:"",overlay:"",pattern:"",tag:"div"};var qe=function(e){var t=ye(Object(r.useState)({}),2),n=t[0],i=t[1],s=function(e){var t={top:e.clientY,left:e.clientX,time:Date.now()};i(t)},u=e.cascade,c=e.children,l=e.className,f=e.fixed,d=e.hover,h=e.rounded,p=e.src,v=e.tag,m=e.waves,g=e.zoom,y=ve(e,["cascade","children","className","fixed","hover","rounded","src","tag","waves","zoom"]),b=a()("view",u&&"view-cascade",l,d&&"overlay",h&&"rounded",!!m&&"Ripple-parent",g&&"zoom"),w=p?{backgroundAttachment:f?"fixed":null,backgroundImage:'url("'.concat(p,'")'),backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh"}:{};return o.a.createElement(v,ue({},y,{className:b,"data-test":"view",onMouseDown:s,onTouchStart:s,style:w}),c,m&&o.a.createElement(ze,{cursorPos:n}))};qe.defaultProps={cascade:!1,className:"",hover:!1,rounded:!1,src:"",tag:"div",waves:!1,zoom:!1},qe.propTypes={cascade:u.a.bool,children:u.a.node,className:u.a.string,fixed:u.a.bool,hover:u.a.bool,rounded:u.a.bool,src:u.a.string,tag:u.a.string,waves:u.a.bool,zoom:u.a.bool};var He=function(e){var t=ye(Object(r.useState)({}),2),n=t[0],i=t[1],s=e.cascade,u=e.className,c=e.hover,l=e.overlay,f=e.src,d=e.tag,h=e.top,p=e.waves,v=e.zoom,m=ve(e,["cascade","className","hover","overlay","src","tag","top","waves","zoom"]),g=a()(h&&"card-img-top",u),y=d,b=o.a.createElement(y,ue({"data-test":"card-image",src:f},m,{className:g}));return f?o.a.createElement(qe,{zoom:v,hover:c,cascade:s},o.a.createElement("div",{className:"Ripple-parent",onMouseDown:function(e){var t={top:e.clientY,left:e.clientX,time:Date.now()};i(t)},style:{touchAction:"unset"}},b,o.a.createElement(We,{overlay:l}),p&&o.a.createElement(ze,{cursorPos:n}))):o.a.createElement("div",null,b)};He.propTypes={cascade:u.a.bool,children:u.a.node,className:u.a.string,hover:u.a.bool,overlay:u.a.string,src:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),top:u.a.bool,waves:u.a.bool,zoom:u.a.bool},He.defaultProps={tag:"img",overlay:"white-slight",waves:!0,hover:!1,cascade:!1,zoom:!1};var Ge=function(e){var t=e.children,n=e.className,r=e.muted,i=e.small,s=e.tag,u=ve(e,["children","className","muted","small","tag"]),c=a()("card-text",r&&"text-muted",n),l=i?o.a.createElement("small",null,t):t;return o.a.createElement(s,ue({"data-test":"card-text"},u,{className:c}),l)};Ge.propTypes={className:u.a.string,muted:u.a.bool,small:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string])},Ge.defaultProps={tag:"p"};var Ke=function(e){var t=e.className,n=e.sub,r=e.tag,i=ve(e,["className","sub","tag"]),s=a()(n?"card-subtitle":"card-title",t);return o.a.createElement(r,ue({"data-test":"card-title"},i,{className:s}))};Ke.propTypes={className:u.a.string,sub:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string])},Ke.defaultProps={tag:"h4",sub:!1};u.a.string.isRequired,u.a.node,u.a.string;var Ye=o.a.createContext({activeItemId:null}),$e=function(e){var t,n=e.className,r=e.direction,i=e.iconLeft,s=e.iconRight,u=e.multiItem,c=e.onClick,l=e.tag,f=e.testimonial;"prev"===r?t="Previous":"next"===r&&(t="Next");var d=a()("carousel-control-".concat(r),n),h=a()("carousel-control-".concat(r,"-icon"));if(f){var p="prev"===r?"left":"right";d=a()("carousel-control-".concat(r),p,"carousel-control",n),h=a()("icon-".concat(r))}return u&&(d=a()("btn-floating")),o.a.createElement(Ye.Consumer,null,(function(e){return pe(e),o.a.createElement(l,{"data-test":"carousel-control",className:d,"data-slide":r,onClick:c},i?o.a.createElement(Ae,{icon:"chevron-left"}):s?o.a.createElement(Ae,{icon:"chevron-right"}):o.a.createElement("div",null,o.a.createElement("span",{className:h,"aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},t)))}))};$e.propTypes={className:u.a.string,direction:u.a.string,iconLeft:u.a.bool,iconRight:u.a.bool,multiItem:u.a.bool,onClick:u.a.any,tag:u.a.oneOfType([u.a.func,u.a.string]),testimonial:u.a.bool},$e.defaultProps={tag:"a"};var Xe=function(e){var t=e.active,n=e.alt,r=e.children,i=e.className,s=e.img,u=ve(e,["active","alt","children","className","img"]),c=a()(t&&"active",i);return o.a.createElement(Ye.Consumer,null,(function(e){return pe(e),o.a.createElement("li",ue({"data-test":"carousel-indicator"},u,{className:c}),s&&o.a.createElement("img",{src:s,alt:n,className:"img-fluid"}),r)}))};Xe.propTypes={active:u.a.bool.isRequired,alt:u.a.string,children:u.a.node,className:u.a.string,img:u.a.string},Xe.defaultProps={alt:"Carousel thumbnail",className:"",img:""};var Qe=function(e){var t=e.children,n=e.className,r=ve(e,["children","className"]),i=a()("carousel-indicators",n);return o.a.createElement(Ye.Consumer,null,(function(e){return pe(e),o.a.createElement("ol",ue({"data-test":"carousel-indicators"},r,{className:i}),t)}))};Qe.propTypes={children:u.a.node,className:u.a.string},Qe.defaultProps={className:""},Pe(".carousel-inner {\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.carousel-fade .carousel-item {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: block !important;\n  opacity: 0;\n  z-index: 0;\n  transition: transform 0ms ease-in-out, opacity 0.8s ease-out;\n}\n\n.carousel-fade .carousel-item.active {\n  position: relative;\n  z-index: 1;\n  opacity: 1;\n}\n\n.carousel-multi-item .carousel-item {\n  display: inline-block !important;\n}\n\n.carousel .carousel-slide-item {\n  transition: left 0.5s;\n}\n\n.carousel-control-prev, .carousel-control-next, .carousel-item-prev, .carousel-item-next {\n  z-index: 2;\n}\n");var Je=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{activeItem:e.props.activeItem,initialLength:e.props.length,srcArray:[],swipeAvailable:!0,initialX:null,initialY:null}),se(me(e),"carouselRef",o.a.createRef()),se(me(e),"clearCycleIntervalHandler",(function(){return clearInterval(e.cycleInterval)})),se(me(e),"swipeAvailableHandler",(function(){return e.setState({swipeAvailable:!0})})),se(me(e),"restartInterval",(function(){var t=e.props.interval;!1!==t&&(e.clearCycleIntervalHandler(),e.cycleInterval=setInterval(e.next,t))})),se(me(e),"next",(function(){var t=e.state,n=t.activeItem+1,r=n>t.initialLength?1:n;e.goToIndex(r)})),se(me(e),"prev",(function(){var t=e.state,n=t.activeItem,r=t.initialLength,o=n-1,i=o<1?r:o;e.goToIndex(i)})),se(me(e),"goToIndex",(function(t){e.setState(le(le({},e.state),{},{activeItem:t})),e.restartInterval()})),se(me(e),"startTouch",(function(t){!1!==e.props.mobileGesture&&e.setState({initialX:t.touches[0].clientX,initialY:t.touches[0].clientY})})),se(me(e),"moveTouch",(function(t){e.setState({swipeAvailable:!1});var n=e.state,r=n.initialX,o=n.initialY;if(null!==r&&null!==o){var i=r-t.touches[0].clientX,a=o-t.touches[0].clientY;Math.abs(i)>Math.abs(a)&&(i>0?e.next():e.prev()),e.setState({initialX:null,initialY:null})}})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.interval,n=e.thumbnails,r=e.length;if(!1!==t){if(this.cycleInterval=setInterval(this.next,t),n){var o=this.carouselRef.current.querySelectorAll(".carousel-item img"),i=Array.prototype.map.call(o,(function(e){return e.src}));this.setState(le(le({},this.state),{},{srcArray:i}))}this.setState({initialLength:r})}}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.length,r=this.state.activeItem,o=n;t.initialLength!==n&&this.setState({initialLength:o}),t.activeItem!==r&&this.setState({activeItem:r})}},{key:"componentWillUnmount",value:function(){!1!==this.props.interval&&this.clearCycleIntervalHandler()}},{key:"render",value:function(){for(var e=this,t=this.props,n=(t.activeItem,t.children),r=t.className,i=(t.interval,t.mobileGesture,t.multiItem),s=t.onHoverStop,u=t.showControls,c=t.showIndicators,l=t.slide,f=t.tag,d=t.testimonial,h=t.thumbnails,p=ve(t,["activeItem","children","className","interval","mobileGesture","multiItem","onHoverStop","showControls","showIndicators","slide","tag","testimonial","thumbnails"]),v=this.state,m=v.initialLength,g=v.srcArray,y=v.swipeAvailable,b=v.activeItem,w=a()("carousel",i?"carousel-multi-item":"carousel-fade",h?"carousel-thumbnails":"",d?"testimonial-carousel":"",r),_=[],x=function(t){var n=e.state.activeItem;_.push(o.a.createElement(Xe,{img:h?g[t-1]:null,key:t,active:n===t,onClick:function(){return e.goToIndex(t)}}))},E=1;E<=m;E++)x(E);var C=!!i,k=!!d;return o.a.createElement(Ye.Provider,{value:{activeItem:b,slide:l,length:m}},o.a.createElement(f,ue({"data-test":"carousel",ref:this.carouselRef},p,{className:w,"aria-label":"carousel",onTouchStart:this.startTouch,onTouchMove:y?this.moveTouch:null,onTouchEnd:this.swipeAvailableHandler,onMouseEnter:s?this.clearCycleIntervalHandler:null,onMouseLeave:s?this.restartInterval:null}),u&&i&&o.a.createElement("div",{className:"controls-top"},o.a.createElement($e,{testimonial:k,multiItem:C,iconLeft:!0,className:"btn-floating",direction:"prev",role:"button",onClick:this.prev}),o.a.createElement($e,{testimonial:k,multiItem:C,iconRight:!0,className:"btn-floating",direction:"next",role:"button",onClick:this.next})),n,u&&!i&&o.a.createElement(o.a.Fragment,null,o.a.createElement($e,{testimonial:k,multiItem:C,direction:"prev",role:"button",onClick:this.prev}),o.a.createElement($e,{testimonial:k,multiItem:C,direction:"next",role:"button",onClick:this.next})),c&&o.a.createElement(Qe,null,_)))}}]),n}();Je.propTypes={activeItem:u.a.number,children:u.a.node,className:u.a.string,interval:u.a.oneOfType([u.a.number,u.a.bool]),length:u.a.number,mobileGesture:u.a.bool,multiItem:u.a.bool,onHoverStop:u.a.bool,showControls:u.a.bool,showIndicators:u.a.bool,slide:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string]),testimonial:u.a.bool,thumbnails:u.a.bool},Je.defaultProps={interval:6e3,mobileGesture:!0,onHoverStop:!0,showControls:!0,showIndicators:!0,tag:"div"};var Ze=function(e){var t=e.children,n=e.className,r=e.tag,i=ve(e,["children","className","tag"]),s=a()("carousel-caption",n);return o.a.createElement(Ye.Consumer,null,(function(e){return pe(e),o.a.createElement(r,ue({"data-test":"carousel-caption"},i,{className:s}),t)}))};Ze.propTypes={active:u.a.string,children:u.a.node,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},Ze.defaultProps={tag:"div"};var et=function(e){var t=e.active,n=e.children,r=(e.childrenCount,e.className),i=e.tag,s=ve(e,["active","children","childrenCount","className","tag"]),u=a()("carousel-inner",t?"active":"",r);return o.a.createElement(Ye.Consumer,null,(function(e){return pe(e),o.a.createElement(i,ue({"data-test":"carousel-inner"},s,{className:u}),n)}))};et.propTypes={active:u.a.bool,children:u.a.node,childrenCount:u.a.number,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},et.defaultProps={tag:"div"};var tt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"moveForward",(function(){e.style={position:"absolute",left:"100%"}})),se(me(e),"moveBackwards",(function(){e.style={position:"absolute",left:"-100%"}})),se(me(e),"makeVisible",(function(){e.style={left:"0"}})),e}return ae(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.active,t.children),r=t.className,i=t.itemId,s=t.tag,u=ve(t,["active","children","className","itemId","tag"]);return i=parseInt(i,10),o.a.createElement(Ye.Consumer,null,(function(t){var c=t.activeItem,l=t.slide,f=a()("carousel-item",{"active carousel-slide-item":l,active:!l&&i===c},r),d=c-i;return l?d<0?e.moveForward():d>0?e.moveBackwards():e.makeVisible():e.makeVisible(),o.a.createElement(s,ue({"data-test":"carousel-item"},u,{className:f,style:e.style}),n)}))}}]),n}();tt.propTypes={active:u.a.bool,children:u.a.node,className:u.a.string,itemId:u.a.any,tag:u.a.oneOfType([u.a.func,u.a.string])},tt.defaultProps={tag:"div"};var nt=function(e){var t=e.onClick,n=e.className,r=e.ariaLabel,i=ve(e,["onClick","className","ariaLabel"]),a=n?["close"].concat(be(n.split(" "))):["close"];return o.a.createElement("button",ue({"data-test":"close-button",type:"button"},i,{className:a.join(" "),onClick:function(e){t&&t(e)},"aria-label":r}),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))};nt.defaultProps={ariaLabel:"Close"},nt.propTypes={ariaLabel:u.a.string,className:u.a.string,onClick:u.a.func};var rt=function(e){var t=e.xs,n=e.sm,r=e.md,i=e.lg,s=e.xl,u=e.top,c=e.bottom,l=e.middle,f=e.size,d=e.className,h=e.tag,p=ve(e,["xs","sm","md","lg","xl","top","bottom","middle","size","className","tag"]),v=a()(f&&"col-".concat(f),t&&"col-xs-".concat(t),n&&"col-sm-".concat(n),r&&"col-md-".concat(r),i&&"col-lg-".concat(i),s&&"col-xl-".concat(s),f||t||n||r||i||s?"":"col",u&&"align-self-start",l&&"align-self-center",c&&"align-self-end",d);return o.a.createElement(h,ue({"data-test":"col"},p,{className:v}))};rt.propTypes={bottom:u.a.bool,className:u.a.string,lg:u.a.string,md:u.a.string,middle:u.a.bool,size:u.a.string,sm:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),top:u.a.bool,xl:u.a.string,xs:u.a.string},rt.defaultProps={tag:"div",xs:null,sm:null,md:null,lg:null,xl:null};var ot={show:350,hide:350},it=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{id:e.props.id,collapse:"HIDDEN",height:null}),se(me(e),"element",null),se(me(e),"setTransitionTag",(function(t,n,r){e.transitionTag=setTimeout((function(){e.setState({collapse:t,height:null},n())}),e.getDelay(r))})),se(me(e),"openCollapse",(function(){var t=e.props.onOpened;e.setState({collapse:"SHOW"},(function(){e.setState({height:e.getHeight()}),e.setTransitionTag("SHOWN",t,"show")}))})),se(me(e),"closeCollapse",(function(){var t=e.props.onClosed;e.setState({height:e.getHeight()},(function(){e.setState({collapse:"HIDE",height:e.getHeight()},(function(){e.setState({height:0})}))})),e.setTransitionTag("HIDDEN",t,"hide")})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this.props.isOpen,t=this.state,n=t.collapse;e!==t.id&&!0!==e||"HIDDEN"!==n||this.openCollapse()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.isOpen,r=this.state.collapse,o="boolean"!=typeof n?n===t.id:n;o&&"HIDDEN"===r?this.openCollapse():o||"SHOWN"!==t.collapse||this.closeCollapse()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTag)}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===re(t)?isNaN(t[e])?ot[e]:t[e]:t}},{key:"getHeight",value:function(){return this.element.scrollHeight}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.navbar,i=n.children,s=n.className,u=(n.isOpen,n.delay,n.tag),c=(n.onOpened,n.onClosed,ve(n,["navbar","children","className","isOpen","delay","tag","onOpened","onClosed"])),l=this.state,f=l.collapse,d=l.height;switch(f){case"SHOW":case"HIDE":e="collapsing";break;case"SHOWN":e="collapse show";break;default:e="collapse"}var h=a()(e,!!r&&"navbar-collapse",s),p=null===d?null:{height:d};return o.a.createElement(u,ue({"data-test":"collapse"},c,{style:le(le({},c.style),p),className:h,ref:function(e){t.element=e}}),i)}}]),n}();it.propTypes={children:u.a.node,className:u.a.node,delay:u.a.oneOfType([u.a.number,u.a.shape({hide:u.a.number,show:u.a.number})]),id:u.a.string,isOpen:u.a.oneOfType([u.a.string,u.a.bool]),navbar:u.a.bool,onClosed:u.a.func,onOpened:u.a.func,tag:u.a.string},it.defaultProps={isOpen:"",delay:ot,onOpened:function(){},onClosed:function(){},tag:"div"};var at=function(e){var t=e.className,n=e.fluid,r=e.size,i=e.tag,s=ve(e,["className","fluid","size","tag"]),u=a()(n?"container-fluid":r?"container-".concat(r):"container",t);return o.a.createElement(i,ue({"data-test":"container"},s,{className:u}))};at.propTypes={className:u.a.string,fluid:u.a.bool,size:u.a.oneOf(["sm","md","lg","xl"]),tag:u.a.oneOfType([u.a.func,u.a.string])},at.defaultProps={tag:"div",fluid:!1};var st=function(e){var t=e.color,n=e.columns,r=e.handleSort,i=e.scrollX,s=e.scrollY,u=e.sortable,c=e.sorted,l=e.textWhite,f=a()(t&&("dark"!==t&&"light"!==t?t:"thead-".concat(t)),l&&"text-white");return o.a.createElement(o.a.Fragment,null,(s||i)&&o.a.createElement("colgroup",null,n.map((function(e){return o.a.createElement("col",{key:e.field,style:{width:"".concat(e.width,"px")||!1,minWidth:"".concat(e.width,"px")||!1}})}))),o.a.createElement("thead",{"data-test":"datatable-head",className:f||void 0},o.a.createElement("tr",null,n.map((function(e,t){return o.a.createElement("th",ue({onClick:function(){return u&&r(e.field,e.sort)},key:e.field+t,className:a()(e.hasOwnProperty("minimal")?"th-".concat(e.minimal):null,u&&"disabled"!==e.sort&&(c&&e.sort?"sorting_".concat("asc"===e.sort?"desc":"asc"):"sorting"))},e.attributes),e.label)})))))};st.propTypes={sorted:u.a.bool.isRequired,color:u.a.string,columns:u.a.arrayOf(u.a.object),handleSort:u.a.func,scrollX:u.a.bool,scrollY:u.a.bool,sortable:u.a.bool,textWhite:u.a.bool},st.defaultProps={scrollX:!1,scrollY:!1,sortable:!0,textWhite:!1},Pe(".table-wrapper-scroll-y {\n  display: block;\n  max-height: 200px;\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n}\n");var ut=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,i=e.btn,s=e.children,u=e.className,c=e.dark,l=e.fixed,f=e.hover,d=e.maxHeight,h=e.responsive,p=e.responsiveLg,v=e.responsiveMd,m=e.responsiveSm,g=e.responsiveXl,y=e.scrollY,b=e.small,w=e.striped,_=(e.theadColor,e.wrapperClassName),x=ve(e,["autoWidth","bordered","borderless","btn","children","className","dark","fixed","hover","maxHeight","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","scrollY","small","striped","theadColor","wrapperClassName"]),E=a()("table",{"w-auto":t,"table-bordered":n,"table-borderless":r,"btn-table":i,"table-fixed":l,"table-hover":f,"table-sm":b,"table-striped":w},u),C=a()({"table-dark":c,"table-responsive":h,"table-responsive-sm":m,"table-responsive-md":v,"table-responsive-lg":p,"table-responsive-xl":g,"table-wrapper-scroll-y":y},_),k={maxHeight:d};return o.a.createElement("div",{"data-test":"table",className:C,style:k},o.a.createElement("table",ue({},x,{className:E}),s))};ut.propTypes={autoWidth:u.a.bool,bordered:u.a.bool,borderless:u.a.bool,btn:u.a.bool,children:u.a.node,className:u.a.string,dark:u.a.bool,fixed:u.a.bool,hover:u.a.bool,maxHeight:u.a.string,responsive:u.a.bool,responsiveLg:u.a.bool,responsiveMd:u.a.bool,responsiveSm:u.a.bool,responsiveXl:u.a.bool,scrollY:u.a.bool,small:u.a.bool,striped:u.a.bool,theadColor:u.a.string,wrapperClassName:u.a.string};var ct=function(e){var t=e.children,n=e.color,r=e.columns,i=e.rows,s=e.textWhite,u=ve(e,["children","color","columns","rows","textWhite"]),c=a()(n,{"text-white":s}),l=function(e,t,n,r){return"clickEvent"===e?null:"colspan"!==e?r.message?0===t&&o.a.createElement("td",{key:t,colSpan:r.colspan},r.message):"colspan"!==n[t+1]&&null!==r[e]&&o.a.createElement("td",{key:t},r[e])||o.a.createElement("td",{key:t}):o.a.createElement("td",{key:t,colSpan:r.colspan},r[n[t-1]])};return o.a.createElement("tbody",ue({"data-test":"table-body"},u,{className:c||void 0}),i&&i.map((function(e,t){return o.a.createElement("tr",{className:e.rowClassNames?e.rowClassNames:void 0,onClick:e.hasOwnProperty("clickEvent")?function(){e.clickEvent(e)}:void 0,key:t},r?r.map((function(t,n,r){var o=t.field;return l(o,n,r,e)})):Object.keys(e).map((function(t,n,r){return l(t,n,r,e)})))})),t)};ct.propTypes={children:u.a.node,color:u.a.string,rows:u.a.arrayOf(u.a.object),textWhite:u.a.bool},ct.defaultProps={textWhite:!1};var lt=function(e){var t,n=e.children,r=e.color,i=e.columns,s=e.textWhite,u=ve(e,["children","color","columns","textWhite"]),c="dark"===r||"light"===r,l=a()((se(t={"text-white":s},"thead-".concat(r),r&&c),se(t,"".concat(r),r&&!c),t));return o.a.createElement("thead",ue({"data-test":"table-foot"},u,{className:l||void 0}),i&&o.a.createElement("tr",null,i.map((function(e){return o.a.createElement("th",{key:e.field,className:e.hasOwnProperty("minimal")?"th-".concat(e.minimal):void 0},e.label)}))),n)};lt.propTypes={children:u.a.node,color:u.a.string,columns:u.a.arrayOf(u.a.object),textWhite:u.a.bool},lt.defaultProps={textWhite:!1};var ft=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,i=e.btn,a=e.children,s=e.columns,u=e.dark,c=e.fixed,l=e.handleSort,f=e.hover,d=e.noBottomColumns,h=(e.noRecordsFoundLabel,e.responsive),p=e.responsiveLg,v=e.responsiveMd,m=e.responsiveSm,g=e.responsiveXl,y=e.rows,b=e.small,w=e.sortable,_=e.sorted,x=e.striped,E=e.tbodyColor,C=e.tbodyTextWhite,k=e.theadColor,S=e.theadTextWhite,T=ve(e,["autoWidth","bordered","borderless","btn","children","columns","dark","fixed","handleSort","hover","noBottomColumns","noRecordsFoundLabel","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","rows","small","sortable","sorted","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite"]);return o.a.createElement("div",{"data-test":"datatable-table",className:"col-sm-12"},o.a.createElement(ut,ue({autoWidth:t,bordered:n,borderless:r,btn:i,dark:u,fixed:c,hover:f,responsive:h,responsiveSm:m,responsiveMd:v,responsiveLg:p,responsiveXl:g,small:b,striped:x,className:"dataTable"},T),o.a.createElement(st,{color:k,textWhite:S,columns:s,handleSort:l,sortable:w,sorted:_}),o.a.createElement(ct,{color:E,textWhite:C,rows:y,columns:s}),!d&&o.a.createElement(lt,{color:k,textWhite:S,columns:s}),a))};ft.propTypes={autoWidth:u.a.bool.isRequired,bordered:u.a.bool.isRequired,borderless:u.a.bool.isRequired,btn:u.a.bool.isRequired,dark:u.a.bool.isRequired,fixed:u.a.bool.isRequired,handleSort:u.a.func.isRequired,hover:u.a.bool.isRequired,responsive:u.a.bool.isRequired,responsiveLg:u.a.bool.isRequired,responsiveMd:u.a.bool.isRequired,responsiveSm:u.a.bool.isRequired,responsiveXl:u.a.bool.isRequired,small:u.a.bool.isRequired,sortable:u.a.bool.isRequired,sorted:u.a.bool.isRequired,striped:u.a.bool.isRequired,tbodyColor:u.a.string.isRequired,tbodyTextWhite:u.a.bool.isRequired,theadColor:u.a.string.isRequired,theadTextWhite:u.a.bool.isRequired,children:u.a.node,columns:u.a.arrayOf(u.a.object),noBottomColumns:u.a.bool,rows:u.a.arrayOf(u.a.object)};var dt=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,i=e.btn,a=e.children,s=e.columns,u=e.dark,c=e.fixed,l=e.handleSort,f=e.handleTableBodyScroll,d=e.hover,h=e.maxHeight,p=e.responsive,v=e.responsiveLg,m=e.responsiveMd,g=e.responsiveSm,y=e.responsiveXl,b=e.rows,w=e.scrollX,_=e.scrollY,x=e.small,E=e.sortable,C=e.sorted,k=e.striped,S=e.tbodyColor,T=e.tbodyTextWhite,O=e.theadColor,I=e.theadTextWhite,N=e.translateScrollHead,R=ve(e,["autoWidth","bordered","borderless","btn","children","columns","dark","fixed","handleSort","handleTableBodyScroll","hover","maxHeight","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","rows","scrollX","scrollY","small","sortable","sorted","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","translateScrollHead"]),A=w?"".concat(s.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),"px"):"auto";return o.a.createElement("div",{"data-test":"datatable-table-scroll",className:"col-sm-12"},o.a.createElement("div",{className:"dataTables_scroll"},o.a.createElement("div",{className:"dataTables_scrollHead",style:{overflow:"hidden"}},o.a.createElement("div",{className:"dataTables_scrollHeadInner",style:{position:"relative",transform:"translateX(-".concat(N,"px)"),boxSizing:"content-box",paddingRight:_?"15px":null,minWidth:A}},o.a.createElement(ut,ue({autoWidth:t,bordered:n,borderless:r,btn:i,dark:u,fixed:c,hover:d,responsive:p,responsiveSm:g,responsiveMd:m,responsiveLg:v,responsiveXl:y,small:x,striped:k,className:"dataTable"},R),o.a.createElement(st,{color:O,textWhite:I,columns:s,handleSort:l,scrollX:w,scrollY:_,sortable:E,sorted:C})))),o.a.createElement("div",{className:"dataTable_scrollBody",style:{overflow:"auto"},onScroll:f},o.a.createElement(ut,ue({style:{minWidth:A},autoWidth:t,bordered:n,borderless:r,btn:i,dark:u,fixed:c,hover:d,maxHeight:h,responsive:p,responsiveSm:g,responsiveMd:m,responsiveLg:v,responsiveXl:y,scrollY:_,small:x,striped:k,className:"dataTable"},R),o.a.createElement("colgroup",null,s.map((function(e,t){return o.a.createElement("col",{key:e.field+t,style:{width:"".concat(e.width,"px")||!1,minWidth:"".concat(e.width,"px")||!1}})}))),o.a.createElement(ct,{color:S,textWhite:T,rows:b,columns:s}),a))))};dt.propTypes={autoWidth:u.a.bool.isRequired,bordered:u.a.bool.isRequired,borderless:u.a.bool.isRequired,btn:u.a.bool.isRequired,dark:u.a.bool.isRequired,fixed:u.a.bool.isRequired,handleSort:u.a.func.isRequired,handleTableBodyScroll:u.a.func.isRequired,hover:u.a.bool.isRequired,responsive:u.a.bool.isRequired,responsiveLg:u.a.bool.isRequired,responsiveMd:u.a.bool.isRequired,responsiveSm:u.a.bool.isRequired,responsiveXl:u.a.bool.isRequired,small:u.a.bool.isRequired,sortable:u.a.bool.isRequired,sorted:u.a.bool.isRequired,striped:u.a.bool.isRequired,tbodyColor:u.a.string.isRequired,tbodyTextWhite:u.a.bool.isRequired,theadColor:u.a.string.isRequired,theadTextWhite:u.a.bool.isRequired,translateScrollHead:u.a.number.isRequired,children:u.a.node,columns:u.a.arrayOf(u.a.object),maxHeight:u.a.string,rows:u.a.arrayOf(u.a.object),scrollX:u.a.bool,scrollY:u.a.bool};var ht=function(e){var t=e.value,n=e.onChange,r=e.entries,i=e.label;return e.barReverse,o.a.createElement("div",{"data-test":"datatable-select",className:"dataTables_length bs-select"},o.a.createElement("label",null,i,o.a.createElement("select",{value:t,onChange:function(e){var t=parseInt(e.target.value,10);n(t)},className:"custom-select custom-select-sm form-control form-control-sm",style:{marginLeft:".5rem"}},r.map((function(e,t){return o.a.createElement("option",{key:e+t,value:e},e)})))))};ht.propTypes={entries:u.a.arrayOf(u.a.number).isRequired,label:u.a.oneOfType([u.a.string,u.a.number,u.a.object]).isRequired,onChange:u.a.func.isRequired,value:u.a.number.isRequired};var pt=function(e){var t=e.handleEntriesChange,n=e.displayEntries,r=e.entries,i=e.entriesArr,a=e.paging,s=e.label,u=e.barReverse,c=e.proSelect,l=ve(e,["handleEntriesChange","displayEntries","entries","entriesArr","paging","label","barReverse","proSelect"]);return o.a.createElement("div",{"data-test":"datatable-entries",className:"col-sm-12 col-md-6",style:{display:"flex",alignItems:"center",justifyContent:u&&"flex-end"}},a&&n&&!c&&o.a.createElement(ht,ue({value:r,onChange:t,entries:i,label:s,barReverse:u},l)))};pt.propTypes={displayEntries:u.a.bool.isRequired,entries:u.a.number.isRequired,entriesArr:u.a.arrayOf(u.a.number).isRequired,handleEntriesChange:u.a.func.isRequired,label:u.a.oneOfType([u.a.number,u.a.object,u.a.string]).isRequired,paging:u.a.bool.isRequired,barReverse:u.a.bool,proSelect:u.a.bool};var vt=function(e){var t=e.value,n=e.onChange,r=e.label,i=e.barReverse,s=e.materialSearch;return o.a.createElement("div",{"data-test":"datatable-input",className:a()("mdb-datatable-filter","flex-row",i&&"text-left")},s?o.a.createElement(qt,{hint:"Search",containerClass:"mt-0",value:t,onChange:n,type:"search",className:"form-control form-control-sm",placeholder:r||"Search"}):o.a.createElement("input",{className:"form-control form-control-sm ml-0 my-1",type:"text",placeholder:r||"Search","aria-label":"Search",value:t,onChange:n}))};vt.propTypes={barReverse:u.a.bool,label:u.a.string,materialSearch:u.a.bool,onChange:u.a.func,value:u.a.string};var mt=function(e){var t=e.handleSearchChange,n=e.search,r=e.searching,i=e.label,s=e.barReverse,u=e.wrapperSearchStyle,c=e.wrapperSearchClasses,l=e.materialSearch,f=ve(e,["handleSearchChange","search","searching","label","barReverse","wrapperSearchStyle","wrapperSearchClasses","materialSearch"]),d=a()("col-sm-12 col-md-6",c);return r&&o.a.createElement("div",{"data-test":"datatable-search",style:le({display:"flex",alignItems:"center",justifyContent:s?"flex-start":"flex-end"},u),className:d},o.a.createElement(vt,ue({value:n,onChange:t,label:i,barReverse:s,materialSearch:l},f)))};mt.propTypes={handleSearchChange:u.a.func.isRequired,search:u.a.string.isRequired,searching:u.a.bool.isRequired,barReverse:u.a.bool,label:u.a.string,materialSearch:u.a.bool};var gt=function(e){var t=e.activePage,n=e.entries,r=e.filteredRows,i=e.info,a=e.label,s=e.noRecordsFoundLabel,u=e.pages,c=a[0],l=a[1],f=a[2],d=a[3],h=r.length>0&&r[0].message===s,p=t>0?t*n+1:t+1,v=u.length-1>t?u[t].length*(t+1):r.length,m=r.length;return o.a.createElement("div",{"data-test":"datatable-info",className:"col-sm-12 col-md-5"},i&&o.a.createElement("div",{className:"dataTables_info",role:"status","aria-live":"polite"},h?"".concat(c," 0 ").concat(d):"".concat(c," ").concat(p," ").concat(l," ").concat(v," ").concat(f," ").concat(m," ").concat(d)))};gt.propTypes={activePage:u.a.number.isRequired,entries:u.a.number.isRequired,filteredRows:u.a.array.isRequired,info:u.a.bool.isRequired,noRecordsFoundLabel:u.a.string.isRequired,pages:u.a.array.isRequired,label:u.a.arrayOf(u.a.string)},gt.defaultProps={label:["Showing","to","of","entries"]};var yt=function(e){var t,n=e.children,r=e.circle,i=e.className,s=e.color,u=e.tag,c=e.size,l=ve(e,["children","circle","className","color","tag","size"]),f=a()((se(t={"pagination-circle":r},"pg-".concat(s),s),se(t,"pagination-".concat(c),c),t),"pagination",i);return o.a.createElement(u,ue({"data-test":"pagination"},l,{className:f}),n)};yt.propTypes={children:u.a.node,circle:u.a.bool,className:u.a.string,color:u.a.string,size:u.a.oneOf(["lg","sm"]),tag:u.a.oneOfType([u.a.func,u.a.string])},yt.defaultProps={circle:!1,className:"",color:"",tag:"ul"};var bt=function(e){var t=e.active,n=e.className,r=e.children,i=e.disabled,s=e.tag,u=ve(e,["active","className","children","disabled","tag"]),c=a()({disabled:i,active:t},"page-item",n);return o.a.createElement(s,ue({"data-test":"page-item"},u,{className:c}),r)};bt.propTypes={active:u.a.bool,children:u.a.node,className:u.a.string,disabled:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string])},bt.defaultProps={active:!1,className:"",disabled:!1,tag:"li"};var wt=function(e){var t=e.children,n=e.className,r=e.tag,i=ve(e,["children","className","tag"]),s=a()("page-link",n);return o.a.createElement(r,ue({"data-test":"page-link"},i,{className:s}),t)};wt.propTypes={children:u.a.node,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},wt.defaultProps={tag:"a"};var _t=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{pages:e.props.pages,pGroups:[]}),se(me(e),"componentDidUpdate",(function(t){var n=e.props.pages;t.pages!==n&&e.setState({pages:n},(function(){return e.groupPages()}))})),se(me(e),"pagesIndexify",(function(){var t=be(e.state.pages);return t.forEach((function(e,t){return e.index=t})),t})),se(me(e),"groupPages",(function(){for(var t=[],n=e.pagesIndexify(),r=e.props.pagesAmount;n.length>0;)t.push(n.splice(0,r));e.setState({pGroups:t})})),se(me(e),"choosePagesGroup",(function(){var t=e.props,n=t.activePage,r=t.pagesAmount,o=e.state.pGroups,i=Math.floor(n/r);return o.length?o[i]:[]})),e}return ae(n,[{key:"componentDidMount",value:function(){this.groupPages()}},{key:"render",value:function(){var e=this.props,t=e.activePage,n=e.changeActivePage,r=e.pages,i=e.label;return o.a.createElement("div",{"data-test":"datatable-pagination",className:"col-sm-12 col-md-7"},o.a.createElement("div",{className:"dataTables_paginate"},o.a.createElement(yt,null,o.a.createElement(bt,{disabled:t<=0},o.a.createElement(wt,{className:"page-link","aria-label":i[0],onClick:function(){return n(t-1)}},o.a.createElement("span",null,i[0]))),this.choosePagesGroup().map((function(e,r){return o.a.createElement(bt,{key:Object.keys(e[0])[0]+e.index+r,active:e.index===t},o.a.createElement(wt,{className:"page-link",onClick:function(){return n(e.index)}},e.index+1,e.index===t&&o.a.createElement("span",{className:"sr-only"},"(current)")))})),o.a.createElement(bt,{disabled:!r.length||t===r.length-1},o.a.createElement(wt,{className:"page-link","aria-label":i[1],onClick:function(){return n(t+1)}},o.a.createElement("span",null,i[1]))))))}}]),n}();_t.propTypes={activePage:u.a.number.isRequired,changeActivePage:u.a.func.isRequired,label:u.a.arrayOf(u.a.string).isRequired,pages:u.a.array.isRequired,pagesAmount:u.a.number.isRequired};var xt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{activePage:0,columns:e.props.data.columns||[],entries:e.props.entries,filteredRows:e.props.data.rows||[],filterOptions:[],order:e.props.order||[],pages:[],rows:e.props.data.rows||[],search:"",searchSelect:"",sorted:!1,translateScrollHead:0,unsearchable:[]}),se(me(e),"setData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;e.setState((function(){return{columns:n,rows:t,filteredRows:e.props.disableRetreatAfterSorting?e.filterRows():t}}),r&&"function"==typeof r&&function(){return r()})})),se(me(e),"setUnsearchable",(function(t){var n=[];t.forEach((function(e){void 0!==e.searchable&&!1===e.searchable&&n.push(e.field)})),e.setState({unsearchable:n})})),se(me(e),"fetchData",(function(t,n){fetch(t).then((function(e){return e.json()})).then((function(t){return e.setData(t.rows,t.columns,n?e.paginateRows:null)})).catch((function(e){return console.log(e)}))})),se(me(e),"pagesAmount",(function(){return Math.ceil(e.state.filteredRows.length/e.state.entries)})),se(me(e),"paginateRowsInitialy",(function(){for(var t=e.state,n=t.rows,r=t.entries,o=t.pages,i=e.pagesAmount(),a=1;a<=i;a++){var s=a*r;o.push(n.slice(s-r,s))}})),se(me(e),"handleEntriesChange",(function(t){e.setState({entries:Array.isArray(t)?t[0]:t},(function(){return e.paginateRows()}))})),se(me(e),"handleSearchChange",(function(t){e.setState({search:t.target.value},(function(){return e.filterRows()}),e.props.onSearch&&"function"==typeof e.props.onSearch&&e.props.onSearch(t.target.value))})),se(me(e),"checkFieldValue",(function(e,t){return e[t]&&"string"!=typeof e[t]?e[t].props.searchvalue:e[t]})),se(me(e),"checkField",(function(t,n,r,o){var i=[e.checkFieldValue(n,t),e.checkFieldValue(r,t)],a=i[0]>i[1]?-1:1;return"asc"===o&&(a*=-1),a})),se(me(e),"isString",(function(e){return"string"==typeof e})),se(me(e),"sort",(function(t,n,r,o){return t.sort((function(t,i){if(n&&n.includes(r))return e.checkField(r,t,i,o);var a=e.isString(t[r])&&t[r].includes("$")?Number(t[r].replace(/\$/g,"")):t[r],s=e.isString(i[r])&&i[r].includes("$")?Number(i[r].replace(/\$/g,"")):i[r];return"asc"===o?a<s?-1:1:a>s?-1:1}))})),se(me(e),"handleSort",(function(t,n){var r=e.props.onSort,o=e.state.direction;"disabled"!==n&&(e.setState({direction:!o}),e.setState((function(n){var r=e.props.sortRows,o=n.rows,i=n.columns,a=n.direction?"asc":"desc";return e.sort(o,r,t,a),i.forEach((function(e){"disabled"!==e.sort&&(e.sort=e.field===t?a:"")})),{rows:o,columns:i,sorted:!0}}),(function(){return e.filterRows()})),r&&"function"==typeof r&&r({column:t,direction:!0===e.state.direction?"asc":"desc"}))})),se(me(e),"filterRows",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.search,n=e.state.unsearchable,r=e.props,o=r.sortRows,i=r.noRecordsFoundLabel;e.setState((function(r){var a=r.rows.filter((function(e){for(var r in e)if(!(n.length&&n.includes(r)||"function"==typeof e[r])){var i="";if(o&&"string"!=typeof e[r]?(a=void 0,a=[],function e(t){return"object"===re(t)?t.props.children&&Array.from(t.props.children).map((function(t){return e(t)})):a.push(t)}(e[r]),i=a.join("")):e[r]&&(i=e[r].toString()),i.toLowerCase().includes(t.toLowerCase()))return!0}var a;return!1}));0===a.length&&a.push({message:i,colspan:r.columns.length});var s={};return e.props.disableRetreatAfterSorting?s={filteredRows:a,activePage:r.activePage=r.activePage<r.pages.length||0===r.activePage?r.activePage:r.pages.length-1}:e.props.disableRetreatAfterSorting||(s={filteredRows:a,activePage:0}),s}),(function(){return e.paginateRows()}))})),se(me(e),"paginateRows",(function(){var t=e.pagesAmount();e.setState((function(n){var r=n.pages,o=n.entries,i=n.filteredRows,a=n.activePage,s=e.props,u=s.paging,c=s.disableRetreatAfterSorting;if(r=[],u){for(var l=1;l<=t;l++){var f=l*o;r.push(i.slice(f-o,f))}c||(a=a<r.length||0===a?a:r.length-1)}else r.push(i),a=0;return{pages:r,filteredRows:i,activePage:a}}))})),se(me(e),"changeActivePage",(function(t){var n=e.props.onPageChange;e.setState({activePage:t}),n&&"function"==typeof n&&n({activePage:t+1,pagesAmount:e.pagesAmount()})})),se(me(e),"handleTableBodyScroll",(function(t){e.setState({translateScrollHead:t.target.scrollLeft})})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.paging,r=this.state,o=r.order,i=r.columns,a=r.pages,s=r.rows;"string"==typeof t&&this.fetchData(t,this.paginateRows),o.length>0?this.handleSort(o[0],o[1]):this.handleSort(),this.setUnsearchable(i),n?this.paginateRowsInitialy():a.push(s)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.columns,r=this.props.data;e.data!==r&&("string"==typeof r?this.fetchData(r):this.setData(r.rows,r.columns,this.paginateRows),this.setUnsearchable(n),this.filterRows())}},{key:"render",value:function(){var e=this.props,t=e.autoWidth,n=e.barReverse,r=e.bordered,i=e.borderless,s=e.btn,u=(e.children,e.className),c=e.dark,l=(e.data,e.disableRetreatAfterSorting,e.displayEntries),f=e.entriesLabel,d=e.entriesOptions,h=(e.exportToCSV,e.filter,e.fixed),p=e.hover,v=e.info,m=e.infoLabel,g=e.maxHeight,y=e.noBottomColumns,b=e.noRecordsFoundLabel,w=(e.onPageChange,e.onSearch,e.onSort,e.order,e.pagesAmount),_=e.paginationLabel,x=e.paging,E=e.responsive,C=e.responsiveLg,k=e.responsiveMd,S=e.responsiveSm,T=e.responsiveXl,O=e.scrollX,I=e.scrollY,N=e.searching,R=e.searchLabel,A=e.small,P=e.sortable,D=(e.sortRows,e.striped),M=e.tbodyColor,j=e.tbodyTextWhite,L=e.theadColor,F=e.materialSearch,B=e.theadTextWhite,U=e.proSelect,V=ve(e,["autoWidth","barReverse","bordered","borderless","btn","children","className","dark","data","disableRetreatAfterSorting","displayEntries","entriesLabel","entriesOptions","exportToCSV","filter","fixed","hover","info","infoLabel","maxHeight","noBottomColumns","noRecordsFoundLabel","onPageChange","onSearch","onSort","order","pagesAmount","paginationLabel","paging","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","scrollX","scrollY","searching","searchLabel","small","sortable","sortRows","striped","tbodyColor","tbodyTextWhite","theadColor","materialSearch","theadTextWhite","proSelect"]),z=this.state,W=z.columns,q=z.entries,H=z.filteredRows,G=(z.filterOptions,z.pages),K=z.activePage,Y=z.search,$=z.sorted,X=z.translateScrollHead,Q=a()("dataTables_wrapper dt-bootstrap4",u);return o.a.createElement("div",{"data-test":"datatable",className:Q},o.a.createElement("div",{className:"row"},n?o.a.createElement(o.a.Fragment,null,o.a.createElement(mt,{handleSearchChange:this.handleSearchChange,search:Y,searching:N,label:R,barReverse:n,materialSearch:F}),o.a.createElement(pt,{paging:x,displayEntries:l,entries:q,handleEntriesChange:this.handleEntriesChange,entriesArr:d,label:f,barReverse:n,proSelect:U})):o.a.createElement(o.a.Fragment,null,o.a.createElement(pt,{paging:x,displayEntries:l,entries:q,handleEntriesChange:this.handleEntriesChange,entriesArr:d,label:f,barReverse:n,proSelect:U}),o.a.createElement(mt,{handleSearchChange:this.handleSearchChange,search:Y,searching:N,label:R,barReverse:n,materialSearch:F}))),!I&&!O&&o.a.createElement("div",{className:"row"},o.a.createElement(ft,ue({autoWidth:t,bordered:r,borderless:i,btn:s,dark:c,fixed:h,hover:p,noBottomColumns:y,noRecordsFoundLabel:b,responsive:E,responsiveSm:S,responsiveMd:k,responsiveLg:C,responsiveXl:T,small:A,striped:D,theadColor:L,theadTextWhite:B,columns:W,handleSort:this.handleSort,sortable:P,tbodyColor:M,tbodyTextWhite:j,rows:G[K],sorted:$},V))),(I||O)&&o.a.createElement("div",{className:"row"},o.a.createElement(dt,ue({autoWidth:t,bordered:r,borderless:i,btn:s,dark:c,fixed:h,handleTableBodyScroll:this.handleTableBodyScroll,hover:p,maxHeight:g,responsive:E,responsiveSm:S,responsiveMd:k,responsiveLg:C,responsiveXl:T,scrollX:O,scrollY:I,small:A,striped:D,theadColor:L,theadTextWhite:B,columns:W,handleSort:this.handleSort,sortable:P,sorted:$,tbodyColor:M,tbodyTextWhite:j,rows:G[K],translateScrollHead:X},V))),x&&o.a.createElement("div",{className:"row"},o.a.createElement(gt,{activePage:K,entries:q,filteredRows:H,info:v,pages:G,label:m,noRecordsFoundLabel:b}),o.a.createElement(_t,{activePage:K,changeActivePage:this.changeActivePage,pages:G,pagesAmount:w,label:_})))}}]),n}();xt.propTypes={autoWidth:u.a.bool,barReverse:u.a.bool,bordered:u.a.bool,borderless:u.a.bool,btn:u.a.bool,children:u.a.node,className:u.a.string,dark:u.a.bool,data:u.a.oneOfType([u.a.object,u.a.string]),disableRetreatAfterSorting:u.a.bool,displayEntries:u.a.bool,entries:u.a.number,entriesLabel:u.a.oneOfType([u.a.string,u.a.number,u.a.object]),entriesOptions:u.a.arrayOf(u.a.number),exportToCSV:u.a.bool,filter:u.a.string,fixed:u.a.bool,hover:u.a.bool,info:u.a.bool,infoLabel:u.a.oneOfType([u.a.array,u.a.object,u.a.string]),materialSearch:u.a.bool,maxHeight:u.a.string,noBottomColumns:u.a.bool,noRecordsFoundLabel:u.a.string,onPageChange:u.a.func,onSearch:u.a.func,onSort:u.a.func,order:u.a.arrayOf(u.a.string),pagesAmount:u.a.number,paginationLabel:u.a.arrayOf(u.a.string),paging:u.a.bool,proSelect:u.a.bool,responsive:u.a.bool,responsiveLg:u.a.bool,responsiveMd:u.a.bool,responsiveSm:u.a.bool,responsiveXl:u.a.bool,scrollX:u.a.bool,scrollY:u.a.bool,searching:u.a.bool,searchLabel:u.a.string,small:u.a.bool,sortable:u.a.bool,sortRows:u.a.arrayOf(u.a.string),striped:u.a.bool,tbodyColor:u.a.string,tbodyTextWhite:u.a.bool,theadColor:u.a.string,theadTextWhite:u.a.bool},xt.defaultProps={autoWidth:!1,barReverse:!1,bordered:!1,borderless:!1,btn:!1,dark:!1,data:{columns:[],rows:[]},disableRetreatAfterSorting:!1,displayEntries:!0,entries:10,entriesLabel:"Show entries",entriesOptions:[10,20,50,100],exportToCSV:!1,fixed:!1,hover:!1,info:!0,infoLabel:["Showing","to","of","entries"],noRecordsFoundLabel:"No matching records found",noBottomColumns:!1,order:[],pagesAmount:8,paging:!0,paginationLabel:["Previous","Next"],responsive:!1,responsiveSm:!1,responsiveMd:!1,responsiveLg:!1,responsiveXl:!1,searching:!0,searchLabel:"Search",scrollX:!1,scrollY:!1,sortable:!0,small:!1,striped:!1,theadColor:"",theadTextWhite:!1,tbodyColor:"",tbodyTextWhite:!1,proSelect:!1,materialSearch:!1};var Et=function(e){var t=e.color,n=e.columns,r=e.handleSort,i=e.scrollX,s=e.scrollY,u=e.sortable,c=e.sorted,l=e.textWhite,f=a()("mdb-dataTable-head",t&&("dark"!==t&&"light"!==t?t:"thead-".concat(t)),l&&"text-white");return o.a.createElement(o.a.Fragment,null,(s||i)&&o.a.createElement("colgroup",null,n.map((function(e,t){return o.a.createElement("col",{key:e.field+t,style:{width:"".concat(e.width,"px")||!1,minWidth:"".concat(e.width,"px")||!1}})}))),o.a.createElement("thead",{"data-test":"datatable-head",className:f||void 0},o.a.createElement("tr",null,n.map((function(e){return o.a.createElement("th",ue({onClick:function(){return u&&r(e.field,e.sort)},key:e.field,className:a()(e.hasOwnProperty("minimal")?"th-".concat(e.minimal):null,u&&"disabled"!==e.sort&&(c&&e.sort?"sorting_".concat("asc"===e.sort?"desc":"asc"):"sorting"))},e.attributes),e.label)})))))};Et.propTypes={sorted:u.a.bool.isRequired,color:u.a.string,columns:u.a.arrayOf(u.a.object),handleSort:u.a.func,scrollX:u.a.bool,scrollY:u.a.bool,sortable:u.a.bool,textWhite:u.a.bool},Et.defaultProps={scrollX:!1,scrollY:!1,sortable:!0,textWhite:!1};var Ct=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,i=e.btn,a=e.children,s=e.columns,u=e.dark,c=e.fixed,l=e.handleSort,f=e.hover,d=e.noBottomColumns,h=(e.noRecordsFoundLabel,e.responsive),p=e.responsiveLg,v=e.responsiveMd,m=e.responsiveSm,g=e.responsiveXl,y=e.rows,b=e.small,w=e.sortable,_=e.sorted,x=e.striped,E=e.tbodyColor,C=e.tbodyTextWhite,k=e.theadColor,S=e.theadTextWhite,T=(e.checkbox,ve(e,["autoWidth","bordered","borderless","btn","children","columns","dark","fixed","handleSort","hover","noBottomColumns","noRecordsFoundLabel","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","rows","small","sortable","sorted","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","checkbox"]));return o.a.createElement("div",{"data-test":"mdb-datatable-table",className:"col-sm-12"},o.a.createElement(ut,ue({autoWidth:t,bordered:n,borderless:r,btn:i,dark:u,fixed:c,hover:f,responsive:h,responsiveSm:m,responsiveMd:v,responsiveLg:p,responsiveXl:g,small:b,striped:x,className:"mdb-dataTable"},T),o.a.createElement(Et,{color:k,textWhite:S,columns:s,handleSort:l,sortable:w,sorted:_}),o.a.createElement(ct,{color:E,textWhite:C,rows:y,columns:s}),!d&&o.a.createElement(lt,{color:k,textWhite:S,columns:s}),a))};Ct.propTypes={autoWidth:u.a.bool.isRequired,bordered:u.a.bool.isRequired,borderless:u.a.bool.isRequired,btn:u.a.bool.isRequired,dark:u.a.bool.isRequired,fixed:u.a.bool.isRequired,handleSort:u.a.func.isRequired,hover:u.a.bool.isRequired,responsive:u.a.bool.isRequired,responsiveLg:u.a.bool.isRequired,responsiveMd:u.a.bool.isRequired,responsiveSm:u.a.bool.isRequired,responsiveXl:u.a.bool.isRequired,small:u.a.bool.isRequired,sortable:u.a.bool.isRequired,sorted:u.a.bool.isRequired,striped:u.a.bool.isRequired,tbodyColor:u.a.string.isRequired,tbodyTextWhite:u.a.bool.isRequired,theadColor:u.a.string.isRequired,theadTextWhite:u.a.bool.isRequired,children:u.a.node,columns:u.a.arrayOf(u.a.object),noBottomColumns:u.a.bool,rows:u.a.arrayOf(u.a.object)};var kt=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,i=e.btn,a=e.children,s=e.columns,u=e.dark,c=e.fixed,l=e.handleSort,f=e.handleTableBodyScroll,d=e.hover,h=e.maxHeight,p=e.responsive,v=e.responsiveLg,m=e.responsiveMd,g=e.responsiveSm,y=e.responsiveXl,b=e.rows,w=e.scrollX,_=e.scrollY,x=e.small,E=e.sortable,C=e.sorted,k=e.striped,S=e.tbodyColor,T=e.tbodyTextWhite,O=e.theadColor,I=e.theadTextWhite,N=e.translateScrollHead,R=ve(e,["autoWidth","bordered","borderless","btn","children","columns","dark","fixed","handleSort","handleTableBodyScroll","hover","maxHeight","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","rows","scrollX","scrollY","small","sortable","sorted","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","translateScrollHead"]),A=w?"".concat(s.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),"px"):"auto";return o.a.createElement("div",{"data-test":"datatable-table-scroll",className:"col-sm-12"},o.a.createElement("div",{className:"dataTables_scroll"},o.a.createElement("div",{className:"dataTables_scrollHead",style:{overflow:"hidden"}},o.a.createElement("div",{className:"dataTables_scrollHeadInner",style:{position:"relative",transform:"translateX(-".concat(N,"px)"),boxSizing:"content-box",paddingRight:_?"15px":null,minWidth:A}},o.a.createElement(ut,ue({autoWidth:t,bordered:n,borderless:r,btn:i,dark:u,fixed:c,hover:d,responsive:p,responsiveSm:g,responsiveMd:m,responsiveLg:v,responsiveXl:y,small:x,striped:k,className:"dataTable"},R),o.a.createElement(Et,{color:O,textWhite:I,columns:s,handleSort:l,scrollX:w,scrollY:_,sortable:E,sorted:C})))),o.a.createElement("div",{className:"mdb-dataTable_scrollBody",style:{overflow:"auto"},onScroll:f},o.a.createElement(ut,ue({style:{minWidth:A},autoWidth:t,bordered:n,borderless:r,btn:i,dark:u,fixed:c,hover:d,maxHeight:h,responsive:p,responsiveSm:g,responsiveMd:m,responsiveLg:v,responsiveXl:y,scrollY:_,small:x,striped:k,className:"mdb-dataTable"},R),o.a.createElement("colgroup",null,s.map((function(e,t){return o.a.createElement("col",{key:e.field+t,style:{width:"".concat(e.width,"px")||!1,minWidth:"".concat(e.width,"px")||!1}})}))),o.a.createElement(ct,{color:S,textWhite:T,rows:b,columns:s}),a))))};kt.propTypes={autoWidth:u.a.bool.isRequired,bordered:u.a.bool.isRequired,borderless:u.a.bool.isRequired,btn:u.a.bool.isRequired,dark:u.a.bool.isRequired,fixed:u.a.bool.isRequired,handleSort:u.a.func.isRequired,handleTableBodyScroll:u.a.func.isRequired,hover:u.a.bool.isRequired,responsive:u.a.bool.isRequired,responsiveLg:u.a.bool.isRequired,responsiveMd:u.a.bool.isRequired,responsiveSm:u.a.bool.isRequired,responsiveXl:u.a.bool.isRequired,small:u.a.bool.isRequired,sortable:u.a.bool.isRequired,sorted:u.a.bool.isRequired,striped:u.a.bool.isRequired,tbodyColor:u.a.string.isRequired,tbodyTextWhite:u.a.bool.isRequired,theadColor:u.a.string.isRequired,theadTextWhite:u.a.bool.isRequired,translateScrollHead:u.a.number.isRequired,children:u.a.node,columns:u.a.arrayOf(u.a.object),maxHeight:u.a.string,rows:u.a.arrayOf(u.a.object),scrollX:u.a.bool,scrollY:u.a.bool};var St=function(e){var t=e.value,n=e.onChange,r=e.entries,i=e.label,a=e.style,s=(e.barReverse,ve(e,["value","onChange","entries","label","style","barReverse"]));return o.a.createElement("div",{"data-test":"datatable-select",className:"mdb-datatable-length bs-select"},o.a.createElement("label",null,i,o.a.createElement("select",ue({value:t,onChange:function(e){var t=parseInt(e.target.value,10);n(t)},className:"custom-select custom-select-sm form-control form-control-sm",style:le({marginLeft:".5rem"},a)},s),r.map((function(e,t){return o.a.createElement("option",{key:e+t,value:e},e)})))))};St.propTypes={entries:u.a.arrayOf(u.a.number).isRequired,label:u.a.oneOfType([u.a.string,u.a.number,u.a.object]).isRequired,onChange:u.a.func.isRequired,value:u.a.number.isRequired,style:u.a.object};var Tt=function(e){var t=e.handleEntriesChange,n=e.displayEntries,r=e.entries,i=e.entriesArr,s=e.paging,u=e.label,c=e.barReverse,l=e.className,f=e.proSelect,d=ve(e,["handleEntriesChange","displayEntries","entries","entriesArr","paging","label","barReverse","className","proSelect"]),h=a()("mdb-datatable-entries",l);return o.a.createElement("div",{"data-test":"mdb-datatable-entries",className:h},s&&n&&!f&&o.a.createElement(St,ue({value:r,onChange:t,entries:i,label:u,barReverse:c},d)))};Tt.propTypes={displayEntries:u.a.bool.isRequired,entries:u.a.number.isRequired,entriesArr:u.a.arrayOf(u.a.number).isRequired,handleEntriesChange:u.a.func.isRequired,label:u.a.oneOfType([u.a.number,u.a.object,u.a.string]).isRequired,paging:u.a.bool.isRequired,barReverse:u.a.bool,proSelect:u.a.bool};var Ot=function(e){var t=e.value,n=e.onChange,r=e.label,i=e.barReverse,s=e.materialSearch;return o.a.createElement("div",{"data-test":"datatable-input",className:a()("mdb-datatable-filter","flex-row",i&&"text-left")},s?o.a.createElement(qt,{hint:"Search",containerClass:"mt-0",value:t,onChange:n,type:"search",className:"form-control form-control-sm",placeholder:r||"Search"}):o.a.createElement("input",{className:"form-control form-control-sm ml-0 my-1",type:"text",placeholder:r||"Search","aria-label":"Search",value:t,onChange:n}))};Ot.propTypes={barReverse:u.a.bool,label:u.a.string,onChange:u.a.func,value:u.a.oneOfType([u.a.string,u.a.object,u.a.array,u.a.number])};var It=function(e){var t=e.handleSearchChange,n=e.search,r=e.searching,i=e.label,a=e.barReverse,s=e.wrapperSearchStyle,u=e.wrapperSearchClasses,c=e.materialSearch,l=ve(e,["handleSearchChange","search","searching","label","barReverse","wrapperSearchStyle","wrapperSearchClasses","materialSearch"]);return r&&o.a.createElement("div",{"data-test":"datatable-search",style:le({display:"flex",alignItems:"center"},s),className:u},o.a.createElement(Ot,ue({value:n,onChange:t,label:i,barReverse:a,materialSearch:c},l)))};It.propTypes={handleSearchChange:u.a.func.isRequired,search:u.a.string.isRequired,searching:u.a.bool.isRequired,barReverse:u.a.bool,label:u.a.string,materialSearch:u.a.bool};var Nt=function(e){var t=e.activePage,n=e.entries,r=e.filteredRows,i=e.info,a=e.label,s=e.noRecordsFoundLabel,u=e.pages,c=a[0],l=a[1],f=a[2],d=a[3],h=r.length>0&&r[0].message===s,p=t>0?t*n+1:t+1,v=u.length-1>t?u[t].length*(t+1):r.length,m=r.length;return o.a.createElement(o.a.Fragment,null,i&&o.a.createElement("div",{"data-test":"datatable-info",className:"mdb-datatable-info d-flex align-items-center"},o.a.createElement("div",{role:"status","aria-live":"polite"},h?"".concat(c," 0 ").concat(d):"".concat(c," ").concat(p," ").concat(l," ").concat(v," ").concat(f," ").concat(m," ").concat(d))))};Nt.propTypes={activePage:u.a.number.isRequired,entries:u.a.number.isRequired,filteredRows:u.a.array.isRequired,info:u.a.bool.isRequired,noRecordsFoundLabel:u.a.string.isRequired,pages:u.a.array.isRequired,label:u.a.arrayOf(u.a.string)},Nt.defaultProps={label:["Showing","to","of","entries"]};var Rt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{pages:e.props.pages,pGroups:[]}),se(me(e),"componentDidUpdate",(function(t){var n=e.props.pages;t.pages!==n&&e.setState({pages:n},(function(){return e.groupPages()}))})),se(me(e),"pagesIndexify",(function(){var t=be(e.state.pages);return t.forEach((function(e,t){return e.index=t})),t})),se(me(e),"groupPages",(function(){for(var t=[],n=e.pagesIndexify(),r=e.props.pagesAmount;n.length>0;)t.push(n.splice(0,r));e.setState({pGroups:t})})),se(me(e),"choosePagesGroup",(function(){var t=e.props,n=t.activePage,r=t.pagesAmount,o=e.state.pGroups,i=Math.floor(n/r);return o.length?o[i]:[]})),e}return ae(n,[{key:"componentDidMount",value:function(){this.groupPages()}},{key:"render",value:function(){var e=this.props,t=e.activePage,n=e.changeActivePage,r=e.pages,i=e.label,a=e.fullPagination,s=e.pagesNumber;return o.a.createElement("div",{"data-test":"datatable-pagination"},o.a.createElement("div",{className:"mdb-dataTables_paginate"},o.a.createElement(yt,{className:"m-0"},a&&o.a.createElement(bt,{disabled:t<=0},o.a.createElement(wt,{className:"page-link","aria-label":i[0],onClick:function(){return n(0)}},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-angle-double-left"})))),o.a.createElement(bt,{disabled:t<=0},o.a.createElement(wt,{className:"page-link","aria-label":i[0],onClick:function(){return n(t-1)}},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-chevron-left"})))),s&&this.choosePagesGroup().map((function(e,r){return o.a.createElement(bt,{key:Object.keys(e[0])[0]+e.index+r,active:e.index===t},o.a.createElement(wt,{className:"page-link",onClick:function(){return n(e.index)}},e.index+1,e.index===t&&o.a.createElement("span",{className:"sr-only"},"(current)")))})),o.a.createElement(bt,{disabled:!r.length||t===r.length-1},o.a.createElement(wt,{className:"page-link","aria-label":i[1],onClick:function(){return n(t+1)}},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-chevron-right"})))),a&&o.a.createElement(bt,{disabled:!r.length||t===r.length-1},o.a.createElement(wt,{className:"page-link","aria-label":i[1],onClick:function(){return n(r.length-1)}},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-angle-double-right"})))))))}}]),n}();Rt.propTypes={activePage:u.a.number.isRequired,changeActivePage:u.a.func.isRequired,label:u.a.arrayOf(u.a.string).isRequired,pages:u.a.array.isRequired,pagesAmount:u.a.number.isRequired,fullPagination:u.a.bool,pagesNumber:u.a.bool},Pe('div.mdb-datatable div.mdb-datatable-length select,\ndiv.mdb-datatable div.mdb-datatable-length input {\n  width: auto; }\n\ndiv.mdb-datatable div.mdb-datatable-length.d-flex.flex-row label {\n  margin-top: 1.2rem;\n  margin-right: 1rem; }\n\ndiv.mdb-datatable div.mdb-datatable-length.d-flex.flex-row .select-wrapper.mdb-select span,\ndiv.mdb-datatable div.mdb-datatable-length.d-flex.flex-row .select-wrapper.mdb-select .select-dropdown {\n  margin-top: 1rem; }\n\ndiv.mdb-datatable div.mdb-datatable-length label, div.mdb-datatable div.mdb-datatable-filter label {\n  font-weight: 400;\n  text-align: left;\n  margin-bottom: 0; }\n\ndiv.mdb-datatable div.mdb-datatable-filter {\n  text-align: right; }\n  div.mdb-datatable div.mdb-datatable-filter select,\n  div.mdb-datatable div.mdb-datatable-filter input {\n    width: auto; }\n  div.mdb-datatable div.mdb-datatable-filter input {\n    display: inline-block;\n    margin-left: .5rem; }\n\ndiv.mdb-datatable div.mdb-datatable-info, div.mdb-datatable div.mdb-dataTables_paginate, div.mdb-datatable div.mdb-datatable-entries {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  font-weight: 400;\n  font-size: .9rem;\n  padding-left: .7rem;\n  padding-right: .7rem; }\n\ndiv.mdb-datatable div.mdb-datatable-info {\n  display: flex;\n  justify-content: center; }\n\ndiv.mdb-datatable div.mdb-dataTables_paginate {\n  margin: 0;\n  text-align: right; }\n  div.mdb-datatable div.mdb-dataTables_paginate ul.pagination {\n    -ms-flex-pack: end;\n    -webkit-justify-content: flex-end;\n    justify-content: flex-end;\n    -webkit-box-pack: end; }\n    div.mdb-datatable div.mdb-dataTables_paginate ul.pagination .page-item.active .page-link {\n      background-color: #7e7e7e; }\n      div.mdb-datatable div.mdb-dataTables_paginate ul.pagination .page-item.active .page-link:focus {\n        background-color: #7e7e7e; }\n    div.mdb-datatable div.mdb-dataTables_paginate ul.pagination .page-item .page-link:focus {\n      -webkit-box-shadow: none;\n      box-shadow: none; }\n\n@media (max-width: 767px) {\n  div.mdb-datatable div .mdb-datatable-length,\n  div.mdb-datatable div .mdb-datatable-filter,\n  div.mdb-datatable div .mdb-datatable-info,\n  div.mdb-datatable div .mdb-dataTables_paginate ul.pagination {\n    -ms-flex-pack: center;\n    -webkit-justify-content: center;\n    justify-content: center;\n    text-align: center;\n    -webkit-box-pack: center; } }\n\n.bs-select select {\n  display: inline-block !important; }\n\ntable.mdb-dataTable thead,\ntable thead.mdb-dataTable-head {\n  cursor: pointer; }\n  table.mdb-dataTable thead th,\n  table thead.mdb-dataTable-head th {\n    font-weight: 600; }\n  table.mdb-dataTable thead > tr > th.sorting_asc, table.mdb-dataTable thead > tr > th.sorting_desc, table.mdb-dataTable thead > tr > th.sorting,\n  table.mdb-dataTable thead > tr > td.sorting_asc,\n  table.mdb-dataTable thead > tr > td.sorting_desc,\n  table.mdb-dataTable thead > tr > td.sorting,\n  table thead.mdb-dataTable-head > tr > th.sorting_asc,\n  table thead.mdb-dataTable-head > tr > th.sorting_desc,\n  table thead.mdb-dataTable-head > tr > th.sorting,\n  table thead.mdb-dataTable-head > tr > td.sorting_asc,\n  table thead.mdb-dataTable-head > tr > td.sorting_desc,\n  table thead.mdb-dataTable-head > tr > td.sorting {\n    padding-right: 30px; }\n  table.mdb-dataTable thead > tr > th:active,\n  table.mdb-dataTable thead > tr > td:active,\n  table thead.mdb-dataTable-head > tr > th:active,\n  table thead.mdb-dataTable-head > tr > td:active {\n    outline: none; }\n  table.mdb-dataTable thead .sorting,\n  table.mdb-dataTable thead .sorting_asc,\n  table.mdb-dataTable thead .sorting_desc,\n  table.mdb-dataTable thead .sorting_asc_disabled,\n  table.mdb-dataTable thead .sorting_desc_disabled,\n  table thead.mdb-dataTable-head .sorting,\n  table thead.mdb-dataTable-head .sorting_asc,\n  table thead.mdb-dataTable-head .sorting_desc,\n  table thead.mdb-dataTable-head .sorting_asc_disabled,\n  table thead.mdb-dataTable-head .sorting_desc_disabled {\n    position: relative;\n    cursor: pointer; }\n    table.mdb-dataTable thead .sorting:before, table.mdb-dataTable thead .sorting:after,\n    table.mdb-dataTable thead .sorting_asc:before,\n    table.mdb-dataTable thead .sorting_asc:after,\n    table.mdb-dataTable thead .sorting_desc:before,\n    table.mdb-dataTable thead .sorting_desc:after,\n    table.mdb-dataTable thead .sorting_asc_disabled:before,\n    table.mdb-dataTable thead .sorting_asc_disabled:after,\n    table.mdb-dataTable thead .sorting_desc_disabled:before,\n    table.mdb-dataTable thead .sorting_desc_disabled:after,\n    table thead.mdb-dataTable-head .sorting:before,\n    table thead.mdb-dataTable-head .sorting:after,\n    table thead.mdb-dataTable-head .sorting_asc:before,\n    table thead.mdb-dataTable-head .sorting_asc:after,\n    table thead.mdb-dataTable-head .sorting_desc:before,\n    table thead.mdb-dataTable-head .sorting_desc:after,\n    table thead.mdb-dataTable-head .sorting_asc_disabled:before,\n    table thead.mdb-dataTable-head .sorting_asc_disabled:after,\n    table thead.mdb-dataTable-head .sorting_desc_disabled:before,\n    table thead.mdb-dataTable-head .sorting_desc_disabled:after {\n      position: absolute;\n      bottom: 1rem;\n      display: block;\n      opacity: 0; }\n  table.mdb-dataTable thead .sorting:hover::before,\n  table thead.mdb-dataTable-head .sorting:hover::before {\n    opacity: 0.6; }\n  table.mdb-dataTable thead .sorting:before,\n  table.mdb-dataTable thead .sorting_asc:before,\n  table.mdb-dataTable thead .sorting_desc:before,\n  table.mdb-dataTable thead .sorting_asc_disabled:before,\n  table.mdb-dataTable thead .sorting_desc_disabled:before,\n  table thead.mdb-dataTable-head .sorting:before,\n  table thead.mdb-dataTable-head .sorting_asc:before,\n  table thead.mdb-dataTable-head .sorting_desc:before,\n  table thead.mdb-dataTable-head .sorting_asc_disabled:before,\n  table thead.mdb-dataTable-head .sorting_desc_disabled:before {\n    left: -.4rem;\n    font-family: "Font Awesome\\ 5 Free", sans-serif;\n    font-size: 1rem;\n    font-weight: 900;\n    content: "\\f062"; }\n  table.mdb-dataTable thead .sorting:after,\n  table.mdb-dataTable thead .sorting_asc:after,\n  table.mdb-dataTable thead .sorting_desc:after,\n  table.mdb-dataTable thead .sorting_asc_disabled:after,\n  table.mdb-dataTable thead .sorting_desc_disabled:after,\n  table thead.mdb-dataTable-head .sorting:after,\n  table thead.mdb-dataTable-head .sorting_asc:after,\n  table thead.mdb-dataTable-head .sorting_desc:after,\n  table thead.mdb-dataTable-head .sorting_asc_disabled:after,\n  table thead.mdb-dataTable-head .sorting_desc_disabled:after {\n    left: -.4rem;\n    font-family: "Font Awesome\\ 5 Free", sans-serif;\n    font-size: 1rem;\n    font-weight: 900;\n    content: "\\f063"; }\n  table.mdb-dataTable thead .sorting_asc:before,\n  table.mdb-dataTable thead .sorting_desc:after,\n  table thead.mdb-dataTable-head .sorting_asc:before,\n  table thead.mdb-dataTable-head .sorting_desc:after {\n    opacity: 1; }\n  table.mdb-dataTable thead .sorting_asc_disabled:before,\n  table.mdb-dataTable thead .sorting_desc_disabled:after,\n  table thead.mdb-dataTable-head .sorting_asc_disabled:before,\n  table thead.mdb-dataTable-head .sorting_desc_disabled:after {\n    opacity: 0; }\n\n.mdb-dataTable_scrollBodyHead .dataTables_scrollHeadInner,\n.mdb-dataTable_scrollBodyHead .dataTables_scrollHeadInner table {\n  padding-right: 0 !important;\n  margin-right: 0 !important;\n  width: 100% !important; }\n\n.mdb-dataTable_scrollBodyHead .dataTables_scrollHeadInner table {\n  margin-bottom: 0 !important; }\n\n.dataTables_scrollFoot .dataTables_scrollFootInner,\n.dataTables_scrollFoot .dataTables_scrollFootInner table {\n  padding-right: 0 !important;\n  margin-right: 0 !important;\n  width: 100% !important; }\n\n.mdb-datatable table tr {\n  border-bottom: 1px solid #dee2e6; }\n'),Pe("table.mdb-dataTable tbody > tr.selected,\ntable.mdb-dataTable tbody > tr > .selected {\n  background-color: #f5f5f5; }\n\ntable.mdb-dataTable tbody > tr:not(.selected):hover {\n  background-color: rgba(245, 245, 245, 0.4); }\n\ntable.mdb-dataTable.stripe tbody > tr.odd.selected,\ntable.mdb-dataTable.stripe tbody > tr.odd > .selected, table.mdb-dataTable.display tbody > tr.odd.selected,\ntable.mdb-dataTable.display tbody > tr.odd > .selected {\n  background-color: #acbad4; }\n\ntable.mdb-dataTable.hover tbody > tr.selected:hover,\ntable.mdb-dataTable.hover tbody > tr > .selected:hover, table.mdb-dataTable.display tbody > tr.selected:hover,\ntable.mdb-dataTable.display tbody > tr > .selected:hover {\n  background-color: #aab7d1; }\n\ntable.mdb-dataTable.order-column tbody > tr.selected > .sorting_1,\ntable.mdb-dataTable.order-column tbody > tr.selected > .sorting_2,\ntable.mdb-dataTable.order-column tbody > tr.selected > .sorting_3, table.mdb-dataTable.display tbody > tr.selected > .sorting_1,\ntable.mdb-dataTable.display tbody > tr.selected > .sorting_2,\ntable.mdb-dataTable.display tbody > tr.selected > .sorting_3 {\n  background-color: #acbad5; }\n\ntable.mdb-dataTable.order-column tbody > tr > .selected, table.mdb-dataTable.display tbody > tr > .selected {\n  background-color: #acbad5; }\n\ntable.mdb-dataTable.display tbody > tr.odd.selected > .sorting_1, table.mdb-dataTable.order-column.stripe tbody > tr.odd.selected > .sorting_1 {\n  background-color: #a6b4cd; }\n\ntable.mdb-dataTable.display tbody > tr.odd.selected > .sorting_2,\ntable.mdb-dataTable.order-column.stripe tbody > tr.odd.selected > .sorting_2 {\n  background-color: #a8b5cf; }\n\ntable.mdb-dataTable.display tbody > tr.odd.selected > .sorting_3,\ntable.mdb-dataTable.order-column.stripe tbody > tr.odd.selected > .sorting_3 {\n  background-color: #a9b7d1; }\n\ntable.mdb-dataTable.display tbody > tr.even.selected > .sorting_1,\ntable.mdb-dataTable.order-column.stripe tbody > tr.even.selected > .sorting_1 {\n  background-color: #acbad5; }\n\ntable.mdb-dataTable.display tbody > tr.even.selected > .sorting_2,\ntable.mdb-dataTable.order-column.stripe tbody > tr.even.selected > .sorting_2 {\n  background-color: #aebcd6; }\n\ntable.mdb-dataTable.display tbody > tr.even.selected > .sorting_3,\ntable.mdb-dataTable.order-column.stripe tbody > tr.even.selected > .sorting_3 {\n  background-color: #afbdd8; }\n\ntable.mdb-dataTable.display tbody > tr.odd > .selected,\ntable.mdb-dataTable.order-column.stripe tbody > tr.odd > .selected {\n  background-color: #a6b4cd; }\n\ntable.mdb-dataTable.display tbody > tr.even > .selected,\ntable.mdb-dataTable.order-column.stripe tbody > tr.even > .selected {\n  background-color: #acbad5; }\n\ntable.mdb-dataTable.display tbody > tr.selected:hover > .sorting_1,\ntable.mdb-dataTable.order-column.hover tbody > tr.selected:hover > .sorting_1 {\n  background-color: #a2aec7; }\n\ntable.mdb-dataTable.display tbody > tr.selected:hover > .sorting_2,\ntable.mdb-dataTable.order-column.hover tbody > tr.selected:hover > .sorting_2 {\n  background-color: #a3b0c9; }\n\ntable.mdb-dataTable.display tbody > tr.selected:hover > .sorting_3,\ntable.mdb-dataTable.order-column.hover tbody > tr.selected:hover > .sorting_3 {\n  background-color: #a5b2cb; }\n\ntable.mdb-dataTable.display tbody > tr:hover > .selected,\ntable.mdb-dataTable.display tbody > tr > .selected:hover, table.mdb-dataTable.order-column.hover tbody > tr:hover > .selected,\ntable.mdb-dataTable.order-column.hover tbody > tr > .selected:hover {\n  background-color: #a2aec7; }\n\ntable.mdb-dataTable tbody td.select-checkbox, table.mdb-dataTable tbody td.select-checkbox-all,\ntable.mdb-dataTable tbody th.select-checkbox,\ntable.mdb-dataTable tbody th.select-checkbox-all,\ntable.mdb-dataTable thead td.select-checkbox,\ntable.mdb-dataTable thead td.select-checkbox-all,\ntable.mdb-dataTable thead th.select-checkbox,\ntable.mdb-dataTable thead th.select-checkbox-all {\n  position: relative; }\n  table.mdb-dataTable tbody td.select-checkbox:before, table.mdb-dataTable tbody td.select-checkbox:after, table.mdb-dataTable tbody td.select-checkbox-all:before, table.mdb-dataTable tbody td.select-checkbox-all:after,\n  table.mdb-dataTable tbody th.select-checkbox:before,\n  table.mdb-dataTable tbody th.select-checkbox:after,\n  table.mdb-dataTable tbody th.select-checkbox-all:before,\n  table.mdb-dataTable tbody th.select-checkbox-all:after,\n  table.mdb-dataTable thead td.select-checkbox:before,\n  table.mdb-dataTable thead td.select-checkbox:after,\n  table.mdb-dataTable thead td.select-checkbox-all:before,\n  table.mdb-dataTable thead td.select-checkbox-all:after,\n  table.mdb-dataTable thead th.select-checkbox:before,\n  table.mdb-dataTable thead th.select-checkbox:after,\n  table.mdb-dataTable thead th.select-checkbox-all:before,\n  table.mdb-dataTable thead th.select-checkbox-all:after {\n    position: absolute;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    left: 50%;\n    box-sizing: border-box;\n    display: block;\n    width: 20px;\n    height: 20px; }\n  table.mdb-dataTable tbody td.select-checkbox:hover, table.mdb-dataTable tbody td.select-checkbox-all:hover,\n  table.mdb-dataTable tbody th.select-checkbox:hover,\n  table.mdb-dataTable tbody th.select-checkbox-all:hover,\n  table.mdb-dataTable thead td.select-checkbox:hover,\n  table.mdb-dataTable thead td.select-checkbox-all:hover,\n  table.mdb-dataTable thead th.select-checkbox:hover,\n  table.mdb-dataTable thead th.select-checkbox-all:hover {\n    cursor: pointer; }\n\ntable.mdb-dataTable tbody td.select-checkbox:before,\ntable.mdb-dataTable tbody th.select-checkbox.select-checkbox-all:before,\ntable.mdb-dataTable thead td.select-checkbox:before,\ntable.mdb-dataTable thead th.select-checkbox.select-checkbox-all:before {\n  content: ' ';\n  border: 2px solid #5a5a5a;\n  border-radius: 3px; }\n\ntable.mdb-dataTable tr.selected td.select-checkbox:after,\ntable.mdb-dataTable tr.selected th.select-checkbox:after {\n  margin-top: 0;\n  text-align: center;\n  font-family: 'Font Awesome\\ 5 Free', sans-serif;\n  font-size: 0.9rem;\n  font-weight: 600;\n  content: '\\f00c';\n  background-color: #a6c;\n  box-shadow: 0 0 1em #5a5a5a;\n  color: #fff; }\n\ndiv.mdb-datatable span.select-info, div.mdb-datatable span.select-item {\n  margin-left: 0.5em; }\n\n@media screen and (max-width: 640px) {\n  div.mdb-datatable span.select-info, div.mdb-datatable span.select-item {\n    display: block;\n    margin-left: 0; } }\n");var At=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{activePage:0,columns:e.props.data.columns||[],entries:e.props.entries,filteredRows:e.props.data.rows||[],filterOptions:[],order:e.props.order||[],pages:[],rows:e.props.data.rows||[],search:"",searchSelect:"",sorted:!1,translateScrollHead:0,unsearchable:[],headCheckBox:!1,disableHeadCheckbox:!1}),se(me(e),"handleCheckBoxChange",(function(t,n){var r=e.props,o=r.getValueCheckBox,i=r.multipleCheckboxes,a=r.getValueCheckboxes,s=e.state,u=s.columns,c=be(s.rows).map((function(e,t){return n===t?le(le({},e),{},{checked:!e.checked}):i?le({},e):le(le({},e),{},{checked:!1})})),l=c.filter((function(e){return!0===e.checked}));e.setData(c,u,e.paginateRows),e.setState({filteredRows:c},(function(){e.filterRows()})),o&&o(c[n]),a&&a(l)})),se(me(e),"handleAllCheckBoxes",(function(){var t=e.props.getValueAllCheckBoxes,n=e.state,r=n.rows,o=n.headCheckBox,i=n.columns,a=be(r).map((function(e){var t=e.checked;return le(le({},e),{},!t&&!o||t&&!o?{checked:!0}:{checked:!1})}));e.setData(a,i,e.paginateRows),e.setState({headCheckBox:!o,filteredRows:a},(function(){e.filterRows()})),t&&t(a)})),se(me(e),"setData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;e.setState((function(){return{columns:n,rows:t,filteredRows:e.props.disableRetreatAfterSorting?e.filterRows():t}}),r&&"function"==typeof r&&function(){return r()})})),se(me(e),"setUnsearchable",(function(t){var n=[];t.forEach((function(e){void 0!==e.searchable&&!1===e.searchable&&n.push(e.field)})),e.setState({unsearchable:n})})),se(me(e),"fetchData",(function(t,n){fetch(t).then((function(e){return e.json()})).then((function(t){return e.setData(t.rows,t.columns,n?e.paginateRows:null)})).catch((function(e){return console.log(e)}))})),se(me(e),"pagesAmount",(function(){return Math.ceil(e.state.filteredRows.length/e.state.entries)})),se(me(e),"paginateRowsInitialy",(function(){for(var t=e.state,n=t.rows,r=t.entries,o=t.pages,i=e.pagesAmount(),a=1;a<=i;a++){var s=a*r;o.push(n.slice(s-r,s))}})),se(me(e),"handleEntriesChange",(function(t){e.setState({entries:Array.isArray(t)?t[0]:t},(function(){return e.paginateRows()}))})),se(me(e),"handleSearchChange",(function(t){e.setState({search:t.target.value},(function(){return e.filterRows()}),e.props.onSearch&&"function"==typeof e.props.onSearch&&e.props.onSearch(t.target.value))})),se(me(e),"checkFieldValue",(function(e,t){return e[t]&&"string"!=typeof e[t]?e[t].props.searchvalue:e[t]})),se(me(e),"checkField",(function(t,n,r,o){var i=[e.checkFieldValue(n,t),e.checkFieldValue(r,t)],a=i[0]>i[1]?-1:1;return"asc"===o&&(a*=-1),a})),se(me(e),"sort",(function(t,n,r,o){t.sort((function(t,i){return n&&n.includes(r)?e.checkField(r,t,i,o):"asc"===o?t[r]<i[r]?-1:1:t[r]>i[r]?-1:1}))})),se(me(e),"handleSort",(function(t,n){var r=e.props,o=r.onSort,i=r.sortRows,a=e.state.direction;"disabled"!==n&&(e.setState({direction:!a}),e.setState((function(n){var r=n.rows,o=n.columns,a=n.direction,s=be(r),u=a?"asc":"desc";return e.sort(s,i,t,u),be(o).forEach((function(e){"disabled"!==e.sort&&(e.sort=e.field===t?u:"")})),{rows:s,columns:o,sorted:!0}}),(function(){return e.filterRows()})),o&&"function"==typeof o&&o({column:t,direction:"desc"===n?"desc":"asc"}))})),se(me(e),"filterRows",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.search,n=e.state.unsearchable,r=e.props,o=r.sortRows,i=r.noRecordsFoundLabel,a=r.disableRetreatAfterSorting,s=r.checkbox,u=r.startPage;e.setState((function(e){var r=e.rows.filter((function(e){for(var r in e)if(!(n.length&&n.includes(r)||"function"==typeof e[r])){var i="";if(o&&"string"!=typeof e[r]?(a=void 0,a=[],function e(t){return"object"===re(t)?t.props.children&&Array.from(t.props.children).map((function(t){return e(t)})):a.push(t)}(e[r]),i=a.join("")):e[r]&&(i=e[r].toString()),i.toLowerCase().includes(t.toLowerCase()))return!0}var a;return!1}));return 0===r.length&&r.push({message:i,colspan:e.columns.length,disabled:!0}),a||s?{filteredRows:r,activePage:e.activePage=e.activePage<e.pages.length||0===e.activePage?e.activePage:e.pages.length-1}:{filteredRows:r,activePage:u}}),(function(){return e.paginateRows()}))})),se(me(e),"paginateRows",(function(){var t=e.pagesAmount();e.setState((function(n){var r=n.pages,o=n.entries,i=n.filteredRows,a=n.activePage,s=e.props,u=s.paging,c=s.disableRetreatAfterSorting,l=s.checkbox;if(r=[],u){for(var f=1;f<=t;f++){var d=f*o;r.push(i.slice(d-o,d))}c&&!l||(a=a<r.length||0===a?a:r.length-1)}else r.push(i),a=0;return{pages:r,filteredRows:i,activePage:a}}))})),se(me(e),"changeActivePage",(function(t){var n=e.props.onPageChange;e.setState({activePage:t}),n&&"function"==typeof n&&n({activePage:t+1,pagesAmount:e.pagesAmount()})})),se(me(e),"handleTableBodyScroll",(function(t){e.setState({translateScrollHead:t.target.scrollLeft})})),se(me(e),"appendSearchDepend",(function(){var t=e.props,n=t.barReverse,r=t.searching,i=t.searchLabel,a=t.searchBottom,s=t.entries,u=t.paging,c=t.displayEntries,l=t.entriesLabel,f=t.entriesOptions,d=t.pagingTop,h=t.searchTop,p=t.materialSearch,v=e.state.search;return o.a.createElement("div",{className:"row".concat(n?" flex-row-reverse":""," ").concat(a?"ml-3":"ml-1"," justify-content-between")},o.a.createElement(It,{handleSearchChange:e.handleSearchChange,search:v,searching:r,label:i,barReverse:n,wrapperSearchClasses:"".concat(n&&"mr-3"),materialSearch:p}),h&&d&&o.a.createElement(Tt,{paging:u,displayEntries:c,entries:s,handleEntriesChange:e.handleEntriesChange,entriesArr:f,label:l,barReverse:n,className:"".concat(!n&&"mr-2")}))})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.data,r=t.paging,i=t.checkbox,a=t.checkboxFirstColumn,s=t.filledCheckboxes,u=t.multipleCheckboxes,c=t.headCheckboxID,l=t.proCheckboxes,f=this.state,d=f.order,h=f.columns,p=f.pages,v=f.rows,m=f.headCheckBox,g=f.disableHeadCheckbox;if("string"==typeof n&&this.fetchData(n,this.paginateRows),i){var y={label:u?l?o.a.createElement(qt,{type:"checkbox",onChange:this.handleAllCheckBoxes,id:c,checked:!!m,value:m,"aria-checked":m,filled:s}):o.a.createElement("div",{className:"custom-control custom-checkbox text-center"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.handleAllCheckBoxes,id:c,checked:!!m,value:m,"aria-checked":m}),o.a.createElement("label",{className:"custom-control-label",htmlFor:c})):"",field:"checkbox",sort:"disabled",width:150};a?this.setState((function(e){return{columns:[].concat(be(e.columns),[y])}})):this.setState((function(e){return{columns:[y].concat(be(e.columns))}}));var b=be(v).map((function(t,n){return le(le({},t),{},{checked:!1,checkbox:l?o.a.createElement(qt,{type:"checkbox",onChange:e.handleAllCheckBoxes,id:c,checked:!!m,value:m,"aria-checked":m,filled:s,disabled:g}):o.a.createElement("div",{className:"custom-control custom-checkbox text-center"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:e.handleAllCheckBoxes,id:c,checked:!!m,value:m,"aria-checked":m,disabled:g}),o.a.createElement("label",{className:"custom-control-label",htmlFor:c}))})}));this.setState({rows:b})}d.length>0?this.handleSort(d[0],d[1]):this.handleSort(),this.setUnsearchable(h),r?this.paginateRowsInitialy():p.push(v)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.state,i=r.columns,a=r.rows,s=r.activePage,u=r.headCheckBox,c=r.disableHeadCheckbox,l=r.filteredRows,f=this.props,d=f.data,h=f.checkbox,p=f.filledCheckboxes,v=f.multipleCheckboxes,m=f.headCheckboxID,g=f.bodyCheckboxID,y=f.proCheckboxes;if(h&&(v&&t.filteredRows!==l&&(l[0].disabled?this.setState({disableHeadCheckbox:!0}):this.setState({disableHeadCheckbox:!1})),t.rows!==a)){if(v){var b=be(a).filter((function(e){return e.checked})),w=be(i).map((function(e){return"checkbox"!==e.field?le({},e):le(le({},e),{},{label:y?o.a.createElement(qt,{type:"checkbox",onChange:function(e){return n.handleAllCheckBoxes(e)},id:m,checked:!!u,value:u,"aria-checked":u,filled:p,disabled:c}):o.a.createElement("div",{className:"custom-control custom-checkbox text-center"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:function(e){return n.handleAllCheckBoxes(e)},id:m,checked:!!u,value:u,"aria-checked":u,disabled:c}),o.a.createElement("label",{className:"custom-control-label",htmlFor:m}))})}));this.setData(a,w,this.paginateRows),this.setState({headCheckBox:!1},(function(){n.filterRows()})),b.length===a.length?this.setState({headCheckBox:!0}):this.setState({headCheckBox:!1})}for(var _=0;_<a.length;_++)if(t.rows[_].checked!==a[_].checked){var x=be(a).map((function(e,t){var r=e.checked;return le(le({},e),{},{checkbox:y?o.a.createElement(qt,{type:"checkbox",onChange:function(r){return n.handleCheckBoxChange(e,t)},id:g+t,checked:r,value:r,"aria-checked":r,filled:p}):o.a.createElement("div",{className:"custom-control custom-checkbox text-center"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:function(r){return n.handleCheckBoxChange(e,t)},id:g+t,checked:r,value:r,"aria-checked":r}),o.a.createElement("label",{className:"custom-control-label",htmlFor:g+t}))})}));this.setData(x,i)}}t.activePage!==s&&this.changeActivePage(s),e.data!==d&&("string"==typeof d?this.fetchData(d):this.setData(d.rows,d.columns,this.paginateRows),this.setUnsearchable(i),this.filterRows())}},{key:"render",value:function(){var e=this.props,t=e.autoWidth,n=e.barReverse,r=e.bordered,i=e.borderless,s=e.btn,u=(e.checkboxFirstColumn,e.children,e.className),c=e.dark,l=(e.data,e.disableRetreatAfterSorting,e.displayEntries),f=e.entriesLabel,d=e.entriesOptions,h=(e.exportToCSV,e.filledCheckboxes,e.filter,e.fixed),p=e.fullPagination,v=(e.getValueAllCheckBoxes,e.getValueCheckBox,e.getValueCheckboxes,e.hover),m=e.info,g=e.infoLabel,y=e.maxHeight,b=e.noBottomColumns,w=e.noRecordsFoundLabel,_=(e.onPageChange,e.onSearch,e.onSort,e.order,e.pagesAmount),x=e.paginationLabel,E=e.paging,C=(e.proCheckboxes,e.responsive),k=e.responsiveLg,S=e.responsiveMd,T=e.responsiveSm,O=e.responsiveXl,I=e.scrollX,N=e.scrollY,R=e.searchBottom,A=(e.searching,e.searchLabel,e.searchTop),P=e.small,D=(e.startPage,e.multipleCheckboxes,e.bodyCheckboxID,e.headCheckboxID,e.sortable),M=(e.sortRows,e.striped),j=e.tbodyColor,L=e.tbodyTextWhite,F=e.theadColor,B=e.theadTextWhite,U=e.proSelect,V=e.pagingTop,z=(e.materialSearch,ve(e,["autoWidth","barReverse","bordered","borderless","btn","checkboxFirstColumn","children","className","dark","data","disableRetreatAfterSorting","displayEntries","entriesLabel","entriesOptions","exportToCSV","filledCheckboxes","filter","fixed","fullPagination","getValueAllCheckBoxes","getValueCheckBox","getValueCheckboxes","hover","info","infoLabel","maxHeight","noBottomColumns","noRecordsFoundLabel","onPageChange","onSearch","onSort","order","pagesAmount","paginationLabel","paging","proCheckboxes","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","scrollX","scrollY","searchBottom","searching","searchLabel","searchTop","small","startPage","multipleCheckboxes","bodyCheckboxID","headCheckboxID","sortable","sortRows","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","proSelect","pagingTop","materialSearch"])),W=this.state,q=W.columns,H=W.entries,G=W.filteredRows,K=(W.filterOptions,W.pages),Y=W.activePage,$=W.sorted,X=W.translateScrollHead,Q=a()("mdb-datatable dt-bootstrap4",u);return o.a.createElement("div",{"data-test":"datatable",className:Q},A&&!R&&this.appendSearchDepend(),!N&&!I&&o.a.createElement("div",{className:"row"},o.a.createElement(Ct,ue({autoWidth:t,bordered:r,borderless:i,btn:s,dark:c,fixed:h,hover:v,noBottomColumns:b,noRecordsFoundLabel:w,responsive:C,responsiveSm:T,responsiveMd:S,responsiveLg:k,responsiveXl:O,small:P,striped:M,theadColor:F,theadTextWhite:B,columns:q,handleSort:this.handleSort,sortable:D,tbodyColor:j,tbodyTextWhite:L,rows:K[Y],sorted:$},z))),(N||I)&&o.a.createElement("div",{className:"row"},o.a.createElement(kt,ue({autoWidth:t,bordered:r,borderless:i,btn:s,dark:c,fixed:h,handleTableBodyScroll:this.handleTableBodyScroll,hover:v,maxHeight:y,responsive:C,responsiveSm:T,responsiveMd:S,responsiveLg:k,responsiveXl:O,scrollX:I,scrollY:N,small:P,striped:M,theadColor:F,theadTextWhite:B,columns:q,handleSort:this.handleSort,sortable:D,sorted:$,tbodyColor:j,tbodyTextWhite:L,rows:K[Y],translateScrollHead:X},z))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"d-flex w-100 justify-content-".concat(R?"between":"end")},R&&!A&&this.appendSearchDepend(),o.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},E?V?"":o.a.createElement(Tt,{paging:E,displayEntries:l,entries:H,handleEntriesChange:this.handleEntriesChange,entriesArr:d,label:f,barReverse:n,proSelect:U}):"",o.a.createElement(Nt,{activePage:Y,entries:H,filteredRows:G,info:m,pages:K,label:g,noRecordsFoundLabel:w}),o.a.createElement(Rt,{activePage:Y,changeActivePage:this.changeActivePage,pages:K,pagesAmount:_,label:x,fullPagination:p})))))}}]),n}();At.propTypes={autoWidth:u.a.bool,barReverse:u.a.bool,bordered:u.a.bool,borderless:u.a.bool,btn:u.a.bool,children:u.a.node,className:u.a.string,dark:u.a.bool,data:u.a.oneOfType([u.a.object,u.a.string]),disableRetreatAfterSorting:u.a.bool,displayEntries:u.a.bool,entries:u.a.number,entriesLabel:u.a.oneOfType([u.a.string,u.a.number,u.a.object]),entriesOptions:u.a.arrayOf(u.a.number),exportToCSV:u.a.bool,filledCheckboxes:u.a.bool,filter:u.a.string,fixed:u.a.bool,fullPagination:u.a.bool,headCheckboxID:u.a.string,hover:u.a.bool,info:u.a.bool,infoLabel:u.a.oneOfType([u.a.array,u.a.object,u.a.string]),materialSearch:u.a.bool,maxHeight:u.a.string,noBottomColumns:u.a.bool,noRecordsFoundLabel:u.a.string,onPageChange:u.a.func,onSearch:u.a.func,onSort:u.a.func,order:u.a.arrayOf(u.a.string),pagesAmount:u.a.number,paginationLabel:u.a.arrayOf(u.a.string),paging:u.a.bool,responsive:u.a.bool,responsiveLg:u.a.bool,responsiveMd:u.a.bool,responsiveSm:u.a.bool,responsiveXl:u.a.bool,scrollX:u.a.bool,scrollY:u.a.bool,searching:u.a.bool,searchLabel:u.a.string,small:u.a.bool,sortable:u.a.bool,sortRows:u.a.arrayOf(u.a.string),startPage:u.a.number,striped:u.a.bool,tbodyColor:u.a.string,tbodyTextWhite:u.a.bool,theadColor:u.a.string,theadTextWhite:u.a.bool},At.defaultProps={autoWidth:!1,barReverse:!1,bordered:!1,borderless:!0,btn:!1,dark:!1,data:{columns:[],rows:[]},disableRetreatAfterSorting:!1,displayEntries:!0,entries:10,entriesLabel:"Rows per page:",entriesOptions:[10,20,50,100],exportToCSV:!1,filledCheckboxes:!1,fixed:!1,hover:!1,info:!0,infoLabel:["","-","of",""],noBottomColumns:!0,noRecordsFoundLabel:"No matching records found",order:[],pagesAmount:8,paginationLabel:["Prev","Next"],paging:!0,responsive:!1,responsiveLg:!1,responsiveMd:!1,responsiveSm:!1,responsiveXl:!1,scrollX:!1,scrollY:!1,searchBottom:!0,searching:!0,searchLabel:"Search",searchTop:!1,small:!1,sortable:!0,startPage:0,striped:!1,theadColor:"",theadTextWhite:!1,tbodyColor:"",tbodyTextWhite:!1,headCheckboxID:"checkbox-id",proCheckboxes:!1,fullPagination:!1,proSelect:!1,materialSearch:!1};var Pt=o.a.createContext({dropleft:!1,dropright:!1,dropup:!1,isOpen:!1,toggle:function(){}}),Dt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{isOpen:!1}),se(me(e),"dropdownContainer",o.a.createRef()),se(me(e),"getContainer",(function(){return e.dropdownContainer.current})),se(me(e),"addEvents",(function(){["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))})),se(me(e),"removeEvents",(function(){["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))})),se(me(e),"handleDocumentClick",(function(t){var n=t.which,r=t.type,o=t.target,i=9===n,a="keyup"===r;if(3!==n&&(!a||i)){var s=e.getContainer();(!s.contains(o)||s===o||a&&!i)&&e.toggle()}})),se(me(e),"handleFocus",(function(e,t){var n=Ie,r=Ne,o=e.which,i=e.target,a=o===n,s=o===r,u=be(t).findIndex((function(e){return e===i}));a&&u>0&&(u-=1),s&&u<t.length-1&&(u+=1),u<0&&(u=0),t[u].focus()})),se(me(e),"handleKeyDown",(function(t){var n=e.state.isOpen,r=e.props.disabled,o=t.which,i=t.target,a=o===Oe,s=o===Te;if(!(![Te,Ie,Ne,Oe].includes(o)||/button/i.test(i.tagName)&&a||/input|textarea/i.test(i.tagName)||(t.preventDefault(),r))){var u=e.getContainer();if(a&&n&&u!==i&&i.click(),s||!n)return e.toggle(),void u.children[0].focus();var c=u.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled)");c.length&&e.handleFocus(t,c)}})),se(me(e),"toggle",(function(){var t=e.state.isOpen;e.setState({isOpen:!t})})),e}return ae(n,[{key:"componentDidMount",value:function(){this.handleEventsBinding()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"componentDidUpdate",value:function(){this.handleEventsBinding()}},{key:"handleEventsBinding",value:function(){this.state.isOpen?this.addEvents():this.removeEvents()}},{key:"render",value:function(){var e,t=Se(this.props,["toggle","disabled"]),n=t.className,r=t.children,i=t.dropup,s=t.group,u=t.size,c=t.dropright,l=t.dropleft,f=t.toggle,d=this.state.isOpen,h=a()((se(e={"btn-group":s},"btn-group-".concat(u),!!u),se(e,"dropdown",!s),se(e,"show",d),se(e,"dropup",i),se(e,"dropright",c),se(e,"dropleft",l),e),n);return o.a.createElement(Pt.Provider,{value:{dropleft:l,dropright:c,dropup:i,isOpen:d,toggle:f}},o.a.createElement(D,null,o.a.createElement("div",{"data-test":"dropdown",onClick:this.toggle,className:h,onKeyDown:this.handleKeyDown,ref:this.dropdownContainer},r)))}}]),n}();Dt.propTypes={children:u.a.node,className:u.a.string,disabled:u.a.bool,dropleft:u.a.bool,dropright:u.a.bool,dropup:u.a.bool,group:u.a.bool,size:u.a.string,tag:u.a.string,toggle:u.a.func},Dt.defaultProps={dropleft:!1,dropright:!1,dropup:!1,tag:"div"};var Mt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"onClick",(function(t,n){var r=e.props,o=r.disabled,i=r.header,a=r.divider,s=r.onClick,u=r.toggle;o||i||a?t.preventDefault():(u||t.stopPropagation(),s&&s(t),n&&n(t))})),se(me(e),"getTabIndex",(function(){var t=e.props,n=t.disabled,r=t.header,o=t.divider;return n||r||o?"-1":"0"})),e}return ae(n,[{key:"render",value:function(){var e=this,t=this.getTabIndex(),n=Se(this.props,["toggle"]),r=n.className,i=n.divider,s=n.tag,u=n.header,c=n.href,l=n.active,f=n.disabled,d=ve(n,["className","divider","tag","header","href","active","disabled"]),h=a()({active:l,disabled:f,"dropdown-item":!i&&!u,"dropdown-header":u,"dropdown-divider":i},r);return"button"===s&&(u?s="h6":i?s="div":c&&(s="a")),o.a.createElement(Pt.Consumer,null,(function(n){n.isOpen;var r=n.toggle,i="button"===s&&(d.onClick||r)?"button":void 0;return o.a.createElement(s,ue({"data-test":"dropdown-item",type:i},d,{tabIndex:t,className:h,onClick:function(t){return e.onClick(t,r)},href:c}))}))}}]),n}();Mt.propTypes={active:u.a.bool,children:u.a.node,className:u.a.string,disabled:u.a.bool,divider:u.a.bool,header:u.a.bool,onClick:u.a.func,tag:u.a.oneOfType([u.a.func,u.a.string]),toggle:u.a.bool},Mt.defaultProps={tag:"button",toggle:!0};var jt=function(e){var t=e.tag,n=e.tabIndex,r=e.role,i=e.attributes,a=e.aria,s=e.d_key,u=e.children;return o.a.createElement(Pt.Consumer,null,(function(e){return e.isOpen,e.toggle,o.a.createElement(t,ue({"data-test":"dropdown-menu-component",tabIndex:n,role:r},i,{"aria-hidden":a,key:s}),u)}))};jt.propTypes={aria:u.a.bool.isRequired,attributes:u.a.object.isRequired,children:u.a.node.isRequired,d_key:u.a.string.isRequired,role:u.a.string.isRequired,tabIndex:u.a.string.isRequired,tag:u.a.any.isRequired},Pe(".dropup .dropdown-menu {\n  top: auto !important;\n  bottom: 100% !important;\n  transform: translate3d(5px, 5px, 0px) !important;\n}\n\n.dropdown-menu-right {\n  left: 0 !important;\n  right: auto !important;\n}\n");var Lt=function(e){fe(n,r.Component);var t=ge(n);function n(){return oe(this,n),t.apply(this,arguments)}return ae(n,[{key:"render",value:function(){var e=this.props,t=e.basic,n=e.children,r=e.className,i=e.color,s=e.flip,u=e.modifiers,c=e.right,l=e.tag,f=ve(e,["basic","children","className","color","flip","modifiers","right","tag"]);return o.a.createElement(Pt.Consumer,null,(function(e){var d,h=e.isOpen,p=e.dropup,v=e.dropright,m=e.dropleft,g=a()((se(d={"dropdown-menu-right":c},"dropdown-".concat(i),i),se(d,"show",h),se(d,"basic",t),d),"dropdown-menu",r),y=l;if(h){var b=p?"top":v?"right":m?"left":"bottom",w=c?"end":"start";f.placement="".concat(b,"-").concat(w),f.component=l}return o.a.createElement(Y,{modifiers:u||!s&&{flip:{enabled:!1}},eventsEnabled:!0,positionFixed:!1,placement:f.placement,"data-test":"dropdown-menu"},(function(e){var t=e.placement,r=e.ref,a=e.style;return o.a.createElement(y,{ref:r,style:a,"data-placement":t,className:g},o.a.createElement(jt,{isOpen:h,tag:y,tabIndex:"-1",role:"menu",attributes:f,aria:!h,d_key:"dropDownMenu",color:i},n))}))}))}}]),n}();Lt.propTypes={children:u.a.node.isRequired,basic:u.a.bool,className:u.a.string,flip:u.a.bool,modifiers:u.a.object,right:u.a.bool,tag:u.a.string},Lt.defaultProps={basic:!1,className:"",flip:!0,right:!1,tag:"div",color:!1};var Ft=function(e){var t,n=ye(Object(r.useState)({}),2),i=n[0],s=n[1],u=function(e){e.stopPropagation();var t={top:e.clientY,left:e.clientX,time:Date.now()};s(t)},c=e.action,l=e.active,f=e.block,d=e.children,h=e.circle,p=e.className,v=e.color,m=e.disabled,g=e.download,y=e.flat,b=e.gradient,w=e.innerRef,_=e.outline,x=e.role,E=e.rounded,C=e.size,k=e.social,S=e.tag,T=e.target,O=e.type,I=ve(e,["action","active","block","children","circle","className","color","disabled","download","flat","gradient","innerRef","outline","role","rounded","size","social","tag","target","type"]),N=a()(""!==v&&"btn-".concat(v),v&&_&&"btn-outline-".concat(v),"btn","Ripple-parent",b&&"".concat(b,"-gradient"),(se(t={active:l,"btn-circle":h,"btn-block":f,"btn-action":c},"btn-".concat(k),k),se(t,"btn-".concat(C),C),se(t,"btn-rounded",E),se(t,"disabled",m),t),p);return I.href&&"button"===S&&(S="a"),o.a.createElement(S,ue({"data-test":"button",type:"button"!==S||O?O:"button",target:T,role:"a"!==S||x?x:"button",className:N,ref:w,onMouseUp:u,onTouchStart:u},I,{download:g,disabled:m}),d,!m&&o.a.createElement(ze,{cursorPos:i,outline:_,flat:y||E}))};Ft.defaultProps={color:"default",tag:"button"},Ft.propTypes={action:u.a.bool,active:u.a.bool,block:u.a.bool,children:u.a.node,circle:u.a.bool,className:u.a.string,color:u.a.string,disabled:u.a.bool,download:u.a.string,flat:u.a.bool,gradient:u.a.string,innerRef:u.a.oneOfType([u.a.func,u.a.string]),onClick:u.a.func,outline:u.a.bool,role:u.a.string,rounded:u.a.bool,size:u.a.string,social:u.a.string,tag:u.a.string,target:u.a.string,type:u.a.string};var Bt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"onClick",(function(t,n){var r=e.props,o=r.disabled,i=r.nav,a=r.tag,s=r.onClick;o?t.preventDefault():(i&&!a&&t.preventDefault(),s&&s(t),n&&n(t))})),e}return ae(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.color,i=t.caret,s=t.nav,u=t.tag,c=ve(t,["className","color","caret","nav","tag"]),l=c["aria-label"]||"Toggle Dropdown",f=a()({"dropdown-toggle":i,"nav-link":s},n),d=c.children||o.a.createElement("span",{className:"sr-only"},l),h=u;return s&&!u?(h="a",c.href="#"):u||(h=Ft,c.color=r),o.a.createElement(Pt.Consumer,null,(function(t){var n=t.isOpen,r=t.toggle;return o.a.createElement(J,{"data-test":"dropdown-toggle"},(function(t){var i=t.ref;return u||s?o.a.createElement(h,ue({},c,{className:f,onClick:function(t){return e.onClick(t,r)},"aria-expanded":n,ref:i}),d):o.a.createElement(h,ue({},c,{className:f,onClick:function(t){return e.onClick(t,r)},"aria-expanded":n,innerRef:i}),d)}))}))}}]),n}();Bt.propTypes={"aria-haspopup":u.a.bool,caret:u.a.bool,children:u.a.node,className:u.a.string,color:u.a.string,disabled:u.a.bool,nav:u.a.bool,onClick:u.a.func,tag:u.a.oneOfType([u.a.func,u.a.string])},Bt.defaultProps={"aria-haspopup":!0,color:"secondary"};var Ut=function(e){var t=e.color,n=e.className,r=e.tag,i=ve(e,["color","className","tag"]),s=a()("edge-header",t,n);return o.a.createElement(r,ue({"data-test":"edgeHeader"},i,{className:s}))};Ut.propTypes={className:u.a.string,color:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},Ut.defaultProps={color:"deep-purple",tag:"div"};var Vt=function(e){var t=e.color,n=e.children,r=e.className,i=e.tag,s=ve(e,["color","children","className","tag"]),u=a()("page-footer",t&&t,r);return o.a.createElement(i,ue({"data-test":"footer"},s,{className:u}),n)};Vt.propTypes={children:u.a.node,className:u.a.string,color:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},Vt.defaultProps={tag:"footer"};u.a.node,u.a.string,u.a.bool;var zt=function(e){var t=e.className,n=e.tag,r=ve(e,["className","tag"]),i=a()("container free-bird",t);return o.a.createElement(n,ue({"data-test":"freebird"},r,{className:i}))};zt.propTypes={className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},zt.defaultProps={tag:"div"},Pe(".hamburger-button__checkbox {\n  display: none;\n}\n\n.hamburger-button__button {\n  background-color: transparent;\n  height: 100%;\n  width: 100%;\n  text-align: center;\n  cursor: pointer;\n  top: -5px;\n}\n\nlabel.hamburger-button__button {\n  margin-bottom: 0;\n}\n\n#nav-icon1 {\n  width: 1.5em;\n  height: 1.5em;\n  position: relative;\n  -webkit-transform: rotate(0deg);\n  -moz-transform: rotate(0deg);\n  -o-transform: rotate(0deg);\n  transform: rotate(0deg);\n  -webkit-transition: .5s ease-in-out;\n  -moz-transition: .5s ease-in-out;\n  -o-transition: .5s ease-in-out;\n  transition: .5s ease-in-out;\n  cursor: pointer;\n}\n\n#nav-icon1 span {\n  display: block;\n  position: absolute;\n  height: 3px;\n  width: 100%;\n  border-radius: 1px;\n  background-color: #fff;\n  opacity: 1;\n  left: 0;\n  -webkit-transform: rotate(0deg);\n  -moz-transform: rotate(0deg);\n  -o-transform: rotate(0deg);\n  transform: rotate(0deg);\n  -webkit-transition: .25s ease-in-out;\n  -moz-transition: .25s ease-in-out;\n  -o-transition: .25s ease-in-out;\n  transition: .25s ease-in-out;\n}\n\n#nav-icon1 span:nth-child(1) {\n  top: 5px;\n}\n\n#nav-icon1 span:nth-child(2) {\n  top: 16px;\n}\n\n#nav-icon1 span:nth-child(3) {\n  top: 27px;\n}\n\n.hamburger-button__checkbox:checked+#nav-icon1 span:nth-child(1) {\n  top: 16px;\n  -webkit-transform: rotate(135deg);\n  -moz-transform: rotate(135deg);\n  -o-transform: rotate(135deg);\n  transform: rotate(135deg);\n}\n\n.hamburger-button__checkbox:checked+#nav-icon1 span:nth-child(2) {\n  opacity: 0;\n  left: -60px;\n}\n\n.hamburger-button__checkbox:checked+#nav-icon1 span:nth-child(3) {\n  top: 16px;\n  -webkit-transform: rotate(-135deg);\n  -moz-transform: rotate(-135deg);\n  -o-transform: rotate(-135deg);\n  transform: rotate(-135deg);\n}\n");u.a.string,u.a.string,u.a.string;var Wt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{stateWidth:"",stateHeight:"",ratio:""}),se(me(e),"componentDidMount",(function(){var t=e.props.ratio,n=e.props,r=n.width,o=n.height,i=9/16;if(t){var a=t.split("by")[0]/t.split("by")[1];"number"==typeof i&&(i=a)}r&&o||(r?o=r*i:o&&(r=o*(1/i)),e.setState(le(le({},e.state),{},{width:r,height:o,ratio:t})))})),e}return ae(n,[{key:"render",value:function(){var e=this.props,t=e.allowFullScreen,n=e.className,r=e.id,i=e.name,s=e.onMouseOver,u=e.onMouseOut,c=e.onLoad,l=e.sandbox,f=e.src,d=e.style,h=e.title,p=void 0===h?"":h,v=e.ratio,m=e.height,g=e.width,y=this.state,b=y.stateWidth,w=y.stateHeight,_=a()("embed-responsive-item",n),x=a()(!(m||g)&&"embed-responsive",v?"embed-responsive-".concat(v):"embed-responsive-16by9"),E={src:f,id:r||!1,frameBorder:"0",target:"_parent",allowFullScreen:t||!0,height:w||"100%",name:i||void 0,width:b||"100%",onLoad:c||void 0,onMouseOver:s||void 0,onMouseOut:u||void 0,sandbox:l||void 0,style:d||void 0};return E=Re(E),o.a.createElement("div",{"data-test":"iframe",className:x},o.a.createElement("iframe",ue({title:p,className:_},E)))}}]),n}();Wt.propTypes={src:u.a.string.isRequired,allowFullScreen:u.a.bool,className:u.a.string,height:u.a.number,id:u.a.string,name:u.a.string,onLoad:u.a.func,onMouseOut:u.a.func,onMouseOver:u.a.func,ratio:u.a.string,sandbox:u.a.string,styles:u.a.object,title:u.a.string,width:u.a.number};var qt=function(e){fe(n,o.a.PureComponent);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{innerValue:e.props.value||e.props.valueDefault,isFocused:!1,isPristine:!0}),se(me(e),"inputElementRef",o.a.createRef()),se(me(e),"onBlur",(function(t){t.stopPropagation();var n=e.props.onBlur;e.setState({isFocused:!1}),n&&n(t)})),se(me(e),"onFocus",(function(t){t.stopPropagation();var n=e.props.onFocus;e.setState({isFocused:!0}),n&&n(t)})),se(me(e),"onChange",(function(t){t.stopPropagation();var n=e.props,r=n.type,o=n.onChange,i=n.getValue,a=t.target,s=a.value,u=a.checked;"checkbox"!==r&&"radio"!==r?(e.setState({innerValue:s,isPristine:!1}),i&&i(s)):i&&i(u),o&&o(t)})),se(me(e),"onInput",(function(t){t.stopPropagation();var n=e.props,r=n.type,o=n.onInput;"checkbox"!==r&&"radio"!==r&&e.setState({innerValue:t.target.value,isPristine:!1}),o&&o(t)})),se(me(e),"setFocus",(function(){e.inputElementRef.current.focus()})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.inputRef,r=t.focused,o=t.indeterminate,i=t.selectInnerRef;n&&n(this.inputElementRef.current),i&&i(this.inputElementRef),!0===r&&this.setState({isFocused:r},(function(){e.setFocus()})),o&&(this.inputElementRef.current.indeterminate=!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.background,r=t.children,i=t.className,s=t.containerClass,u=t.dataTest,c=t.disabled,l=t.error,f=t.filled,d=(t.focused,t.gap),h=(t.getValue,t.group),p=t.hint,v=t.icon,m=t.iconBrand,g=t.iconClass,y=t.iconLight,b=t.iconRegular,w=t.iconSize,_=t.id,x=(t.indeterminate,t.inputRef,t.isControlled),E=(t.selectInnerRef,t.noTag),C=t.outline,k=t.label,S=t.labelClass,T=t.labelId,O=t.labelStyles,I=t.name,N=t.onIconClick,R=t.onIconMouseEnter,A=t.onIconMouseLeave,P=t.size,D=t.iconStyle,M=t.success,j=t.tag,L=t.type,F=t.validate,B=(t.value,t.valueDefault,ve(t,["background","children","className","containerClass","dataTest","disabled","error","filled","focused","gap","getValue","group","hint","icon","iconBrand","iconClass","iconLight","iconRegular","iconSize","id","indeterminate","inputRef","isControlled","selectInnerRef","noTag","outline","label","labelClass","labelId","labelStyles","name","onIconClick","onIconMouseEnter","onIconMouseLeave","size","iconStyle","success","tag","type","validate","value","valueDefault"])),U=this.state,V=U.innerValue,z=U.isFocused,W=(!!V||!!p||z||0===V)&&"checkbox"!==L&&"radio"!==L,q="",H="";"textarea"===L?(H=C?"form-control":"md-textarea form-control",q="textarea"):(H="form-control",q="input",B.type=L),B.disabled=c;var G=a()(H,!!P&&"form-control-".concat(P),!!F&&"validate",!!f&&"filled-in",!!d&&"with-gap","checkbox"===L&&!d&&"form-check-input","radio"===L&&"form-check-input",i),K=a()("checkbox"===L||"radio"===L?"boolean"==typeof k&&k?"d-flex":"form-check":"md-form",!!h&&"form-group",!!P&&"form-".concat(P),C&&"md-outline",n&&"md-bg",s),Y=a()(!(!W||!z)&&"active",g,"prefix"),$=a()(!!(W&&!x||p)&&"active",!!c&&"disabled","checkbox"===L&&"form-check-label","radio"===L&&"form-check-label",S),X=function(){return o.a.createElement(o.a.Fragment,null,v&&o.a.createElement(Ae,{icon:v,size:w,brand:m,light:y,regular:b,className:Y,onClick:N||e.setFocus,onMouseEnter:R,onMouseLeave:A,style:D}),o.a.createElement(q,ue({"data-test":u},B,{className:G,id:_,placeholder:p,name:I,ref:e.inputElementRef,value:V,onBlur:e.onBlur,onChange:e.onChange,onInput:e.onInput,onFocus:e.onFocus,"aria-disabled":c})),k&&o.a.createElement("label",{className:$,htmlFor:_,"data-error":l,"data-success":M,id:T,onClick:e.setFocus,style:O,"aria-labelledby":T},k),r)};return E?X():o.a.createElement(j,{className:K},X())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.value?{innerValue:e.value}:null}}]),n}();qt.propTypes={children:u.a.node,className:u.a.string,containerClass:u.a.string,dataTest:u.a.string,disabled:u.a.bool,error:u.a.string,filled:u.a.bool,focused:u.a.oneOfType([u.a.bool,u.a.string]),gap:u.a.bool,getValue:u.a.func,group:u.a.bool,hint:u.a.string,icon:u.a.string,iconBrand:u.a.bool,iconClass:u.a.string,iconLight:u.a.bool,iconRegular:u.a.bool,iconSize:u.a.string,iconStyle:u.a.object,id:u.a.string,indeterminate:u.a.bool,inputRef:u.a.oneOfType([u.a.object,u.a.func]),isControlled:u.a.bool,label:u.a.oneOfType([u.a.string,u.a.number,u.a.object,u.a.bool]),labelClass:u.a.string,labelId:u.a.string,labelStyles:u.a.object,name:u.a.string,noTag:u.a.bool,onBlur:u.a.func,onChange:u.a.func,onFocus:u.a.func,onIconClick:u.a.func,onIconMouseEnter:u.a.func,onIconMouseLeave:u.a.func,onInput:u.a.func,outline:u.a.bool,size:u.a.string,success:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),type:u.a.string,validate:u.a.bool,value:u.a.oneOfType([u.a.number,u.a.string,u.a.bool]),valueDefault:u.a.oneOfType([u.a.number,u.a.string])},qt.defaultProps={className:"",containerClass:"",dataTest:"input",disabled:!1,error:"",filled:!1,gap:!1,group:!1,hint:void 0,icon:"",iconBrand:!1,focused:!1,indeterminate:!1,iconClass:"",iconLight:!1,onIconMouseEnter:function(){},onIconMouseLeave:function(){},iconRegular:!1,iconSize:void 0,id:void 0,isControlled:!1,noTag:!1,name:void 0,outline:!1,label:" ",labelClass:"",labelId:"",size:"",success:"",tag:"div",type:"text",validate:!1,valueDefault:""};var Ht=function(e){var t=e.append,n=e.appendClassName,r=e.ariaLabel,i=e.children,s=e.className,u=e.containerClassName,c=e.containerId,l=e.hint,f=e.id,d=e.inputs,h=(e.inputTag,e.label),p=e.labelClassName,v=e.material,m=e.prepend,g=e.prependClassName,y=e.size,b=e.tag,w=e.textClassName,_=e.type,x=e.value,E=e.valueDefault,C=e.getValue,k=e.onChange,S=ve(e,["append","appendClassName","ariaLabel","children","className","containerClassName","containerId","hint","id","inputs","inputTag","label","labelClassName","material","prepend","prependClassName","size","tag","textClassName","type","value","valueDefault","getValue","onChange"]),T=a()("input-group",v&&"md-form",y&&"input-group-".concat(y),u),O=a()(s),I=a()("input-group-prepend",g),N=a()("input-group-append",n),R=a()("input-group-text",v&&"md-addon",w);return o.a.createElement(o.a.Fragment,null,h&&o.a.createElement("label",{htmlFor:f,className:p},h),o.a.createElement(b,ue({"data-test":"input-group"},S,{className:T,id:c}),m&&o.a.createElement("div",{className:I},"string"==typeof m?o.a.createElement("span",{className:R},m):m),d||o.a.createElement(qt,{noTag:!0,type:_,className:O,id:f,value:x,valueDefault:E,hint:l,"aria-label":r,onChange:function(e){e.persist(),k&&k(e),C&&C(e.target.value)}}),t&&o.a.createElement("div",{className:N},"string"==typeof t?o.a.createElement("span",{className:R},t):t),i))};Ht.propTypes={append:u.a.oneOfType([u.a.node,u.a.string]),appendClassNames:u.a.string,ariaLabel:u.a.string,children:u.a.node,className:u.a.string,containerClassName:u.a.string,containerId:u.a.string,getValue:u.a.func,hint:u.a.string,id:u.a.string,inputs:u.a.node,label:u.a.string,labelClassName:u.a.string,material:u.a.bool,onChange:u.a.func,prepend:u.a.any,prependClassName:u.a.string,size:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),textClassName:u.a.string,type:u.a.string,value:u.a.string,valueDefault:u.a.string},Ht.defaultProps={tag:"div",type:"text"};u.a.string,u.a.func;u.a.node,u.a.string,u.a.bool;var Gt=function(e){var t=ye(Object(r.useState)({}),2),n=t[0],i=t[1],s=e.active,u=e.children,c=e.className,l=e.disabled,f=(e.link,e.to),d=ve(e,["active","children","className","disabled","link","to"]),h=a()("nav-link",l?"disabled":"Ripple-parent",s&&"active",c),p=function(e){if(!l){e.stopPropagation();var t={top:e.clientY,left:e.clientX,time:Date.now()};i(t)}};return o.a.createElement(Z.b,ue({"data-test":"link-router",className:h,onMouseUp:p,onTouchStart:p,to:f},d),u,!l&&o.a.createElement(ze,{cursorPos:n}))};Gt.propTypes={active:u.a.bool,children:u.a.node,className:u.a.string,disabled:u.a.bool,to:u.a.string},Gt.defaultProps={active:!1,className:"",disabled:!1};var Kt=function(e){var t=e.children,n=e.className,r=e.tag,i=ve(e,["children","className","tag"]),s=a()("list-group",n);return o.a.createElement(r,ue({"data-test":"list-group"},i,{className:s}),t)};Kt.propTypes={children:u.a.node,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},Kt.defaultProps={tag:"ul"};var Yt=function(e){var t,n=e.active,r=e.children,i=e.className,s=e.color,u=e.disabled,c=e.hover,l=(e.success,e.info,e.warning,e.danger,e.tag),f=ve(e,["active","children","className","color","disabled","hover","success","info","warning","danger","tag"]),d=a()("list-group-item",i,(se(t={active:n,disabled:u},"list-group-item-".concat(s)," color"),se(t,"list-group-item-action",c),t));return f.href&&"li"===l&&(l="a"),o.a.createElement(l,ue({"data-test":"list-group-item"},f,{className:d}),r)};Yt.propTypes={active:u.a.bool,children:u.a.node,className:u.a.string,color:u.a.oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),danger:u.a.bool,disabled:u.a.bool,hover:u.a.bool,info:u.a.bool,success:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string]),warning:u.a.bool},Yt.defaultProps={tag:"li"};u.a.bool,u.a.bool,u.a.node,u.a.string,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.bool,u.a.oneOfType([u.a.func,u.a.string]),u.a.bool,u.a.bool,Pe(".overflow-y-scroll {\n  overflow-y: scroll !important;\n}\n");var $t=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{initialIsOpen:e.props.isOpen||!1}),se(me(e),"modalContent",o.a.createRef()),se(me(e),"componentDidUpdate",(function(t,n){var r=e.props,o=r.isOpen,i=r.overflowScroll?"overflow-y-scroll":"overflow-hidden";n.initialIsOpen!==o&&e.setState({initialIsOpen:o},(function(){o?(document.body.classList.add("modal-open"),document.body.classList.add(i)):(document.body.classList.remove("modal-open"),document.body.classList.remove(i))}))})),se(me(e),"handleOnEntered",(function(t,n){"backdrop"===t&&!1===e.props.fade||(n.classList.add("show"),e.props.autoFocus&&n.focus(),"modal"===t&&e.props.showModal&&e.props.showModal())})),se(me(e),"handleOnExit",(function(t,n){"backdrop"===t&&!1===e.props.fade||(n.classList.remove("show"),"modal"===t&&e.props.hideModal&&e.props.hideModal())})),se(me(e),"handleOnExited",(function(){e.props.hiddenModal&&e.props.hiddenModal()})),se(me(e),"handleBackdropClick",(function(t){!e.props.backdrop||t.target.closest('[role="dialog"]')&&!t.target.classList.contains("modal")||t.clientX>t.target.clientWidth||t.clientY>t.target.clientHeight||e.modalContent.contains(t.target)||e.props.disableBackdrop||e.props.toggle()})),se(me(e),"handleEscape",(function(t){e.props.keyboard&&27===t.keyCode&&(t.preventDefault(),e.props.toggle())})),e}return ae(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.animation,i=n.backdrop,s=n.backdropClassName,u=n.backdropTransitionTimeout,c=n.cascading,l=n.centered,f=n.children,d=n.className,h=n.contentClassName,p=n.disableFocusTrap,v=n.fade,m=n.frame,g=n.fullHeight,y=n.id,b=n.inline,w=(n.isOpen,n.keyboard,n.modalStyle),_=n.modalStylesWithoutBackdrop,E=n.modalTransitionTimeout,C=n.noClickableBodyWithoutBackdrop,k=(n.overflowScroll,n.position),S=n.role,T=n.side,O=n.size,I=n.tabIndex,N=(n.toggle,n.wrapClassName),R=n.wrapperStyles,A=(n.zIndex,ve(n,["animation","backdrop","backdropClassName","backdropTransitionTimeout","cascading","centered","children","className","contentClassName","disableFocusTrap","fade","frame","fullHeight","id","inline","isOpen","keyboard","modalStyle","modalStylesWithoutBackdrop","modalTransitionTimeout","noClickableBodyWithoutBackdrop","overflowScroll","position","role","side","size","tabIndex","toggle","wrapClassName","wrapperStyles","zIndex"])),P=this.state.initialIsOpen,D=v?E:0,M=v?u:0,j=le(le({position:"fixed"},"bottom-right"===k?{top:"auto",bottom:10,right:10,left:"auto"}:"bottom-left"===k?{top:"auto",bottom:10,right:"auto",left:10}:"top-right"===k?{top:10,bottom:"auto",right:10,left:"auto"}:"top-left"===k?{top:10,bottom:"auto",right:"auto",left:10}:"right"===k?{right:0}:"left"===k?{left:0}:"bottom"===k?{bottom:0}:"top"===k?{top:0}:{top:0,bottom:0,right:0,left:0}),_),L=!i&&P&&!C,F=a()((se(e={"cascading-modal":c,"modal-side":T,"modal-full-height":g,"modal-frame":m,"modal-dialog-centered":l},"modal-".concat(O),O),se(e,"modal-".concat(k),k),se(e,"modal-notify white-text modal-".concat(w),w),e),"modal-dialog",d),B=k.split("-"),U=a()({modal:!b,fade:v,top:v&&!r&&!k,animation:v&&r},v&&k&&k&&B.length>1?B[1]:B[0],N),V=a()("modal-backdrop",v?"fade":"show",s),z=a()("modal-content",h),W=Re(le({style:{display:"block",position:L&&"fixed",width:L&&0},id:y,tabIndex:I,role:S,"aria-hidden":"true"},A)),q=L?j:{},H=o.a.createElement("div",ue({"data-test":"modal",onKeyUp:this.handleEscape,className:U,style:R},W),o.a.createElement("div",{style:q,className:F,role:"document"},o.a.createElement("div",{ref:function(e){return t.modalContent=e},className:z},f)));return o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(x,{timeout:M,in:P,appear:P,mountOnEnter:!0,unmountOnExit:!0,onEntered:function(e){return t.handleOnEntered("backdrop",e)},onExit:function(e){return t.handleOnExit("backdrop",e)},onExited:this.handleOnExited},o.a.createElement("div",{className:V})),o.a.createElement(x,{timeout:D,in:P,appear:P,mountOnEnter:!0,unmountOnExit:!0,onMouseDown:function(e){return t.handleBackdropClick(e)},onEntered:function(e){return t.handleOnEntered("modal",e)},onExit:function(e){return t.handleOnExit("modal",e)}},p?H:o.a.createElement(te.a,null,H)))}}]),n}();$t.defaultProps={autoFocus:!0,backdrop:!0,backdropTransitionTimeout:150,disableBackdrop:!1,disableFocusTrap:!0,fade:!0,isOpen:!1,keyboard:!0,modalTransitionTimeout:300,overflowScroll:!0,position:"",role:"dialog",tabIndex:"-1",zIndex:1050,noClickableBodyWithoutBackdrop:!1},$t.propTypes={animation:u.a.string,autoFocus:u.a.bool,backdrop:u.a.bool,backdropClassName:u.a.string,backdropTransitionTimeout:u.a.number,cascading:u.a.bool,centered:u.a.bool,children:u.a.node,className:u.a.string,contentClassName:u.a.string,disableBackdrop:u.a.bool,disableFocusTrap:u.a.bool,fade:u.a.bool,frame:u.a.bool,fullHeight:u.a.bool,hiddenModal:u.a.func,hideModal:u.a.func,id:u.a.string,inline:u.a.bool,isOpen:u.a.bool,keyboard:u.a.bool,modalClassName:u.a.string,modalStyle:u.a.string,modalStylesWithoutBackdrop:u.a.object,modalTransitionTimeout:u.a.number,noClickableBodyWithoutBackdrop:u.a.bool,overflowScroll:u.a.bool,position:u.a.string,role:u.a.string,showModal:u.a.func,side:u.a.bool,size:u.a.string,tabIndex:u.a.string,toggle:u.a.func,wrapClassName:u.a.string,wrapperStyles:u.a.object,zIndex:u.a.oneOfType([u.a.number,u.a.string])};u.a.node,u.a.string;u.a.node,u.a.string;var Xt=function(e){var t,n=e.className,r=e.children,i=e.toggle,s=e.tag,u=e.closeAriaLabel,c=e.titleClass,l=ve(e,["className","children","toggle","tag","closeAriaLabel","titleClass"]),f=a()("modal-header",n),d=a()("modal-title",c);return i&&(t=o.a.createElement("button",{type:"button",onClick:i,className:"close","aria-label":u},o.a.createElement("span",{"aria-hidden":"true"},String.fromCharCode(215)))),o.a.createElement("div",ue({"data-test":"modal-header"},l,{className:f}),o.a.createElement(s,{className:d},r),t)};Xt.propTypes={children:u.a.node,className:u.a.string,closeAriaLabel:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),toggle:u.a.func},Xt.defaultProps={tag:"h4",closeAriaLabel:"Close"};var Qt=function(e){var t=e.children,n=e.className,r=e.tag,i=e.tabs,s=e.color,u=e.classicTabs,c=e.pills,l=e.header,f=ve(e,["children","className","tag","tabs","color","classicTabs","pills","header"]),d=a()("nav",i&&"md-tabs",c&&"md-pills",l&&"nav-pills card-header-pills",!(!s||i||u||c)&&s,!(!c||!s)&&"pills-".concat(s),!(!i&&!u||!s)&&"tabs-".concat(s),n);return o.a.createElement(r,ue({"data-test":"nav"},f,{className:d}),t)};Qt.propTypes={children:u.a.node,classicTabs:u.a.bool,className:u.a.string,color:u.a.string,header:u.a.bool,pills:u.a.bool,tabs:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string])},Qt.defaultProps={tag:"ul",classicTabs:!1,pills:!1,tabs:!1,header:!1};var Jt=function(e){fe(n,r.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{isCollapsed:!1}),se(me(e),"handleScroll",(function(){var t=e.props.scrollingNavbarOffset||50;window.pageYOffset>t?e.setState({isCollapsed:!0}):e.setState({isCollapsed:!1})})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.scrolling,n=e.scrollingNavbarOffset;(t||n)&&window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.scrolling,n=e.scrollingNavbarOffset;(t||n)&&window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e,t,n=this.props,r=n.expand,i=n.light,s=n.dark,u=n.sticky,c=n.fixed,l=n.scrolling,f=n.color,d=n.className,h=n.scrollingNavbarOffset,p=n.tag,v=n.double,m=n.transparent,g=ve(n,["expand","light","dark","sticky","fixed","scrolling","color","className","scrollingNavbarOffset","tag","double","transparent"]),y=this.state.isCollapsed,b=a()((se(e={"navbar-light":i,"navbar-dark":s},"sticky-".concat(u),u),se(e,"fixed-".concat(c),c),se(e,"scrolling-navbar",l||h),se(e,"double-nav",v),se(e,"top-nav-collapse",y),se(e,"".concat(f),f&&m?y:f),e),"navbar",!1!==(t=r)&&(!0===t||"xs"===t?"navbar-expand":"navbar-expand-".concat(t)),d);return o.a.createElement(p,ue({"data-test":"navbar"},g,{className:b,role:"navigation"}))}}]),n}();Jt.propTypes={className:u.a.string,color:u.a.string,dark:u.a.bool,double:u.a.bool,expand:u.a.oneOfType([u.a.bool,u.a.string]),fixed:u.a.string,light:u.a.bool,scrolling:u.a.bool,scrollingNavbarOffset:u.a.number,sticky:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),transparent:u.a.bool},Jt.defaultProps={tag:"nav",expand:!1,scrolling:!1};u.a.string,u.a.string;var Zt=function(e){var t=e.children,n=e.className,r=e.right,i=e.left,s=e.tag,u=ve(e,["children","className","right","left","tag"]),c=a()("navbar-nav",r?"ml-auto":i?"mr-auto":"justify-content-around w-100",n);return o.a.createElement(s,ue({"data-test":"navbar-nav"},u,{className:c}),t)};Zt.propTypes={children:u.a.node,className:u.a.string,left:u.a.bool,right:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string])},Zt.defaultProps={tag:"ul"};var en=function(e){var t=e.right,n=e.left,r=e.children,i=e.className,s=e.tag,u=e.image,c=ve(e,["right","left","children","className","tag","image"]),l=a()({"navbar-toggler-right":t,"navbar-toggler-left":n},"navbar-toggler",i);return o.a.createElement(s,ue({"data-test":"navbar-toggler"},c,{className:l}),r||(u?o.a.createElement("span",{className:"navbar-toggler-icon",style:{backgroundImage:'url("'.concat(u,'")')}}):o.a.createElement("span",{className:"navbar-toggler-icon"})))};en.propTypes={children:u.a.node,className:u.a.string,image:u.a.string,left:u.a.bool,right:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string]),type:u.a.string},en.defaultProps={tag:"button",type:"button"};var tn=function(e){var t=e.children,n=e.className,r=e.active,i=e.text,s=e.tag,u=ve(e,["children","className","active","text","tag"]),c=a()("nav-item",r&&"active",i&&"navbar-text",n);return o.a.createElement(s,ue({"data-test":"nav-item"},u,{className:c}),t)};tn.propTypes={active:u.a.bool,children:u.a.node,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},tn.defaultProps={tag:"li"};var nn=function(e){var t=ye(Object(r.useState)({}),2),n=t[0],i=t[1],s=e.children,u=e.className,c=e.disabled,l=e.active,f=e.to,d=e.link,h=ve(e,["children","className","disabled","active","to","link"]),p=a()("nav-link",c?"disabled":"Ripple-parent",l&&"active",u),v=function(e){if(!c){e.stopPropagation();var t={top:e.clientY,left:e.clientX,time:Date.now()};i(t)}},m=d?Gt:Z.c;return o.a.createElement(m,ue({"data-test":"nav-link",className:p,onMouseUp:v,onTouchStart:v,to:f},h),s,!c&&o.a.createElement(ze,{cursorPos:n}))};nn.propTypes={active:u.a.bool,children:u.a.node,className:u.a.string,disabled:u.a.bool,link:u.a.bool,to:u.a.string},nn.defaultProps={active:!1,className:"",disabled:!1,link:!1};var rn=function(e){fe(n,o.a.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{componentState:e.props.show?"show":"hide"}),se(me(e),"hide",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"===re(t)&&(t=0),setTimeout((function(){e.setState({componentState:""},(function(){setTimeout((function(){e.setState({componentState:"hide"})}),150)}))}),t)})),e}return ae(n,[{key:"componentDidMount",value:function(){var e=this.props.autohide;e>0&&this.hide(e)}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.className,r=(e.show,e.fade),i=e.message,s=e.bodyClassName,u=e.icon,c=e.iconClassName,l=e.title,f=e.titleClassName,d=e.text,h=e.closeClassName,p=ve(e,["tag","className","show","fade","message","bodyClassName","icon","iconClassName","title","titleClassName","text","closeClassName"]),v=this.state.componentState,m=a()("toast",r&&"fade",v,n),g=a()("toast-header",f),y=a()("mr-2",c),b=a()("toast-body",s),w=a()("ml-2","mb-1",h);return o.a.createElement(t,ue({"data-test":"notification"},p,{className:m}),o.a.createElement("div",{className:g},o.a.createElement(Ae,{icon:u,className:y,size:"lg"}),o.a.createElement("strong",{className:"mr-auto"},l),o.a.createElement("small",null,d),o.a.createElement(nt,{className:w,onClick:this.hide})),o.a.createElement("div",{className:b},i))}}]),n}();rn.propTypes={autohide:u.a.number,bodyClassName:u.a.string,bodyColor:u.a.string,className:u.a.string,closeClassName:u.a.string,fade:u.a.bool,iconClassName:u.a.string,message:u.a.string,show:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string]),text:u.a.string,title:u.a.string,titleClassName:u.a.string,titleColor:u.a.string},rn.defaultProps={icon:"square",tag:"div",closeClassName:"text-dark"},Pe('.popover {\n  width: auto;\n  background-color: white;\n  color: #97999b;\n  text-align: center;\n  display: inline-block;\n  border-radius: 3px;\n  position: absolute;\n  font-size: 0.83em;\n  font-weight: normal;\n  border: 1px rgb(0, 0, 0) solid;\n  /* z-index: 200000; */\n  z-index: 10;\n  /* max-width: initial; */\n  max-width: 274px;\n  text-align: start;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.3s, visibility 0.3s;\n  visibility: hidden;\n}\n\n.show.popover {\n  z-index: 999;\n  opacity: 1;\n  visibility: visible;\n}\n\n.popover-body {\n  color: #6c6e71;\n}\n\n.popover .popover_arrow {\n  width: 0;\n  height: 0;\n  border-style: solid;\n  position: absolute;\n  margin: 6px;\n  color: transparent;\n}\n\n.popover[x-placement^="top"] {\n  margin-bottom: 15px;\n}\n\n.popover[x-placement^="top"] .popover_arrow {\n  border-width: 8px 8px 0 8px;\n  border-color: #d6d6d6 transparent transparent transparent;\n  bottom: -8px;\n  margin-bottom: 0;\n}\n\n.popover[x-placement^="top"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  left: -8px;\n  bottom: 1.5px;\n  border: solid;\n  border-width: 8px 8px 0 8px;\n  border-color: white transparent transparent transparent;\n}\n\n.popover[x-placement^="bottom"] {\n  margin-top: 15px;\n}\n\n.popover[x-placement^="bottom"] .popover_arrow {\n  border-width: 0 8px 8px 8px;\n  border-color: transparent transparent #d6d6d6 transparent;\n  top: -8px;\n  margin-top: 0;\n}\n\n.popover[x-placement^="bottom"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  left: -8px;\n  top: 1.45px;\n  border: solid;\n  border-width: 0 8px 8px 8px;\n  border-color: transparent transparent white transparent;\n}\n\n.popover[x-placement^="right"] {\n  margin-left: 15px;\n}\n\n.popover[x-placement^="right"] .popover_arrow {\n  border-width: 8px 8px 8px 0;\n  border-color: transparent #d6d6d6 transparent transparent;\n  left: -8px;\n  margin-left: 0;\n}\n\n.popover[x-placement^="right"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  top: -8px;\n  left: 1.45px;\n  border: solid;\n  border-width: 8px 8px 8px 0;\n  border-color: transparent white transparent transparent;\n}\n\n.popover[x-placement^="left"] {\n  margin-right: 15px;\n}\n\n.popover[x-placement^="left"] .popover_arrow {\n  border-width: 8px 0 8px 8px;\n  border-color: transparent transparent transparent #d6d6d6;\n  right: -8px;\n  margin-right: 0;\n}\n\n.popover[x-placement^="left"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  top: -8px;\n  right: 1.45px;\n  border: solid;\n  border-width: 8px 0 8px 8px;\n  border-color: transparent transparent transparent white;\n}\n\n.tooltip {\n  width: auto;\n  background-color: black;\n  color: white;\n  text-align: center;\n  display: inline-block;\n  border-radius: 3px;\n  position: absolute;\n  /* font-size: 0.83em; */\n  font-weight: normal;\n  border: 1px rgb(0, 0, 0) solid;\n  /* z-index: 200000; */\n  z-index: 15;\n  /* max-width: initial; */\n  max-width: 274px;\n  text-align: start;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.3s, visibility 0.3s;\n  visibility: hidden;\n}\n\n.tooltip-inner {\n  display: block;\n}\n\n.show.tooltip {\n  z-index: 999;\n\n  opacity: 1;\n  visibility: visible;\n}\n\n.tooltip .popover_arrow {\n  width: 0;\n  height: 0;\n  border-style: solid;\n  position: absolute;\n  margin: 6px;\n  color: transparent;\n}\n\n.tooltip[x-placement^="top"],\n.show[x-placement^="top"]:not(.tooltip) {\n  margin-bottom: 5px;\n}\n\n.tooltip[x-placement^="top"] .popover_arrow {\n  border-width: 6px 6px 0 6px;\n  border-color: #131313 transparent transparent transparent;\n  bottom: -6px;\n  margin-bottom: 0;\n}\n\n.tooltip[x-placement^="top"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  left: -6px;\n  bottom: 1.5px;\n  border: solid;\n  border-width: 6px 6px 0 6px;\n  border-color: black transparent transparent transparent;\n}\n\n.tooltip[x-placement^="bottom"],\n.show[x-placement^="bottom"]:not(.tooltip) {\n  margin-top: 5px;\n}\n\n.tooltip[x-placement^="bottom"] .popover_arrow {\n  border-width: 0 6px 6px 6px;\n  border-color: transparent transparent #131313 transparent;\n  top: -6px;\n  margin-top: 0;\n}\n\n.tooltip[x-placement^="bottom"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  left: -6px;\n  top: 1.45px;\n  border: solid;\n  border-width: 0 6px 6px 6px;\n  border-color: transparent transparent black transparent;\n}\n\n.tooltip[x-placement^="right"],\n.show[x-placement^="right"]:not(.tooltip) {\n  margin-left: 5px;\n}\n\n.tooltip[x-placement^="right"] .popover_arrow {\n  border-width: 6px 6px 6px 0;\n  border-color: transparent #131313 transparent transparent;\n  left: -6px;\n  margin-left: 0;\n}\n\n.tooltip[x-placement^="right"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  top: -6px;\n  left: 1.45px;\n  border: solid;\n  border-width: 6px 6px 6px 0;\n  border-color: transparent black transparent transparent;\n}\n\n.tooltip[x-placement^="left"],\n.show[x-placement^="left"]:not(.tooltip) {\n  margin-right: 5px;\n}\n\n.tooltip[x-placement^="left"] .popover_arrow {\n  border-width: 6px 0 6px 6px;\n  border-color: transparent transparent transparent #131313;\n  right: -6px;\n  margin-right: 0;\n}\n\n.tooltip[x-placement^="left"] .popover_arrow::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  top: -6px;\n  right: 1.45px;\n  border: solid;\n  border-width: 6px 0 6px 6px;\n  border-color: transparent transparent transparent black;\n}\n');var on=function(e){fe(n,o.a.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return se(me(e=t.call.apply(t,[this].concat(i))),"state",{popperJS:null,visible:e.props.isVisible,showPopper:e.props.isVisible}),se(me(e),"popoverWrapperRef",o.a.createRef()),se(me(e),"referenceElm",o.a.createRef()),se(me(e),"setPopperJS",(function(){var t=e.state,n=t.showPopper,r=t.popperJS;n&&(r?r.scheduleUpdate():e.createPopper())})),se(me(e),"createPopper",(function(){var t=e.props,n=t.placement,r=t.modifiers,o=e.state.popperJS;e.referenceElm&&e.popoverWrapperRef&&e.setState({popperJS:new ne.a(e.referenceElm,e.popoverWrapperRef,{placement:n,modifiers:r},(function(){return setTimeout((function(){o.scheduleUpdate()}),10)}))})})),se(me(e),"doToggle",(function(t){e.setState({showPopper:t&&!0},(function(){var n=e.state,r=n.showPopper,o=n.visible;r&&e.setState({visible:void 0!==t?t:!o},(function(){e.createPopper(),e.state.popperJS.scheduleUpdate()}))}))})),se(me(e),"handleClick",(function(t){var n=t.target,r=e.state.showPopper;if(e.popoverWrapperRef&&r){if(e.popoverWrapperRef.contains(n)||e.referenceElm.contains(n)||n===e.referenceElm)return;e.doToggle(!1)}})),e}return ae(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.showPopper,r=this.props,o=r.isVisible,i=r.onChange;this.setPopperJS(),e.isVisible!==o&&o!==n&&n!==e.showPopper&&this.setState({showPopper:o}),i&&n!==t.showPopper&&i(n),n&&t.showPopper!==n&&this.createPopper()}},{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){return e.setPopperJS()}),3),document.addEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.clickable,s=t.domElement,u=t.email,c=t.id,l=(t.isVisible,t.material),f=(t.modifiers,t.placement,t.popover),d=t.sm,h=(t.style,t.onChange,t.tag),p=ve(t,["children","className","clickable","domElement","email","id","isVisible","material","modifiers","placement","popover","sm","style","onChange","tag"]),v=this.state,m=v.visible,g=v.showPopper,y=n[1],b=n[0],w=a()(m&&"show",f?"popover":!l&&!u&&"tooltip px-2",r),_=a()((l||u)&&"tooltip-inner",l&&(d?"md-inner":"md-inner-main"),u&&(d?"md-inner":"md-inner-email"));return o.a.createElement(o.a.Fragment,null,s?o.a.createElement(b.type,ue({},b.props,{onMouseEnter:function(){return!i&&e.doToggle(!0)},onMouseLeave:function(){return!i&&!f&&setTimeout((function(){return e.doToggle(!1)}),0)},onTouchStart:function(){return!i&&e.doToggle(!0)},onTouchEnd:function(){return!i&&!f&&e.doToggle(!1)},onMouseDown:function(){return i&&e.doToggle(!g)},onMouseUp:function(){return setTimeout((function(){return e.setPopperJS()}),0)},ref:function(t){return e.referenceElm=t},"data-popper":c})):o.a.createElement(b.type,ue({},b.props,{onMouseEnter:function(){return!i&&e.doToggle(!0)},onMouseLeave:function(){return!i&&!f&&setTimeout((function(){return e.doToggle(!1)}),0)},onTouchStart:function(){return!i&&e.doToggle(!0)},onTouchEnd:function(){return!i&&!f&&e.doToggle(!1)},onMouseDown:function(){i&&e.doToggle(!g),setTimeout((function(){return e.setPopperJS()}),100)},onMouseUp:function(){return setTimeout((function(){return e.setPopperJS()}),0)},innerRef:function(t){return e.referenceElm=t},"data-popper":c})),g&&o.a.createElement(h,ue({ref:function(t){return e.popoverWrapperRef=t},className:w,"data-popper":c},p),o.a.createElement(y.type,{className:a()(_,y.props.className)},y.props.children),o.a.createElement("span",{"x-arrow":"",className:a()("popover_arrow")})))}}]),n}();on.propTypes={children:u.a.node,clickable:u.a.bool,domElement:u.a.bool,email:u.a.bool,id:u.a.string,isVisible:u.a.bool,material:u.a.bool,modifiers:u.a.object,placement:u.a.string,popover:u.a.bool,sm:u.a.bool,style:u.a.objectOf(u.a.string),tag:u.a.string},on.defaultProps={clickable:!1,domElement:!1,id:"popper",isVisible:!1,placement:"top",popover:!1,style:{display:"inline-block"},tag:"div"};var an=function(e){var t=e.attributes,n=e.children,r=e.className,i=e.tag,s=a()("popover-body",r);return o.a.createElement(i,ue({"data-test":"popover-body"},t,{className:s}),n)};an.propTypes={children:u.a.node,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},an.defaultProps={tag:"div"};var sn=function(e){var t=e.attributes,n=e.children,r=e.className,i=e.tag,s=a()("popover-header",r);return o.a.createElement(i,ue({"data-test":"popover-header"},t,{className:s}),n)};sn.propTypes={children:u.a.node,className:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string])},sn.defaultProps={className:"",tag:"h3"};var un=function(e){var t=e.animated,n=e.barClassName,r=e.children,i=e.className,s=e.color,u=e.height,c=e.material,l=e.max,f=e.min,d=e.preloader,h=e.striped,p=e.value,v=e.wrapperStyle,m=ve(e,["animated","barClassName","children","className","color","height","material","max","min","preloader","striped","value","wrapperStyle"]),g=(p-f)/(l-f)*100,y=a()("progress",c&&"md-progress",d&&"".concat(s?"".concat(s,"-color"):"primary-color","-dark"),i),b=a()(d?"indeterminate":"progress-bar",n||null,t?"progress-bar-animated":null,s?"bg-".concat(s):null,h||t?"progress-bar-striped":null),w=u||r&&"1rem",_=le(le({},v),{},{height:w});return o.a.createElement("div",ue({"data-test":"progress"},m,{className:y,style:_}),o.a.createElement("div",{className:b,style:{width:"".concat(g,"%"),height:w},role:"progressbar","aria-valuenow":p,"aria-valuemin":f,"aria-valuemax":l},r))};un.propTypes={animated:u.a.bool,barClassName:u.a.string,children:u.a.node,className:u.a.string,color:u.a.string,height:u.a.string,material:u.a.bool,max:u.a.number,min:u.a.number,preloader:u.a.bool,striped:u.a.bool,value:u.a.number,wrapperStyle:u.a.object},un.defaultProps={animated:!1,barClassName:"",className:"",color:"indigo",height:"",material:!1,max:100,min:0,preloader:!1,striped:!1,value:0,wrapperStyle:{}};var cn=function(e){var t=ye(Object(r.useState)([]),2),n=t[0],i=t[1],s=ye(Object(r.useState)(null),2),u=s[0],c=s[1],l=ye(Object(r.useState)({title:"",index:null}),2),f=l[0],d=l[1],h=ye(Object(r.useState)(""),2),p=h[0],v=h[1],m=ye(Object(r.useState)(null),2),g=m[0],y=m[1],b=function(e){e.target.closest(".popover")||y(null)};Object(r.useEffect)((function(){return window.addEventListener("click",b),function(){return window.removeEventListener("click",b)}}),[]),Object(r.useEffect)((function(){i(e.data)}),[e.data]),Object(r.useEffect)((function(){var e=n.findIndex((function(e){return e.choosed}));-1!==e&&d({title:n[e].tooltip,index:e})}),[n]),Object(r.useEffect)((function(){if(e.getValue){var t=f.title,n=f.index;n=null!==n?n+1:n,e.getValue({title:t,value:n})}}),[f,e]);var w=function(){c(null)},_=function(){v(""),y(null)},x=function(e){v(e.target.value)},E=e.tag,C=e.containerClassName,k=e.iconClassName,S=e.iconFaces,T=e.iconSize,O=e.iconRegular,I=e.fillClassName,N=e.fillColors,R=(e.getValue,e.feedback),A=e.submitHandler,P=ve(e,["tag","containerClassName","iconClassName","iconFaces","iconSize","iconRegular","fillClassName","fillColors","getValue","feedback","submitHandler"]),D=a()("mdb-rating","d-flex","justify-content-start","align-items-center",C),M=[];return n.length&&(M=n.map((function(e,t){var n=e.icon,r=void 0===n?"star":n,i=e.tooltip,s=e.far,l=e.size,h=(e.choosed,ve(e,["icon","tooltip","far","size","choosed"])),v=null!==f.index,m=null!==u,b=R&&null!==g&&g===t,E=!1;v?(E=t<=f.index,m&&u>f.index&&(E=t<=u)):m&&(E=t<=u);var C="";if(N){var D=null;v?(D=f.index,m&&(D=u)):m&&(D=u);var M=Array.isArray(N);null!==D&&(C=M?N[D]:["oneStar","twoStars","threeStars","fourStars","fiveStars"][D])}var j=a()("py-2 px-1 rate-popover",E&&(N?C:I),k),L=r;if(S){var F=["angry","frown","meh","smile","laugh"];L="meh-blank",v&&t<=f.index?(L=F[f.index],m&&(L=F[u])):m&&t<=u&&(L=F[u])}var B=i;return b&&(B=o.a.createElement("form",{onSubmit:function(e){A(e,i,g+1,p),_()}},o.a.createElement(sn,null,i),o.a.createElement(an,null,o.a.createElement("textarea",{type:"text",className:"md-textarea form-control py-0",value:p,onChange:x}),o.a.createElement("div",{className:"d-flex align-items-center justify-content-around mt-2"},o.a.createElement(Ft,{type:"submit",color:"primary",size:"sm"},"Submit!"),o.a.createElement("button",{onMouseDown:_,style:{backgroundColor:"#fff",border:"none",padding:"0.5rem 1.6rem"}},"Close"))))),o.a.createElement(on,{key:i,domElement:!0,placement:"top",tag:"span",popover:b,isVisible:b,clickable:b},o.a.createElement("span",null,o.a.createElement(Ae,ue({style:{cursor:"pointer"}},P,h,{icon:L,size:l||T,far:s||O,className:j,"data-index":t,"data-original-title":i,onMouseEnter:function(){return function(e,t){c(t)}(0,t)},onMouseLeave:w,onClick:function(e){return function(e,t,n){n.stopPropagation(),e===f.title&&t===f.index?(d({title:"",index:null}),R&&y(null)):(d({title:e,index:t}),R&&setTimeout((function(){y(t)}),1))}(i,t,e)}}))),o.a.createElement("div",{style:{userSelect:"none"}},B))}))),o.a.createElement(E,{"data-test":"rating",className:D},M)};cn.propTypes={containerClassName:u.a.string,data:u.a.arrayOf(u.a.shape({choosed:u.a.bool,icon:u.a.string,tooltip:u.a.string})),feedback:u.a.bool,fillClassName:u.a.string,fillColors:u.a.oneOfType([u.a.bool,u.a.arrayOf(u.a.string)]),getValue:u.a.func,iconClassName:u.a.string,iconFaces:u.a.bool,iconRegular:u.a.bool,iconSize:u.a.string,submitHandler:u.a.func,tag:u.a.string},cn.defaultProps={containerClassName:"",data:[{tooltip:"Very Bad"},{tooltip:"Poor"},{tooltip:"Ok"},{tooltip:"Good"},{tooltip:"Excellent"}],feedback:!1,fillClassName:"fiveStars",iconClassName:"",iconSize:"1x",iconRegular:!1,tag:"div",submitHandler:function(e){return e.preventDefault()}};var ln=function(e){var t=e.around,n=e.between,r=e.bottom,i=e.center,s=e.className,u=e.end,c=e.middle,l=e.start,f=e.tag,d=e.top,h=ve(e,["around","between","bottom","center","className","end","middle","start","tag","top"]),p=a()("row",u&&"justify-content-end",l&&"justify-content-start",i&&"justify-content-center",n&&"justify-content-between",t&&"justify-content-around",d&&"align-self-start",c&&"align-self-center",r&&"align-self-end",s);return o.a.createElement(f,ue({"data-test":"row"},h,{className:p}))};ln.propTypes={around:u.a.bool,between:u.a.bool,bottom:u.a.bool,center:u.a.bool,className:u.a.string,end:u.a.bool,middle:u.a.bool,start:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string]),top:u.a.bool},ln.defaultProps={tag:"div"};var fn=o.a.createContext({activeItem:null,length:null,slide:null}),dn={activeItem:u.a.any,className:u.a.string,tabId:u.a.any},hn=function(e){fe(n,o.a.Component);var t=ge(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return se(me(e=t.call.apply(t,[this].concat(o))),"state",{activeItem:e.props.activeItem}),e}return ae(n,[{key:"render",value:function(){var e=this.props.className,t=this.state.activeItem,n=Se(this.props,Object.keys(dn)),r=a()("tab-content",e);return o.a.createElement(fn.Provider,{value:{activeItemId:t}},o.a.createElement("div",ue({"data-test":"tabContent"},n,{className:r})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeItem!==e.activeItem?{activeItem:e.activeItem}:null}}]),n}();hn.propTypes=dn;var pn=function(e){fe(n,o.a.Component);var t=ge(n);function n(){return oe(this,n),t.apply(this,arguments)}return ae(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tabId,r=ve(e,["className","tabId"]);return o.a.createElement(fn.Consumer,null,(function(e){var i=e.activeItemId,s=a()("tab-pane",{active:n===i},t);return o.a.createElement("div",ue({"data-test":"tab-pane"},r,{className:s,role:"tabpanel"}))}))}}]),n}();pn.propTypes={className:u.a.string,tabId:u.a.any};var vn=function(e){var t,n=e.children,r=e.color,i=e.columns,s=e.textWhite,u=ve(e,["children","color","columns","textWhite"]),c="dark"===r||"light"===r,l=a()((se(t={"text-white":s},"thead-".concat(r),r&&c),se(t,"".concat(r),r&&!c),t));return o.a.createElement("thead",ue({"data-test":"table-head"},u,{className:l}),i&&o.a.createElement("tr",null,i.map((function(e){return o.a.createElement("th",{key:e.field,className:e.hasOwnProperty("minimal")?"th-".concat(e.minimal):""},e.label)}))),n)};vn.propTypes={children:u.a.node,color:u.a.string,columns:u.a.arrayOf(u.a.object),textWhite:u.a.bool},vn.defaultProps={textWhite:!1};var mn=o.a.createContext(),gn=function(e){var t=ye(Object(r.useState)(null),2),n=t[0],i=t[1];Object(r.useEffect)((function(){e.getValue&&e.getValue({item:n?n.closest("li"):n,value:n?n.closest("li").childNodes[1].textContent:n})}),[n,e]);var s=e.theme,u=e.children,c=e.className,l=(e.getValue,e.header),f=e.listClassName,d=e.openOnToggler,h=e.tag,p=ve(e,["theme","children","className","getValue","header","listClassName","openOnToggler","tag"]),v=a()("border",s?"treeview-".concat(s):"treeview",c),m=a()("list-unstyled",l?"pb-2 mb-1":"py-2 my-1",s&&"treeview-".concat(s,"-list"),"animated"===s||!s&&"pl-3",f),g=l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h6",{className:"pt-3 pl-3"},l),o.a.createElement("hr",null));return o.a.createElement(h,ue({"data-test":"treeview"},p,{className:v}),g,o.a.createElement("ul",{className:m},o.a.createElement(mn.Provider,{value:{active:n,openOnToggler:d,theme:s,getActive:function(e){return i(e),e}}},u)))};gn.propTypes={className:u.a.string,getValue:u.a.func,header:u.a.string,listClassName:u.a.string,openOnToggler:u.a.bool,tag:u.a.string,theme:u.a.string},gn.defaultProps={openOnToggler:!1,tag:"div",theme:"",getValue:function(){}};var yn=function(e){var t=ye(Object(r.useState)(""),2),n=t[0],i=t[1],s=Object(r.useRef)(null),u=e.className,c=e.disabled,l=e.disabledClassName,f=e.fab,d=e.fal,h=e.far,p=e.icon,v=(e.opened,e.tag),m=e.title,g=ve(e,["className","disabled","disabledClassName","fab","fal","far","icon","opened","tag","title"]),y=Object(r.useContext)(mn),b=y.active,w=y.getActive,_=y.theme;Object(r.useEffect)((function(){s&&s.current&&i(s.current)}),[]);var x=a()(c&&l,_&&"treeview-".concat(_,"-items treeview-").concat(_,"-element closed mb-1"),b!==n||b.classList.contains("opened")?"":"opened",u);return o.a.createElement(v,ue({"data-test":"treeview-item"},g,{className:x,ref:s,onMouseDown:function(){c||(n.classList.contains("opened")?w(null):w(n))},style:{transform:"translateY(0.3em)"}}),o.a.createElement(Ae,{className:"mr-2",fab:f,fal:d,far:h,icon:p}),o.a.createElement("span",null,m))};yn.propTypes={className:u.a.string,disabled:u.a.bool,disabledClassName:u.a.string,fab:u.a.bool,fal:u.a.bool,far:u.a.bool,icon:u.a.string,opened:u.a.bool,tag:u.a.oneOfType([u.a.func,u.a.string])},yn.defaultProps={disabled:!1,fab:!1,fal:!1,far:!1,icon:"folder-open",opened:!1,tag:"li"};var bn=function(e){var t=ye(Object(r.useState)(!1),2),n=t[0],i=t[1];Object(r.useEffect)((function(){var t=e.opened;i(t)}),[e,e.opened]);var s=function(){return i(!n)},u=e.children,c=e.className,l=e.disabled,f=e.disabledClassName,d=e.fab,h=e.fal,p=e.far,v=e.icon,m=(e.opened,e.tag),g=e.title,y=ve(e,["children","className","disabled","disabledClassName","fab","fal","far","icon","opened","tag","title"]),b=Object(r.useContext)(mn),w=b.theme,_=b.openOnToggler,x=a()("nested",n&&"active"),E=a()(w&&"closed treeview-".concat(w,"-element d-block"),!u&&"ml-2",n&&"opened",l&&f),C=a()(w&&"treeview-".concat(w,"-items px-0"),c),k=a()(w?"mx-2":"mr-2"),S=u&&o.a.createElement("ul",{className:x,style:{height:"calc(100% + 0.6rem)",marginLeft:"2px"}},u),T=w&&o.a.createElement(it,{isOpen:n},S),O="colorful"!==w?"angle-right":n?"minus-circle":"plus-circle",I=u&&o.a.createElement(Ae,{icon:O,rotate:"colorful"!==w?n?"90 down":"0":"",className:"rotate",onClick:_?s:null}),N=u&&o.a.createElement(Ft,{flat:!0,className:"m-0 py-0 px-1 mr-1 z-depth-0",onClick:_?s:null},I);return o.a.createElement(m,ue({"data-test":"treeview-list"},y,{className:C,style:{cursor:w||_?"unset":"pointer"}}),o.a.createElement("span",{className:E,onClick:l||_?null:s},w?I:N,o.a.createElement("span",null,o.a.createElement(Ae,{className:k,fab:d,fal:h,far:p,icon:v}),g)),T||S)};bn.propTypes={children:u.a.array,className:u.a.string,disabled:u.a.bool,disabledClassName:u.a.string,fab:u.a.bool,fal:u.a.bool,far:u.a.bool,icon:u.a.string,opened:u.a.bool,tag:u.a.string,title:u.a.any},bn.defaultProps={disabled:!1,fab:!1,fal:!1,far:!1,icon:"folder-open",opened:!1,tag:"li"},Pe(".note-dark {\n  background-color: #000;\n  color: #fff;\n  border-color: #58595a;\n}\n\n.note-default {\n  background-color: rgb(164, 243, 235);\n  border-color: #00695c;\n}\n\n.note-elegant {\n  background-color: #2E2E2E;\n  border-color: #212121;\n  color: #fff;\n}\n\n.note-stylish {\n  background-color: #4B515D;\n  border-color: #3E4551;\n  color: #fff;\n}\n\n.note-unique {\n  background-color: #3F729B;\n  border-color: #1C2331;\n  color: #fff;\n}\n\n.note-special {\n  background-color: #37474F;\n  border-color: #263238;\n  color: #fff;\n}\n");var wn=function(e){fe(n,o.a.Component);var t=ge(n);function n(){return oe(this,n),t.apply(this,arguments)}return ae(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tag,r=e.children,i=e.variant,s=e.blockquote,u=e.bqColor,c=(e.bqTitle,e.bqFooter,e.bqText,e.listUnStyled),l=e.listInLine,f=e.colorText,d=e.text,h=e.note,p=e.noteColor,v=e.noteTitle,m=ve(e,["className","tag","children","variant","blockquote","bqColor","bqTitle","bqFooter","bqText","listUnStyled","listInLine","colorText","text","note","noteColor","noteTitle"]),g=a()(i&&i,f&&"".concat(f.toLowerCase(),"-text"),d&&"text-".concat(d),t),y=a()("blockquote",u&&"bq-".concat(u),t),b=a()("note",p&&"note-".concat(p),t),w=""!==g?g:null;return s?o.a.createElement("blockquote",{className:y},r):c?o.a.createElement("ul",{className:"list-unstyled"},r):l?o.a.createElement("ul",{className:"list-inline"},r):h?o.a.createElement("p",{className:b},o.a.createElement("strong",null,v),r):o.a.createElement(n,ue({"data-test":"typography"},m,{className:w}),r)}}]),n}();wn.propTypes={bgText:u.a.bool,blockquote:u.a.bool,bqColor:u.a.string,bqFooter:u.a.bool,bqTitle:u.a.string,children:u.a.oneOfType([u.a.string,u.a.object]),className:u.a.string,colorText:u.a.string,listInLine:u.a.bool,listUnStyled:u.a.bool,note:u.a.bool,noteColor:u.a.string,noteTitle:u.a.string,tag:u.a.oneOfType([u.a.func,u.a.string]),text:u.a.string,variant:u.a.string},wn.defaultProps={blockquote:!1,listInLine:!1,listUnStyled:!1,noteColor:"primary",tag:"p"}},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r=n(176);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(1),o=n.n(r);t.a=o.a.createContext(null)},function(e,t,n){"use strict";var r=n(1),o=r.createContext({});t.a=o},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return v}));var r=n(11),o=n(29),i=n(1),a=n.n(i),s=n(27),u=n.n(s),c=!1,l=n(61),f="unmounted",d="exited",h="entering",p="entered",v="exiting",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=d,r.appearStatus=h):o=p:o=t.unmountOnExit||t.mountOnEnter?f:d,r.state={status:o},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==p&&(t=h):n!==h&&n!==p||(t=v)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:p},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:h},(function(){t.props.onEntering(i,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:v},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(l.a.Provider,{value:null},"function"===typeof n?n(e,o):a.a.cloneElement(a.a.Children.only(n),o))},t}(a.a.Component);function g(){}m.contextType=l.a,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=f,m.EXITED=d,m.ENTERING=h,m.ENTERED=p,m.EXITING=v;t.e=m},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(110),o="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=n(188)(),c=s&&u,l=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!==typeof(o=r)||"[object Function]"!==i.call(o)||!r())return;var o;c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n},f=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)l(e,i[s],t[i[s]],n[i[s]])};f.supportsDescriptors=!!c,e.exports=f},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=null;return t.forEach((function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}})),o}))};var r,o=n(165),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.socialSvgMask=t.socialSvgContent=t.socialSvg=t.socialContainer=t.socialIcon=void 0;t.socialIcon={display:"inline-block",width:"50px",height:"50px",position:"relative",overflow:"hidden",verticalAlign:"middle"};t.socialContainer={position:"absolute",top:0,left:0,width:"100%",height:"100%"};t.socialSvg={borderRadius:"50%",position:"absolute",top:0,left:0,width:"100%",height:"100%",fillRule:"evenodd"};var o={msTransition:"fill 170ms ease-in-out",OTransition:"fill 170ms ease-in-out",MozTransition:"fill 170ms ease-in-out",WebkitTransition:"fill 170ms ease-in-out",transition:"fill 170ms ease-in-out",fill:"transparent"};t.socialSvgContent=o;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},o,{fill:"#0f0b0b"});t.socialSvgMask=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(68);function o(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(154),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var o=h(n);o&&o!==p&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=n(8),o=n(11),i=n(1),a=n.n(i),s=n(56),u=["as","disabled","onKeyDown"];function c(e){return!e||"#"===e.trim()}var l=a.a.forwardRef((function(e,t){var n=e.as,i=void 0===n?"a":n,l=e.disabled,f=e.onKeyDown,d=Object(o.a)(e,u),h=function(e){var t=d.href,n=d.onClick;(l||c(t))&&e.preventDefault(),l?e.stopPropagation():n&&n(e)};return c(d.href)&&(d.role=d.role||"button",d.href=d.href||"#"),l&&(d.tabIndex=-1,d["aria-disabled"]=!0),a.a.createElement(i,Object(r.a)({ref:t},d,{onClick:h,onKeyDown:Object(s.a)((function(e){" "===e.key&&(e.preventDefault(),h(e))}),f)}))}));l.displayName="SafeAnchor",t.a=l},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";function r(e){var t="";if(!e)try{e=n(164)}catch(r){t=r.toString()}return{readFile:e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){return e?r(e):n(t)}))}))}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)}}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=null},function(e,t,n){"use strict";var r=n(44),o=n(12),i=n(237),a=n(8),s=["xs","sm","md","lg","xl"];function u(e,t,n){var o;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(a.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(a.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(o={minHeight:56},Object(r.a)(o,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(o,e.up("sm"),{minHeight:64}),o)},n)}var c=n(130),l={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(37),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(y.d)(e.main,o):"dark"===t&&(e.dark=Object(y.b)(e.main,i)))}function x(e){return Math.round(1e5*e)/1e5}function E(e){return x(e)}var C={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function S(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,s=void 0===r?k:r,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,_=n.pxToRem,S=Object(o.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,O=_||function(e){return"".concat(e/b*T,"rem")},I=function(e,t,n,r,o){return Object(a.a)({fontFamily:s,fontWeight:e,fontSize:O(t),lineHeight:n},s===k?{letterSpacing:"".concat(x(r/t),"em")}:{},o,w)},N={h1:I(f,96,1.167,-1.5),h2:I(f,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(v,14,1.75,.4,C),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,C)};return Object(i.a)(Object(a.a)({htmlFontSize:b,pxToRem:O,round:E,fontFamily:s,fontSize:c,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:g},N),S,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var O=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],I={borderRadius:4},N=n(22),R=(n(53),n(39));var A=function(e,t){return t?Object(i.a)(e,t,{clone:!1}):e},P={xs:0,sm:600,md:960,lg:1280,xl:1920},D={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(P[e],"px)")}};var M={m:"margin",p:"padding"},j={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},L={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!L[e])return[e];e=L[e]}var t=e.split(""),n=Object(N.a)(t,2),r=n[0],o=n[1],i=M[r],a=j[o]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),B=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function U(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function V(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function z(e){var t=U(e.theme);return Object.keys(e).map((function(n){if(-1===B.indexOf(n))return null;var r=V(F(n),t),o=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||D;return t.reduce((function(e,o,i){return e[r.up(r.keys[i])]=n(t[i]),e}),{})}if("object"===Object(R.a)(t)){var o=e.theme.breakpoints||D;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}(e,o,r)})).reduce(A,{})}z.propTypes={},z.filterProps=B;var W={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},q={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function H(e){return"".concat(Math.round(e),"ms")}var G={easing:W,duration:q,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?q.standard:n,i=t.easing,a=void 0===i?W.easeInOut:i,s=t.delay,u=void 0===s?0:s;Object(o.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:H(r)," ").concat(a," ").concat("string"===typeof u?u:H(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},K=n(76);function Y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,x=void 0===r?{}:r,E=e.palette,C=void 0===E?{}:E,k=e.spacing,T=e.typography,N=void 0===T?{}:T,R=Object(o.a)(e,["breakpoints","mixins","palette","spacing","typography"]),A=function(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,r=e.secondary,s=void 0===r?{light:h.A200,main:h.A400,dark:h.A700}:r,u=e.error,x=void 0===u?{light:p[300],main:p[500],dark:p[700]}:u,E=e.warning,C=void 0===E?{light:v[300],main:v[500],dark:v[700]}:E,k=e.info,S=void 0===k?{light:m[300],main:m[500],dark:m[700]}:k,T=e.success,O=void 0===T?{light:g[300],main:g[500],dark:g[700]}:T,I=e.type,N=void 0===I?"light":I,R=e.contrastThreshold,A=void 0===R?3:R,P=e.tonalOffset,D=void 0===P?.2:P,M=Object(o.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function j(e){return Object(y.c)(e,w.text.primary)>=A?w.text.primary:b.text.primary}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(a.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(c.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(c.a)(5,JSON.stringify(e.main)));return _(e,"light",n,D),_(e,"dark",r,D),e.contrastText||(e.contrastText=j(e.main)),e},F={dark:w,light:b};return Object(i.a)(Object(a.a)({common:l,type:N,primary:L(n),secondary:L(s,"A400","A200","A700"),error:L(x),warning:L(C),info:L(S),success:L(O),grey:f,contrastThreshold:A,getContrastText:j,augmentColor:L,tonalOffset:D},F[N]),M)}(C),P=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,u=e.step,c=void 0===u?5:u,l=Object(o.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e,t){var r=s.indexOf(t);return r===s.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:t)-c/100).concat(i,")")}return Object(a.a)({keys:s,values:n,up:f,down:function(e){var t=s.indexOf(e)+1,r=n[s[t]];return t===s.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(i,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},l)}(n),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=U({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(k),M=Object(i.a)({breakpoints:P,direction:"ltr",mixins:u(P,D,x),overrides:{},palette:A,props:{},shadows:O,typography:S(A,N),spacing:D,shape:I,transitions:G,zIndex:K.a},R),j=arguments.length,L=new Array(j>1?j-1:0),F=1;F<j;F++)L[F-1]=arguments[F];return M=L.reduce((function(e,t){return Object(i.a)(e,t)}),M)}var $=Y();t.a=$},function(e,t,n){"use strict";n.d(t,"a",(function(){return i.default}));var r,o,i=n(13),a=(n(142),n(143),n(30)),s=n(25),u=n(4),c=n(24),l=(n(36),{Firestore:a.e,GeoPoint:a.a,Timestamp:a.g,Blob:a.f,Transaction:a.j,WriteBatch:a.c,DocumentReference:a.d,DocumentSnapshot:a.k,Query:a.n,QueryDocumentSnapshot:a.s,QuerySnapshot:a.r,CollectionReference:a.o,FieldPath:a.q,FieldValue:a.m,setLogLevel:a.p,CACHE_SIZE_UNLIMITED:a.b});(function(e,t){e.INTERNAL.registerComponent(new s.Component("firestore",(function(e){return function(e,t){return new a.e(e,new a.h(e,t),new a.i)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},l)))})(r=i.default),r.registerVersion("@firebase/firestore","2.4.1"),(o=a.e).prototype.loadBundle=a.t,o.prototype.namedQuery=a.l;var f=function(e,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},f(e,t)};function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function h(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{c(o.next(e))}catch(r){a(r)}}function u(e){try{c(o.throw(e))}catch(r){a(r)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((o=o.apply(e,t||[])).next())}))}function p(e,t){var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(r){u=[6,r],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},m=function(e){function t(n,r,o){var i=e.call(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i.code=n,i.details=o,i}return d(t,e),t}(Error);var g=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return h(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return h(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return h(this,void 0,void 0,(function(){var e,t;return p(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function y(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var b=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return y(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?y(e,(function(e){return t.decode(e)})):e},e}();var w=function(){function e(e,t,n,o,i,a){var s=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=o,this.fetchImpl=a,this.serializer=new b,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new g(t,n),this.cancelAllRequests=new Promise((function(e){s.deleteService=function(){return e()}}));try{var u=new URL(i);this.customDomain=u.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return h(this,void 0,void 0,(function(){var r,o,i;return p(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return o=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:i=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,o.json()];case 7:return i=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:o.status,json:i}]}}))}))},e.prototype.getAppCheckToken=function(){return h(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return h(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,f,d,h,g;return p(this,(function(p){switch(p.label){case 0:return o=this._url(e),t=this.serializer.encode(t),i={data:t},a={},[4,this.contextProvider.getContext()];case 1:return(s=p.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new m("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(u),l=c.timer,f=c.promise,[4,Promise.race([_(l,this.postJSON(o,i,a)),f,_(l,this.cancelAllRequests)])];case 2:if(!(d=p.sent()))throw new m("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var o=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=o,a=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"===typeof u){if(!v[u])return new m("internal","internal");o=v[u],i=u}var c=s.message;"string"===typeof c&&(i=c),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(r){}return"ok"===o?null:new m(o,i,a)}(d.status,d.json,this.serializer),h)throw h;if(!d.json)throw new m("internal","Response is not valid JSON object.");if("undefined"===typeof(g=d.json.data)&&(g=d.json.result),"undefined"===typeof g)throw new m("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},e}();function _(e,t){return h(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:w};e.INTERNAL.registerComponent(new s.Component("functions",(function(e,n){var r=n.instanceIdentifier,o=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new w(o,i,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(i.default,fetch.bind(self)),i.default.registerVersion("@firebase/functions","0.6.16");var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x.apply(this,arguments)};function E(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{c(o.next(e))}catch(r){a(r)}}function u(e){try{c(o.throw(e))}catch(r){a(r)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((o=o.apply(e,t||[])).next())}))}function C(e,t){var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(r){u=[6,r],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function k(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function T(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var O,I=n(55),N="0.4.32",R=1e4,A="w:"+N,P="FIS_v2",D="https://firebaseinstallations.googleapis.com/v1",M=36e5,j=((O={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',O["not-registered"]="Firebase Installation is not registered.",O["installation-not-found"]="Firebase Installation not found.",O["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',O["app-offline"]="Could not process request. Application offline.",O["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",O),L=new u.ErrorFactory("installations","Installations",j);function F(e){return e instanceof u.FirebaseError&&e.code.includes("request-failed")}function B(e){var t=e.projectId;return D+"/projects/"+t+"/installations"}function U(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function V(e,t){return E(this,void 0,void 0,(function(){var n,r;return C(this,(function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,L.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function z(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function W(e,t){var n=t.refreshToken,r=z(e);return r.append("Authorization",function(e){return P+" "+e}(n)),r}function q(e){return E(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function H(e,t){var n=t.fid;return E(this,void 0,void 0,(function(){var t,r,o,i,a,s;return C(this,(function(u){switch(u.label){case 0:return t=B(e),r=z(e),o={fid:n,authVersion:P,appId:e.appId,sdkVersion:A},i={method:"POST",headers:r,body:JSON.stringify(o)},[4,q((function(){return fetch(t,i)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:U(s.authToken)}];case 3:return[4,V("Create Installation",a)];case 4:throw u.sent()}}))}))}function G(e){return new Promise((function(t){setTimeout(t,e)}))}var K=/^[cdef][\w-]{21}$/,Y="";function $(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,T([],S(n)))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return K.test(t)?t:Y}catch(n){return Y}}function X(e){return e.appName+"!"+e.appId}var Q=new Map;function J(e,t){var n=X(e);Z(n,t),function(e,t){var n=te();n&&n.postMessage({key:e,fid:t});ne()}(n,t)}function Z(e,t){var n,r,o=Q.get(e);if(o)try{for(var i=k(o),a=i.next();!a.done;a=i.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var ee=null;function te(){return!ee&&"BroadcastChannel"in self&&((ee=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Z(e.data.key,e.data.fid)}),ee}function ne(){0===Q.size&&ee&&(ee.close(),ee=null)}var re,oe="firebase-installations-database",ie=1,ae="firebase-installations-store",se=null;function ue(){return se||(se=Object(I.openDb)(oe,ie,(function(e){if(0===e.oldVersion)e.createObjectStore(ae)}))),se}function ce(e,t){return E(this,void 0,void 0,(function(){var n,r,o,i,a;return C(this,(function(s){switch(s.label){case 0:return n=X(e),[4,ue()];case 1:return r=s.sent(),o=r.transaction(ae,"readwrite"),[4,(i=o.objectStore(ae)).get(n)];case 2:return a=s.sent(),[4,i.put(t,n)];case 3:return s.sent(),[4,o.complete];case 4:return s.sent(),a&&a.fid===t.fid||J(e,t.fid),[2,t]}}))}))}function le(e){return E(this,void 0,void 0,(function(){var t,n,r;return C(this,(function(o){switch(o.label){case 0:return t=X(e),[4,ue()];case 1:return n=o.sent(),[4,(r=n.transaction(ae,"readwrite")).objectStore(ae).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function fe(e,t){return E(this,void 0,void 0,(function(){var n,r,o,i,a,s;return C(this,(function(u){switch(u.label){case 0:return n=X(e),[4,ue()];case 1:return r=u.sent(),o=r.transaction(ae,"readwrite"),[4,(i=o.objectStore(ae)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,i.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,i.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,o.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||J(e,s.fid),[2,s]}}))}))}function de(e){return E(this,void 0,void 0,(function(){var t,n,r;return C(this,(function(o){switch(o.label){case 0:return[4,fe(e,(function(n){var r=function(e){var t=e||{fid:$(),registrationStatus:0};return ve(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(L.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return E(this,void 0,void 0,(function(){var n,r;return C(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,H(e,t)];case 1:return n=o.sent(),[2,ce(e,n)];case 2:return F(r=o.sent())&&409===r.customData.serverCode?[4,le(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,ce(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:he(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}))];case 1:return(n=o.sent()).fid!==Y?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function he(e){return E(this,void 0,void 0,(function(){var t,n,r,o;return C(this,(function(i){switch(i.label){case 0:return[4,pe(e)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,G(100)];case 3:return i.sent(),[4,pe(e)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,de(e)];case 6:return n=i.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,t]}}))}))}function pe(e){return fe(e,(function(e){if(!e)throw L.create("installation-not-found");return ve(e)}))}function ve(e){return 1===(t=e).registrationStatus&&t.registrationTime+R<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function me(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return E(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return C(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return B(e)+"/"+n+"/authTokens:generate"}(n,t),o=W(n,t),(i=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",i.getPlatformInfoString()),a={installation:{sdkVersion:A}},s={method:"POST",headers:o,body:JSON.stringify(a)},[4,q((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,U(c)];case 3:return[4,V("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function ge(e,t){return void 0===t&&(t=!1),E(this,void 0,void 0,(function(){var n,r,o;return C(this,(function(i){switch(i.label){case 0:return[4,fe(e.appConfig,(function(r){if(!be(r))throw L.create("not-registered");var o=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+M}(e)}(o))return r;if(1===o.requestStatus)return n=function(e,t){return E(this,void 0,void 0,(function(){var n,r;return C(this,(function(o){switch(o.label){case 0:return[4,ye(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,G(100)];case 3:return o.sent(),[4,ye(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ge(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw L.create("app-offline");var i=function(e){var t={requestStatus:1,requestTime:Date.now()};return x(x({},e),{authToken:t})}(r);return n=function(e,t){return E(this,void 0,void 0,(function(){var n,r,o;return C(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,8]),[4,me(e,t)];case 1:return n=i.sent(),o=x(x({},t),{authToken:n}),[4,ce(e.appConfig,o)];case 2:return i.sent(),[2,n];case 3:return!F(r=i.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,le(e.appConfig)];case 4:return i.sent(),[3,7];case 5:return o=x(x({},t),{authToken:{requestStatus:0}}),[4,ce(e.appConfig,o)];case 6:i.sent(),i.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,i),i}))];case 1:return r=i.sent(),n?[4,n]:[3,3];case 2:return o=i.sent(),[3,4];case 3:o=r.authToken,i.label=4;case 4:return[2,o]}}))}))}function ye(e){return fe(e,(function(e){if(!be(e))throw L.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+R<Date.now()?x(x({},e),{authToken:{requestStatus:0}}):e}))}function be(e){return void 0!==e&&2===e.registrationStatus}function we(e){return E(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return[4,de(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function _e(e,t){return E(this,void 0,void 0,(function(){var n,r,o,i;return C(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return B(e)+"/"+n}(e,t),r=W(e,t),o={method:"DELETE",headers:r},[4,q((function(){return fetch(n,o)}))];case 1:return(i=a.sent()).ok?[3,3]:[4,V("Delete Installation",i)];case 2:throw a.sent();case 3:return[2]}}))}))}function xe(e,t){var n=e.appConfig;return function(e,t){te();var n=X(e),r=Q.get(n);r||(r=new Set,Q.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=X(e),r=Q.get(n);r&&(r.delete(t),0===r.size&&Q.delete(n),ne())}(n,t)}}function Ee(e){return L.create("missing-app-config-values",{valueName:e})}(re=i.default).INTERNAL.registerComponent(new s.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Ee("App Configuration");if(!e.name)throw Ee("App Name");try{for(var r=k(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var i=o.value;if(!e.options[i])throw Ee(i)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},o={app:t,getId:function(){return function(e){return E(this,void 0,void 0,(function(){var t,n,r;return C(this,(function(o){switch(o.label){case 0:return[4,de(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):ge(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),E(this,void 0,void 0,(function(){return C(this,(function(n){switch(n.label){case 0:return[4,we(e.appConfig)];case 1:return n.sent(),[4,ge(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return E(this,void 0,void 0,(function(){var t,n;return C(this,(function(r){switch(r.label){case 0:return[4,fe(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw L.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw L.create("app-offline");case 3:return[4,_e(t,n)];case 4:return r.sent(),[4,le(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return xe(r,e)}};return o}),"PUBLIC")),re.registerVersion("@firebase/installations",N);var Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ce.apply(this,arguments)};function ke(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{c(o.next(e))}catch(r){a(r)}}function u(e){try{c(o.throw(e))}catch(r){a(r)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((o=o.apply(e,t||[])).next())}))}function Se(e,t){var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(r){u=[6,r],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function Te(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Ie(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ne,Re,Ae=((Ne={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ne["only-available-in-window"]="This method is available in a Window context.",Ne["only-available-in-sw"]="This method is available in a service worker context.",Ne["permission-default"]="The notification permission was not granted and dismissed instead.",Ne["permission-blocked"]="The notification permission was not granted and blocked instead.",Ne["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Ne["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Ne["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Ne["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Ne["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Ne["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Ne["token-update-no-token"]="FCM returned no token when updating the user to push.",Ne["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Ne["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Ne["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Ne["invalid-vapid-key"]="The public VAPID key must be a string.",Ne["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Ne),Pe=new u.ErrorFactory("messaging","Messaging",Ae),De="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Me="https://fcmregistrations.googleapis.com/v1",je="FCM_MSG",Le="google.c.a.c_id";function Fe(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Ie([],Oe(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Be(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Re||(Re={}));var Ue="fcm_token_details_db",Ve=5,ze="fcm_token_object_Store";function We(e){return ke(this,void 0,void 0,(function(){var t,n,r,o=this;return Se(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),n=t.map((function(e){return e.name})),!n.includes(Ue))return[2,null];i.label=2;case 2:return r=null,[4,Object(I.openDb)(Ue,Ve,(function(t){return ke(o,void 0,void 0,(function(){var n,o,i,a;return Se(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(ze)?[4,(n=t.transaction.objectStore(ze)).index("fcmSenderId").get(e)]:[2];case 1:return o=s.sent(),[4,n.clear()];case 2:if(s.sent(),!o)return[2];if(2===t.oldVersion){if(!(i=o).auth||!i.p256dh||!i.endpoint)return[2];r={token:i.fcmToken,createTime:null!==(a=i.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"===typeof i.vapidKey?i.vapidKey:Fe(i.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(i=o).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:Fe(i.auth),p256dh:Fe(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:Fe(i.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(I.deleteDb)(Ue)];case 4:return i.sent(),[4,Object(I.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(I.deleteDb)("undefined")];case 6:return i.sent(),[2,qe(r)?r:null]}}))}))}function qe(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var He="firebase-messaging-database",Ge=1,Ke="firebase-messaging-store",Ye=null;function $e(){return Ye||(Ye=Object(I.openDb)(He,Ge,(function(e){if(0===e.oldVersion)e.createObjectStore(Ke)}))),Ye}function Xe(e){return ke(this,void 0,void 0,(function(){var t,n,r;return Se(this,(function(o){switch(o.label){case 0:return t=Ze(e),[4,$e()];case 1:return[4,o.sent().transaction(Ke).objectStore(Ke).get(t)];case 2:return(n=o.sent())?[2,n]:[3,3];case 3:return[4,We(e.appConfig.senderId)];case 4:return(r=o.sent())?[4,Qe(e,r)]:[3,6];case 5:return o.sent(),[2,r];case 6:return[2]}}))}))}function Qe(e,t){return ke(this,void 0,void 0,(function(){var n,r,o;return Se(this,(function(i){switch(i.label){case 0:return n=Ze(e),[4,$e()];case 1:return r=i.sent(),[4,(o=r.transaction(Ke,"readwrite")).objectStore(Ke).put(t,n)];case 2:return i.sent(),[4,o.complete];case 3:return i.sent(),[2,t]}}))}))}function Je(e){return ke(this,void 0,void 0,(function(){var t,n,r;return Se(this,(function(o){switch(o.label){case 0:return t=Ze(e),[4,$e()];case 1:return n=o.sent(),[4,(r=n.transaction(Ke,"readwrite")).objectStore(Ke).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function Ze(e){return e.appConfig.appId}function et(e,t){return ke(this,void 0,void 0,(function(){var n,r,o,i,a,s;return Se(this,(function(u){switch(u.label){case 0:return[4,ot(e)];case 1:n=u.sent(),r=it(t),o={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(rt(e.appConfig),o)];case 3:return[4,u.sent().json()];case 4:return i=u.sent(),[3,6];case 5:throw a=u.sent(),Pe.create("token-subscribe-failed",{errorInfo:a});case 6:if(i.error)throw s=i.error.message,Pe.create("token-subscribe-failed",{errorInfo:s});if(!i.token)throw Pe.create("token-subscribe-no-token");return[2,i.token]}}))}))}function tt(e,t){return ke(this,void 0,void 0,(function(){var n,r,o,i,a,s;return Se(this,(function(u){switch(u.label){case 0:return[4,ot(e)];case 1:n=u.sent(),r=it(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(rt(e.appConfig)+"/"+t.token,o)];case 3:return[4,u.sent().json()];case 4:return i=u.sent(),[3,6];case 5:throw a=u.sent(),Pe.create("token-update-failed",{errorInfo:a});case 6:if(i.error)throw s=i.error.message,Pe.create("token-update-failed",{errorInfo:s});if(!i.token)throw Pe.create("token-update-no-token");return[2,i.token]}}))}))}function nt(e,t){return ke(this,void 0,void 0,(function(){var n,r,o,i,a;return Se(this,(function(s){switch(s.label){case 0:return[4,ot(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(rt(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((o=s.sent()).error)throw i=o.error.message,Pe.create("token-unsubscribe-failed",{errorInfo:i});return[3,6];case 5:throw a=s.sent(),Pe.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function rt(e){var t=e.projectId;return Me+"/projects/"+t+"/registrations"}function ot(e){var t=e.appConfig,n=e.installations;return ke(this,void 0,void 0,(function(){var e;return Se(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function it(e){var t=e.p256dh,n=e.auth,r=e.endpoint,o=e.vapidKey,i={web:{endpoint:r,auth:n,p256dh:t}};return o!==De&&(i.web.applicationPubKey=o),i}function at(e,t,n){return ke(this,void 0,void 0,(function(){var r,o,i,a;return Se(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Pe.create("permission-blocked");return[4,lt(t,n)];case 1:return r=s.sent(),[4,Xe(e)];case 2:return o=s.sent(),i={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Fe(r.getKey("auth")),p256dh:Fe(r.getKey("p256dh"))},o?[3,3]:[2,ct(e,i)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,o=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&o&&i}(o.subscriptionOptions,i))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,nt(e,o.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,ct(e,i)];case 8:return Date.now()>=o.createTime+6048e5?[2,ut({token:o.token,createTime:Date.now(),subscriptionOptions:i},e,t)]:[2,o.token];case 9:return[2]}}))}))}function st(e,t){return ke(this,void 0,void 0,(function(){var n,r;return Se(this,(function(o){switch(o.label){case 0:return[4,Xe(e)];case 1:return(n=o.sent())?[4,nt(e,n.token)]:[3,4];case 2:return o.sent(),[4,Je(e)];case 3:o.sent(),o.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=o.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function ut(e,t,n){return ke(this,void 0,void 0,(function(){var r,o,i;return Se(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,tt(t,e)];case 1:return r=a.sent(),o=Ce(Ce({},e),{token:r,createTime:Date.now()}),[4,Qe(t,o)];case 2:return a.sent(),[2,r];case 3:return i=a.sent(),[4,st(t,n)];case 4:throw a.sent(),i;case 5:return[2]}}))}))}function ct(e,t){return ke(this,void 0,void 0,(function(){var n,r;return Se(this,(function(o){switch(o.label){case 0:return[4,et(e,t)];case 1:return n=o.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Qe(e,r)];case 2:return o.sent(),[2,r.token]}}))}))}function lt(e,t){return ke(this,void 0,void 0,(function(){var n;return Se(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Be(t)})]}}))}))}function ft(e){return"object"===typeof e&&!!e&&Le in e}function dt(e){return new Promise((function(t){setTimeout(t,e)}))}var ht=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Pe.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return ke(this,void 0,void 0,(function(){var n;return Se(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Xe(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:De,r.label=2;case 2:return[2,at(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return st(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Pe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Pe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Pe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Pe.create("only-available-in-window")},e.prototype.onPush=function(e){return ke(this,void 0,void 0,(function(){var t,n,r,o;return Se(this,(function(i){switch(i.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,gt()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,mt(n,t)]:(r=!1,t.notification?[4,yt(pt(t))]:[3,3]);case 2:i.sent(),r=!0,i.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(o=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var o=t.notification.image;o&&(e.notification.image=o)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,dt(1e3)]);case 4:return i.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return ke(this,void 0,void 0,(function(){var r;return Se(this,(function(o){switch(o.label){case 0:return e.newSubscription?[3,2]:[4,st(this.firebaseDependencies,self.registration)];case 1:case 5:return o.sent(),[2];case 2:return[4,Xe(this.firebaseDependencies)];case 3:return r=o.sent(),[4,st(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,at(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:De)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return ke(this,void 0,void 0,(function(){var r,o,i,a,s;return Se(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[je])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),o=function(e){var t,n,r,o=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(o)return o;return ft(e.data)?self.location.origin:null}(r),o?(i=new URL(o,self.location.href),a=new URL(self.location.origin),i.host!==a.host?[2]:[4,vt(i)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(o)];case 2:return s=u.sent(),[4,dt(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Re.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function pt(e){var t,n=Ce({},e.notification);return n.data=((t={})[je]=e,t),n}function vt(e){return ke(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return Se(this,(function(u){switch(u.label){case 0:return[4,gt()];case 1:t=u.sent();try{for(n=Te(t),r=n.next();!r.done;r=n.next())if(o=r.value,i=new URL(o.url,self.location.href),e.host===i.host)return[2,o]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function mt(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Re.PUSH_RECEIVED;try{for(var o=Te(e),i=o.next();!i.done;i=o.next()){i.value.postMessage(t)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function gt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function yt(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var bt=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return ke(this,void 0,void 0,(function(){var t,n;return Se(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Re.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),ft(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return ke(this,void 0,void 0,(function(){return Se(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Pe.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,at(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return ke(this,void 0,void 0,(function(){return Se(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=De),[2]}))}))},e.prototype.updateSwReg=function(e){return ke(this,void 0,void 0,(function(){return Se(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return ke(this,void 0,void 0,(function(){var e,t;return Se(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Pe.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return ke(this,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,st(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return ke(this,void 0,void 0,(function(){var e;return Se(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Pe.create("permission-blocked"):Pe.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");if(this.swRegistration)throw Pe.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Pe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Pe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return ke(this,void 0,void 0,(function(){var n;return Se(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Re.NOTIFICATION_CLICKED:return"notification_open";case Re.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[Le],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function wt(e){return Pe.create("missing-app-config-values",{valueName:e})}var _t={isSupported:xt};function xt(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.default.INTERNAL.registerComponent(new s.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw wt("App Configuration Object");if(!e.name)throw wt("App Name");var r=e.options;try{for(var o=Te(["projectId","apiKey","appId","messagingSenderId"]),i=o.next();!i.done;i=o.next()){var a=i.value;if(!r[a])throw wt(a)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!xt())throw Pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ht(r):new bt(r)}),"PUBLIC").setServiceProps(_t));var Et=function(e,t){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Et(e,t)};function Ct(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Et(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var kt=function(){return kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kt.apply(this,arguments)};function St(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{c(o.next(e))}catch(r){a(r)}}function u(e){try{c(o.throw(e))}catch(r){a(r)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((o=o.apply(e,t||[])).next())}))}function Tt(e,t){var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(r){u=[6,r],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function Ot(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var It="firebasestorage.googleapis.com",Nt="storageBucket",Rt=function(e){function t(n,r){var o=e.call(this,At(n),"Firebase Storage: "+r+" ("+At(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return Ct(t,e),t.prototype._codeEquals=function(e){return At(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(u.FirebaseError);function At(e){return"storage/"+e}function Pt(){return new Rt("unknown","An unknown error occurred, please check the error payload for server response.")}function Dt(){return new Rt("canceled","User canceled the upload/download.")}function Mt(){return new Rt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jt(e){return new Rt("invalid-argument",e)}function Lt(){return new Rt("app-deleted","The Firebase app was deleted.")}function Ft(e){return new Rt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bt(e,t){return new Rt("invalid-format","String does not match format '"+e+"': "+t)}function Ut(e){throw new Rt("internal-error","Internal error: "+e)}var Vt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},zt=function(e,t){this.data=e,this.contentType=t||null};function Wt(e,t){switch(e){case Vt.RAW:return new zt(qt(t));case Vt.BASE64:case Vt.BASE64URL:return new zt(Ht(e,t));case Vt.DATA_URL:return new zt(function(e){var t=new Gt(e);return t.base64?Ht(Vt.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(r){throw Bt(Vt.DATA_URL,"Malformed data URL.")}return qt(t)}(t.rest)}(t),new Gt(t).contentType)}throw Pt()}function qt(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ht(e,t){switch(e){case Vt.BASE64:var n=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(n||o)throw Bt(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Vt.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Bt(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(r){throw Bt(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var Gt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Bt(Vt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,o=";base64",r.length>=o.length&&r.substring(r.length-o.length)===o),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1);var r,o};var Kt,Yt={STATE_CHANGED:"state_changed"},$t={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xt(e){switch(e){case"running":case"pausing":case"canceling":return $t.RUNNING;case"paused":return $t.PAUSED;case"success":return $t.SUCCESS;case"canceled":return $t.CANCELED;default:return $t.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Kt||(Kt={}));var Qt=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Kt.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Kt.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Kt.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Ut("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Ut("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Ut("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Ut("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var Jt=function(){function e(){}return e.prototype.createConnection=function(){return new Qt},e}(),Zt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var o;try{o=e.makeFromUrl(t,n)}catch(r){return new e(t,"")}if(""===o.path)return o;throw new Rt("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+o+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+o+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===It?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+o+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new Rt("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),en=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function tn(e){return"string"===typeof e||e instanceof String}function nn(e){return rn()&&e instanceof Blob}function rn(){return"undefined"!==typeof Blob}function on(e,t,n,r){if(r<t)throw jt("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw jt("Invalid value for '"+e+"'. Expected "+n+" or less.")}function an(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function sn(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var un=function(){function e(e,t,n,r,o,i,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var o,i=e.resolve_,a=e.reject_,s=n.connection;if(n.wasSuccessCode)try{var u=e.callback_(s,s.getResponseText());void 0!==u?i(u):i()}catch(r){a(r)}else null!==s?((o=Pt()).serverResponse=s.getResponseText(),e.errorCallback_?a(e.errorCallback_(s,o)):a(o)):n.canceled?a(o=e.appDelete_?Lt():Dt()):a(o=new Rt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new cn(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,o=null,i=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){o=setTimeout((function(){o=null,e(f,s())}),t)}function f(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];u||(e||s()||i?c.call.apply(c,Ot([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var d=!1;function h(e){d||(d=!0,u||(null!==o?(e||(a=2),clearTimeout(o),l(0)):e||(a=1)))}return l(0),setTimeout((function(){i=!0,h(!0)}),n),h}((function(t,n){if(n)t(!1,new cn(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(o),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(o),e.pendingConnection_=null;var n=r.getErrorCode()===Kt.NO_ERROR,i=r.getStatus();if(n&&!e.isRetryStatusCode_(i)){var a=-1!==e.successCodes_.indexOf(i);t(!0,new cn(a,r))}else{var s=r.getErrorCode()===Kt.ABORT;t(!1,new cn(!1,null,s))}}))}function o(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),cn=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function ln(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ln();if(void 0!==n){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}if(rn())return new Blob(e);throw new Rt("unsupported-environment","This browser doesn't seem to support creating Blobs")}var dn=function(){function e(e,t){var n=0,r="";nn(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(nn(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(rn()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(fn.apply(null,r))}var o=t.map((function(e){return tn(e)?Wt(Vt.RAW,e).data:e.data_})),i=0;o.forEach((function(e){i+=e.byteLength}));var a=new Uint8Array(i),s=0;return o.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function hn(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function pn(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function vn(e,t){return t}var mn=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||vn},gn=null;function yn(){if(gn)return gn;var e=[];e.push(new mn("bucket")),e.push(new mn("generation")),e.push(new mn("metageneration")),e.push(new mn("name","fullPath",!0));var t=new mn("name");t.xform=function(e,t){return function(e){return!tn(e)||e.length<2?e:pn(e)}(t)},e.push(t);var n=new mn("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new mn("timeCreated")),e.push(new mn("updated")),e.push(new mn("md5Hash",null,!0)),e.push(new mn("cacheControl",null,!0)),e.push(new mn("contentDisposition",null,!0)),e.push(new mn("contentEncoding",null,!0)),e.push(new mn("contentLanguage",null,!0)),e.push(new mn("contentType",null,!0)),e.push(new mn("metadata","customMetadata",!0)),gn=e}function bn(e,t,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var a=n[i];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,o=new Zt(n,r);return t._makeStorageReference(o)}})}(r,e),r}function wn(e,t,n){var r=hn(t);return null===r?null:bn(e,r,n)}function _n(e,t){for(var n={},r=t.length,o=0;o<r;o++){var i=t[o];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}var xn="prefixes",En="items";function Cn(e,t,n){var r=hn(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[xn])for(var o=0,i=n[xn];o<i.length;o++){var a=i[o].replace(/\/$/,""),s=e._makeStorageReference(new Zt(t,a));r.prefixes.push(s)}if(n[En])for(var u=0,c=n[En];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Zt(t,l.name)),r.items.push(s)}return r}(e,t,r)}var kn=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Sn(e){if(!e)throw Pt()}function Tn(e,t){return function(n,r){var o=wn(e,r,t);return Sn(null!==o),o}}function On(e,t){return function(n,r){var o=wn(e,r,t);return Sn(null!==o),function(e,t,n){var r=hn(t);if(null===r)return null;if(!tn(r.downloadTokens))return null;var o=r.downloadTokens;if(0===o.length)return null;var i=encodeURIComponent;return o.split(",").map((function(t){var r=e.bucket,o=e.fullPath;return an("/b/"+i(r)+"/o/"+i(o),n)+sn({alt:"media",token:t})}))[0]}(o,r,e.host)}}function In(e){return function(t,n){var r,o,i;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Rt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Rt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Rt("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,r=new Rt("unauthorized","User does not have permission to access '"+o+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Nn(e){var t=In(e);return function(n,r){var o,i=t(n,r);return 404===n.getStatus()&&(o=e.path,i=new Rt("object-not-found","Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Rn(e,t,n){var r=an(t.fullServerUrl(),e.host),o=e.maxOperationRetryTime,i=new kn(r,"GET",Tn(e,n),o);return i.errorHandler=Nn(t),i}function An(e,t,n,r,o){var i={};t.isRoot?i.prefix="":i.prefix=t.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),o&&(i.maxResults=o);var a=an(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new kn(a,"GET",function(e,t){return function(n,r){var o=Cn(e,t,r);return Sn(null!==o),o}}(e,t.bucket),s);return u.urlParams=i,u.errorHandler=In(t),u}function Pn(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Dn=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Mn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Sn(!1)}return Sn(!!n&&-1!==(t||["active"]).indexOf(n)),n}var jn=262144;function Ln(e,t,n,r,o,i,a,s){var u=new Dn(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Rt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;o>0&&(l=Math.min(l,o));var f=u.current,d=f+l,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,d);if(null===p)throw Mt();var v=t.maxUploadRetryTime,m=new kn(n,"POST",(function(e,n){var o,a=Mn(e,["active","final"]),s=u.current+l,c=r.size();return o="final"===a?Tn(t,i)(e,n):null,new Dn(s,c,"final"===a,o)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=In(e),m}var Fn=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Bn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Un=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=yn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],o=n[1];switch(t._state){case"running":e(r,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var o=function(e,t,n,o,i){var a=t.bucketOnlyServerUrl(),s=Pn(t,o,i),u={name:s.fullPath},c=an(a,e.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+o.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=_n(s,n),d=e.maxUploadRetryTime,h=new kn(c,"POST",(function(e){var t;Mn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(r){Sn(!1)}return Sn(tn(t)),t}),d);return h.urlParams=u,h.headers=l,h.body=f,h.errorHandler=In(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(o,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,o){var i=function(e,t,n,o){var i=e.maxUploadRetryTime,a=new kn(n,"POST",(function(e){var t=Mn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){Sn(!1)}n||Sn(!1);var i=Number(n);return Sn(!isNaN(i)),new Dn(i,o.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=In(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,n,o);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=jn*this._chunkMultiplier,n=new Dn(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((function(i,a){var s;try{s=Ln(e._ref._location,e._ref.storage,o,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(r){return e._error=r,void e._transition("error")}var u=e._ref.storage._makeRequest(s,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){jn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Rn(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(r,t,n);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,o){var i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Pn(t,r,o),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_n(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=dn.getBlob(c,r,l);if(null===f)throw Mt();var d={name:u.fullPath},h=an(i,e.host),p=e.maxUploadRetryTime,v=new kn(h,"POST",Tn(e,n),p);return v.urlParams=d,v.headers=a,v.body=f.uploadData(),v.errorHandler=In(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(r,t,n);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Dt(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Xt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var o=this,i=new Fn(t,n,r);return this._addObserver(i),function(){o._removeObserver(i)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Xt(this._state)){case $t.SUCCESS:Bn(this._resolve.bind(null,this.snapshot))();break;case $t.CANCELED:case $t.ERROR:Bn(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Xt(this._state)){case $t.RUNNING:case $t.PAUSED:e.next&&Bn(e.next.bind(e,this.snapshot))();break;case $t.SUCCESS:e.complete&&Bn(e.complete.bind(e))();break;default:e.error&&Bn(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Vn=function(){function e(e,t){this._service=e,this._location=t instanceof Zt?t:Zt.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return pn(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Zt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Ft(e)},e}();function zn(e){var t={prefixes:[],items:[]};return Wn(e,t).then((function(){return t}))}function Wn(e,t,n){return St(this,void 0,void 0,(function(){var r,o,i;return Tt(this,(function(a){switch(a.label){case 0:return[4,qn(e,{pageToken:n})];case 1:return r=a.sent(),(o=t.prefixes).push.apply(o,r.prefixes),(i=t.items).push.apply(i,r.items),null==r.nextPageToken?[3,3]:[4,Wn(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function qn(e,t){return St(this,void 0,void 0,(function(){var n,r;return Tt(this,(function(o){switch(o.label){case 0:return null!=t&&"number"===typeof t.maxResults&&on("options.maxResults",1,1e3,t.maxResults),n=t||{},r=An(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}}))}))}function Hn(e,t){return St(this,void 0,void 0,(function(){var n;return Tt(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var o=an(t.fullServerUrl(),e.host),i=_n(n,r),a=e.maxOperationRetryTime,s=new kn(o,"PATCH",Tn(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=i,s.errorHandler=Nn(t),s}(e.storage,e._location,t,yn()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Gn(e){return St(this,void 0,void 0,(function(){var t;return Tt(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=an(t.fullServerUrl(),e.host),o=e.maxOperationRetryTime,i=new kn(r,"GET",On(e,n),o);return i.errorHandler=Nn(t),i}(e.storage,e._location,yn()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Rt("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Kn(e){return St(this,void 0,void 0,(function(){var t;return Tt(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=an(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,o=new kn(n,"DELETE",(function(e,t){}),r);return o.successCodes=[200,204],o.errorHandler=Nn(t),o}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Yn(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Zt(e._location.bucket,n);return new Vn(e.storage,r)}function $n(e){return/^[A-Za-z]+:\/\//.test(e)}function Xn(e,t){if(e instanceof Zn){var n=e;if(null==n._bucket)throw new Rt("no-default-bucket","No default bucket found. Did you set the '"+Nt+"' property when initializing the app?");var r=new Vn(n,n._bucket);return null!=t?Xn(r,t):r}return void 0!==t?Yn(e,t):e}function Qn(e,t){if(t&&$n(t)){if(e instanceof Zn)return new Vn(e,t);throw jt("To use ref(service, url), the first argument must be a Storage instance.")}return Xn(e,t)}function Jn(e,t){var n=null===t||void 0===t?void 0:t[Nt];return null==n?null:Zt.makeFromBucketSpec(n,e)}var Zn=function(){function e(e,t,n,r,o,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=It,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Zt.makeFromBucketSpec(o,this._host):Jn(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=Jn(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){on("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){on("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return St(this,void 0,void 0,(function(){var e,t;return Tt(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return St(this,void 0,void 0,(function(){var e;return Tt(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Vn(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new en(Lt());var o=function(e,t,n,r,o,i){var a=sn(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new un(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then((function(){return r._requests.delete(o)}),(function(){return r._requests.delete(o)})),o},e.prototype.makeRequestWithTokens=function(e){return St(this,void 0,void 0,(function(){var t,n,r;return Tt(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=o.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function er(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Un(e,new dn(t),n)}(e=Object(u.getModularInstance)(e),t,n)}function tr(e){return function(e){return St(this,void 0,void 0,(function(){var t;return Tt(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Rn(e.storage,e._location,yn()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(u.getModularInstance)(e))}function nr(e,t){return Qn(e=Object(u.getModularInstance)(e),t)}function rr(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken="string"===typeof o?o:Object(u.createMockUserToken)(o,e.app.options.projectId))}(e,t,n,r)}var or=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),ir=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new or(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new or(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var o=this,i=void 0;return t&&(i="function"===typeof t?function(e){return t(new or(e,o,o._ref))}:{next:t.next?function(e){return t.next(new or(e,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)},e}(),ar=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new sr(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new sr(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),sr=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Yn(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new ir(er(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Vt.RAW),this._throwIfRoot("putString");var r=Wt(t,e),o=kt({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new ir(new Un(this._delegate,new dn(r.data,!0),o),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,zn(e=Object(u.getModularInstance)(e))).then((function(e){return new ar(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return qn(e=Object(u.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new ar(e,t.storage)}))},e.prototype.getMetadata=function(){return tr(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Hn(e=Object(u.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,Gn(e=Object(u.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,Kn(e=Object(u.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Ft(e)},e}(),ur=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if($n(e))throw jt("ref() expected a child path but got a URL, use refFromURL instead.");return new sr(nr(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!$n(e))throw jt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zt.makeFromUrl(e,this._delegate.host)}catch(r){throw jt("refFromUrl() expected a valid full URL but got an invalid one.")}return new sr(nr(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),rr(this._delegate,e,t,n)},e}();function cr(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new ur(r,new Zn(r,o,a,new Jt,n,i.default.SDK_VERSION))}!function(e){var t={TaskState:$t,TaskEvent:Yt,StringFormat:Vt,Storage:Zn,Reference:sr};e.INTERNAL.registerComponent(new s.Component("storage",cr,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(i.default);var lr=function(){return lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lr.apply(this,arguments)};Object.create;function fr(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var dr,hr,pr,vr="0.4.18",mr=vr,gr="FB-PERF-TRACE-MEASURE",yr="_wt_",br="_fcp",wr="_fid",_r="@firebase/performance/config",xr="@firebase/performance/configexpire",Er="Performance",Cr=((dr={})["trace started"]="Trace {$traceName} was started before.",dr["trace stopped"]="Trace {$traceName} is not running.",dr["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",dr["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",dr["no window"]="Window is not available.",dr["no app id"]="App id is not available.",dr["no project id"]="Project id is not available.",dr["no api key"]="Api key is not available.",dr["invalid cc log"]="Attempted to queue invalid cc event",dr["FB not default"]="Performance can only start when Firebase app instance is the default one.",dr["RC response not ok"]="RC response is not ok",dr["invalid attribute name"]="Attribute name {$attributeName} is invalid.",dr["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",dr["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",dr["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",dr),kr=new u.ErrorFactory("performance",Er,Cr),Sr=new c.Logger(Er);Sr.logLevel=c.LogLevel.INFO;var Tr,Or=function(){function e(e){if(this.window=e,!e)throw kr.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(u.isIndexedDBAvailable)()||(Sr.info("IndexedDB is not supported by current browswer"),!1):(Sr.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var o=r[n];t(o)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===hr&&(hr=new e(pr)),hr},e}();function Ir(e,t){var n=e.length-t.length;if(n<0||n>1)throw kr.create("invalid String merger input");for(var r=[],o=0;o<e.length;o++)r.push(e.charAt(o)),t.length>o&&r.push(t.charAt(o));return r.join("")}var Nr,Rr,Ar=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Ir("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Ir("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw kr.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw kr.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw kr.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Tr&&(Tr=new e),Tr},e}();function Pr(){return Nr}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Rr||(Rr={}));var Dr=["firebase_","google_","ga_"],Mr=new RegExp("^[a-zA-Z]\\w*$");function jr(){var e=Or.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Lr(){switch(Or.getInstance().document.visibilityState){case"visible":return Rr.VISIBLE;case"hidden":return Rr.HIDDEN;default:return Rr.UNKNOWN}}function Fr(){var e=Or.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Br="0.0.1",Ur={loggingEnabled:!0},Vr="FIREBASE_INSTALLATIONS_AUTH";function zr(e){var t=function(){var e=Or.getInstance().localStorage;if(!e)return;var t=e.getItem(xr);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(_r);if(!r)return;try{return JSON.parse(r)}catch(o){return}}();return t?(qr(t),Promise.resolve()):function(e){return function(){var e=Ar.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Ar.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Ar.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Vr+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Ar.getInstance().getAppId(),app_version:mr,sdk_version:Br})});return fetch(r).then((function(e){if(e.ok)return e.json();throw kr.create("RC response not ok")}))})).catch((function(){Sr.info(Wr)}))}(e).then(qr).then((function(e){return function(e){var t=Or.getInstance().localStorage;if(!e||!t)return;t.setItem(_r,JSON.stringify(e)),t.setItem(xr,String(Date.now()+60*Ar.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var Wr="Could not fetch config, will use default configs";function qr(e){if(!e)return e;var t=Ar.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Ur.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Hr(t.tracesSamplingRate),t.logNetworkAfterSampling=Hr(t.networkRequestsSamplingRate),e}function Hr(e){return Math.random()<=e}var Gr,Kr=1;function Yr(){return Kr=2,Gr=Gr||function(){var e=Or.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Ar.getInstance().installationsService.getId();return e.then((function(e){Nr=e})),e}()})).then((function(e){return zr(e)})).then((function(){return $r()}),(function(){return $r()}))}function $r(){Kr=3}var Xr,Qr=1e4,Jr=3,Zr=1e3,eo=Jr,to=[],no=!1;function ro(e){setTimeout((function(){if(0!==eo)return to.length?void function(){var e=to.splice(0,Zr),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Ar.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Sr.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Qr;isNaN(n)||(r=Math.max(n,r));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(to=fr(fr([],t),to),Sr.info("Retry transport request later.")),eo=Jr,ro(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ar.getInstance().logSource,log_event:t},e).catch((function(){to=fr(fr([],e),to),eo--,Sr.info("Tries left: "+eo+"."),ro(Qr)}))}():ro(Qr)}),e)}function oo(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw kr.create("invalid cc log");to=fr(fr([],to),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function io(e,t){Xr||(Xr=oo(uo)),Xr(e,t)}function ao(e){var t=Ar.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Or.getInstance().requiredApisAvailable()&&(e.isAuto&&Lr()!==Rr.VISIBLE||(3===Kr?so(e):Yr().then((function(){return so(e)}),(function(){return so(e)}))))}function so(e){if(Pr()){var t=Ar.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return io(e,1)}),0)}}function uo(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:co(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:co(),trace_metric:t};return JSON.stringify(r)}(e)}function co(){return{google_app_id:Ar.getInstance().getAppId(),app_instance_id:Pr(),web_app_info:{sdk_version:mr,page_url:Or.getInstance().getUrl(),service_worker_status:jr(),visibility_state:Lr(),effective_connection_type:Fr()},application_process_state:0}}var lo=["_fp",br,wr];var fo=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=Or.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||gr+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw kr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw kr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ao(this)},e.prototype.record=function(e,t,n){if(e<=0)throw kr.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw kr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=lr({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var i=o[r];isNaN(Number(n.metrics[i]))||(this.counters[i]=Number(Math.floor(n.metrics[i])))}ao(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(yr)&&lo.indexOf(n)>-1)&&n.startsWith("_"))throw kr.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Sr.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!Dr.some((function(e){return n.startsWith(e)}))&&!!n.match(Mr),o=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&o)this.customAttributes[e]=t;else{if(!r)throw kr.create("invalid attribute name",{attributeName:e});if(!o)throw kr.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return lr({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var o=Or.getInstance().getUrl();if(o){var i=new e(yr+o,!0),a=Math.floor(1e3*Or.getInstance().getTimeOrigin());i.setStartTime(a),t&&t[0]&&(i.setDuration(Math.floor(1e3*t[0].duration)),i.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),i.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),i.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&i.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&i.putMetric(br,Math.floor(1e3*u.startTime)),r&&i.putMetric(wr,Math.floor(1e3*r))}ao(i)}},e.createUserTimingTrace=function(t){ao(new e(t,!1,t))},e}();function ho(e){var t=e;if(t&&void 0!==t.responseStart){var n=Or.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),o=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,i=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Ar.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],o=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==o&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return io(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:i})}}var po=5e3;function vo(){Pr()&&(setTimeout((function(){return function(){var e=Or.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){fo.createOobTrace(t,n),r=void 0}),po);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),fo.createOobTrace(t,n,e))}))}else fo.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=Or.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){ho(r[n])}e.setupObserver("resource",ho)}()}),0),setTimeout((function(){return function(){for(var e=Or.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){mo(r[n])}e.setupObserver("measure",mo)}()}),0))}function mo(e){var t=e.name;t.substring(0,gr.length)!==gr&&fo.createUserTimingTrace(t)}var go=function(){function e(e){this.app=e,Or.getInstance().requiredApisAvailable()&&Object(u.validateIndexedDBOpenable)().then((function(e){e&&(no||(ro(5500),no=!0),Yr().then(vo,vo))})).catch((function(e){Sr.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new fo(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Ar.getInstance().instrumentationEnabled},set:function(e){Ar.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Ar.getInstance().dataCollectionEnabled},set:function(e){Ar.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw kr.create("FB not default");if("undefined"===typeof window)throw kr.create("no window");return function(e){pr=e}(window),Ar.getInstance().firebaseAppInstance=e,Ar.getInstance().installationsService=t,new go(e)};e.INTERNAL.registerComponent(new s.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",vr)}(i.default);var yo=function(){return yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yo.apply(this,arguments)};function bo(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{c(o.next(e))}catch(r){a(r)}}function u(e){try{c(o.throw(e))}catch(r){a(r)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((o=o.apply(e,t||[])).next())}))}function wo(e,t){var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(r){u=[6,r],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var _o,xo,Eo="firebase_id",Co="origin",ko=6e4,So="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",To="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(_o||(_o={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(xo||(xo={}));var Oo,Io=new c.Logger("@firebase/analytics");function No(e,t,n,r,o,i){return bo(this,void 0,void 0,(function(){var a,s,u,c;return wo(this,(function(l){switch(l.label){case 0:a=r[o],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===o})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Io.error(c),[3,8];case 8:return e(_o.CONFIG,o,i),[2]}}))}))}function Ro(e,t,n,r,o){return bo(this,void 0,void 0,(function(){var i,a,s,u,c,l,f,d;return wo(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),i=[],o&&o.send_to?(a=o.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=h.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return i=[],"break";i.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);h.label=2;case 2:return 0===i.length&&(i=Object.values(t)),[4,Promise.all(i)];case 3:return h.sent(),e(_o.EVENT,r,o||{}),[3,5];case 4:return d=h.sent(),Io.error(d),[3,5];case 5:return[2]}}))}))}function Ao(e,t,n,r,o){var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=function(e,t,n,r){return function(o,i,a){return bo(this,void 0,void 0,(function(){var s;return wo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),o!==_o.EVENT?[3,2]:[4,Ro(e,t,n,i,a)];case 1:return u.sent(),[3,5];case 2:return o!==_o.CONFIG?[3,4]:[4,No(e,t,n,r,i,a)];case 3:return u.sent(),[3,5];case 4:e(_o.SET,i),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Io.error(s),[3,7];case 7:return[2]}}))}))}}(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}var Po=((Oo={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Oo["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Oo["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Oo["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Oo["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Oo["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Oo["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Oo["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Oo["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Oo),Do=new u.ErrorFactory("analytics","Analytics",Po),Mo=30,jo=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Lo(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Fo(e){var t;return bo(this,void 0,void 0,(function(){var n,r,o,i,a,s,u;return wo(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,o={method:"GET",headers:Lo(r)},i=So.replace("{app-id}",n),[4,fetch(i,o)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Do.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Bo(e,t,n,r){var o=t.throttleEndTimeMillis,i=t.backoffCount;return void 0===r&&(r=jo),bo(this,void 0,void 0,(function(){var t,a,s,c,l,f,d;return wo(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Uo(n,o)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return Io.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,Fo(e)];case 5:return c=h.sent(),r.deleteThrottleMetadata(t),[2,c];case 6:if(!function(e){if(!(e instanceof u.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l=h.sent())){if(r.deleteThrottleMetadata(t),a)return Io.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:t,measurementId:a}];throw l}return f=503===Number(l.customData.httpStatus)?Object(u.calculateBackoffMillis)(i,r.intervalMillis,Mo):Object(u.calculateBackoffMillis)(i,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:i+1},r.setThrottleMetadata(t,d),Io.debug("Calling attemptFetch again in "+f+" millis"),[2,Bo(e,d,n,r)];case 7:return[2]}}))}))}function Uo(e,t){return new Promise((function(n,r){var o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener((function(){clearTimeout(i),r(Do.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Vo=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function zo(e,t,n,r,o,i){return bo(this,void 0,void 0,(function(){var a,s,c,l,f,d,h;return wo(this,(function(p){switch(p.label){case 0:return a=function(e,t,n){return void 0===t&&(t=jo),bo(this,void 0,void 0,(function(){var r,o,i,a,s,u,c=this;return wo(this,(function(l){if(r=e.options,o=r.appId,i=r.apiKey,a=r.measurementId,!o)throw Do.create("no-app-id");if(!i){if(a)return[2,{measurementId:a,appId:o}];throw Do.create("no-api-key")}return s=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Vo,setTimeout((function(){return bo(c,void 0,void 0,(function(){return wo(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:ko),[2,Bo({appId:o,apiKey:i,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Io.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Io.error(e)})),t.push(a),s=function(){return bo(this,void 0,void 0,(function(){var e;return wo(this,(function(t){switch(t.label){case 0:return Object(u.isIndexedDBAvailable)()?[3,1]:(Io.warn(Do.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Io.warn(Do.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return c=p.sent(),l=c[0],f=c[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(To))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=To+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(i,l.measurementId),o("js",new Date),(h={})[Co]="firebase",h.update=!0,d=h,null!=f&&(d[Eo]=f),o(_o.CONFIG,l.measurementId,d),[2,l.measurementId]}}))}))}var Wo,qo,Ho={},Go=[],Ko={},Yo="dataLayer",$o="gtag",Xo=!1;function Qo(e){if(Xo)throw Do.create("already-initialized");e.dataLayerName&&(Yo=e.dataLayerName),e.gtagName&&($o=e.gtagName)}function Jo(e,t){!function(){var e=[];if(Object(u.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(u.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=Do.create("invalid-analytics-context",{errorInfo:t});Io.warn(n.message)}}();var n=e.options.appId;if(!n)throw Do.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Do.create("no-api-key");Io.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ho[n])throw Do.create("already-exists",{id:n});if(!Xo){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Yo);var r=Ao(Ho,Go,Ko,Yo,$o),o=r.wrappedGtag,i=r.gtagCore;qo=o,Wo=i,Xo=!0}Ho[n]=zo(e,Go,Ko,t,Wo,Yo);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,o){return bo(this,void 0,void 0,(function(){var i,a;return wo(this,(function(s){switch(s.label){case 0:return o&&o.global?(e(_o.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:i=s.sent(),a=yo(yo({},r),{send_to:i}),e(_o.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(qo,Ho[n],e,t,r).catch((function(e){return Io.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return bo(this,void 0,void 0,(function(){var o;return wo(this,(function(i){switch(i.label){case 0:return r&&r.global?(e(_o.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(_o.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}}))}))})(qo,Ho[n],e,t).catch((function(e){return Io.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return bo(this,void 0,void 0,(function(){var o;return wo(this,(function(i){switch(i.label){case 0:return r&&r.global?(e(_o.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(_o.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}}))}))})(qo,Ho[n],e,t).catch((function(e){return Io.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return bo(this,void 0,void 0,(function(){var o,i,a,s,u;return wo(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(o={},i=0,a=Object.keys(n);i<a.length;i++)s=a[i],o["user_properties."+s]=n[s];return e(_o.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(_o.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(qo,Ho[n],e,t).catch((function(e){return Io.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return bo(this,void 0,void 0,(function(){var n;return wo(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Ho[n],e).catch((function(e){return Io.error(e)}))},INTERNAL:{delete:function(){return delete Ho[n],Promise.resolve()}}};return a}var Zo="analytics";function ei(){return bo(this,void 0,void 0,(function(){return wo(this,(function(e){switch(e.label){case 0:if(Object(u.isBrowserExtension)())return[2,!1];if(!Object(u.areCookiesEnabled)())return[2,!1];if(!Object(u.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new s.Component(Zo,(function(e){return Jo(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Qo,EventName:xo,isSupported:ei})),e.INTERNAL.registerComponent(new s.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Zo).getImmediate().logEvent}}catch(r){throw Do.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(i.default);var ti=function(){return ti=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ti.apply(this,arguments)};function ni(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{c(o.next(e))}catch(r){a(r)}}function u(e){try{c(o.throw(e))}catch(r){a(r)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((o=o.apply(e,t||[])).next())}))}function ri(e,t){var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(r){u=[6,r],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var oi,ii=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return ni(this,void 0,void 0,(function(){var t,n,r,o,i;return ri(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return o=a.sent(),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&i.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(i)];case 3:return a.sent(),[2,o]}}))}))},e}(),ai=((oi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",oi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",oi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",oi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",oi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",oi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",oi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",oi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",oi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",oi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',oi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',oi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",oi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",oi),si=new u.ErrorFactory("remoteconfig","Remote Config",ai);var ui=function(){function e(e,t,n,r,o,i){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=i}return e.prototype.fetch=function(e){return ni(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,v,m,g,y,b;return ri(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(i,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return f=w.sent(),[3,6];case 5:throw d=w.sent(),h="fetch-client-network","AbortError"===d.name&&(h="fetch-timeout"),si.create(h,{originalErrorMessage:d.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,f.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),si.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw si.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:m}]}var _}))}))},e}(),ci=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),li=["1","true","t","yes","y","on"],fi=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&li.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),di=function(){function e(e,t,n,r,o){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=c.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=c.LogLevel.SILENT;break;default:this._logger.logLevel=c.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return ni(this,void 0,void 0,(function(){var e,t,n;return ri(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return ni(this,void 0,void 0,(function(){var e,t,n,r=this;return ri(this,(function(o){switch(o.label){case 0:e=new ci,setTimeout((function(){return ni(r,void 0,void 0,(function(){return ri(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return t=o.sent(),n=function(e,t){return e instanceof u.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return ni(this,void 0,void 0,(function(){return ri(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(ti(ti({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new fi("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new fi("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new fi("static"))},e}();function hi(e,t){var n=e.target.error||void 0;return si.create(t,{originalErrorMessage:n&&n.message})}var pi="app_namespace_store";var vi=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(hi(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(pi,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return ni(this,void 0,void 0,(function(){var t,n=this;return ri(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return t=o.sent(),[2,new Promise((function(o,i){var a=t.transaction([pi],"readonly").objectStore(pi),s=n.createCompositeKey(e);try{var u=a.get(s);u.onerror=function(e){i(hi(e,"storage-get"))},u.onsuccess=function(e){var t=e.target.result;o(t?t.value:void 0)}}catch(r){i(si.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.set=function(e,t){return ni(this,void 0,void 0,(function(){var n,o=this;return ri(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,a){var s=n.transaction([pi],"readwrite").objectStore(pi),u=o.createCompositeKey(e);try{var c=s.put({compositeKey:u,value:t});c.onerror=function(e){a(hi(e,"storage-set"))},c.onsuccess=function(){i()}}catch(r){a(si.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.delete=function(e){return ni(this,void 0,void 0,(function(){var t,n=this;return ri(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return t=o.sent(),[2,new Promise((function(o,i){var a=t.transaction([pi],"readwrite").objectStore(pi),s=n.createCompositeKey(e);try{var u=a.delete(s);u.onerror=function(e){i(hi(e,"storage-delete"))},u.onsuccess=function(){o()}}catch(r){i(si.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),mi=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return ni(this,void 0,void 0,(function(){var e,t,n,r,o,i;return ri(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(o=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(i=a.sent())&&(this.activeConfig=i),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function gi(e,t){return new Promise((function(n,r){var o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener((function(){clearTimeout(i),r(si.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var yi,bi=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return ni(this,void 0,void 0,(function(){var t;return ri(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return ni(this,void 0,void 0,(function(){var t,o,i;return ri(this,(function(a){switch(a.label){case 0:return[4,gi(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof u.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(o=a.sent()))throw o;return i={throttleEndTimeMillis:Date.now()+Object(u.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return a.sent(),[2,this.attemptFetch(e,i)];case 7:return[2]}}))}))},e}(),wi="@firebase/remote-config";(yi=i.default).INTERNAL.registerComponent(new s.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw si.create("registration-window");var i=r.options,a=i.projectId,s=i.apiKey,u=i.appId;if(!a)throw si.create("registration-project-id");if(!s)throw si.create("registration-api-key");if(!u)throw si.create("registration-app-id");n=n||"firebase";var l=new vi(u,r.name,n),f=new mi(l),d=new c.Logger(wi);d.logLevel=c.LogLevel.ERROR;var h=new ui(o,yi.SDK_VERSION,n,a,s,u),p=new bi(h,l),v=new ii(p,l,f,d),m=new di(r,v,f,l,d);return m.ensureInitialized(),m}),"PUBLIC").setMultipleInstances(!0)),yi.registerVersion(wi,"0.1.43");n(145);var _i="8.10.1";i.default.registerVersion("firebase",_i,"app"),i.default.SDK_VERSION=_i;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.default.registerVersion("firebase","8.10.1")},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),o=n(11),i=n(1);n(97);function a(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function u(e,t){return Object.keys(t).reduce((function(n,u){var c,l=n,f=l[a(u)],d=l[u],h=Object(o.a)(l,[a(u),u].map(s)),p=t[u],v=function(e,t,n){var r=Object(i.useRef)(void 0!==e),o=Object(i.useState)(t),a=o[0],s=o[1],u=void 0!==e,c=r.current;return r.current=u,!u&&c&&a!==t&&s(t),[u?e:a,Object(i.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(d,f,e[p]),m=v[0],g=v[1];return Object(r.a)({},h,((c={})[u]=m,c[p]=g,c))}),e)}n(29);function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function l(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function f(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}c.__suppressDeprecationWarning=!0,l.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(39);function o(e){var t=function(e,t){if("object"!==Object(r.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Object(r.a)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Object(r.a)(t)?t:String(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(8),o=n(11),i=n(17),a=n.n(i),s=/-(.)/g;var u=n(1),c=n.n(u),l=n(18),f=["className","bsPrefix","as"],d=function(e){return e[0].toUpperCase()+(t=e,t.replace(s,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function h(e,t){var n=void 0===t?{}:t,i=n.displayName,s=void 0===i?d(e):i,u=n.Component,h=n.defaultProps,p=c.a.forwardRef((function(t,n){var i=t.className,s=t.bsPrefix,d=t.as,h=void 0===d?u||"div":d,p=Object(o.a)(t,f),v=Object(l.a)(s,e);return c.a.createElement(h,Object(r.a)({ref:n,className:a()(i,v)},p))}));return p.defaultProps=h,p.displayName=s,p}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);var o=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t};function i(e){var t=o(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SocialIcon=void 0;var o=((r=n(195))&&r.__esModule?r:{default:r}).default;t.SocialIcon=o},,,,function(e,t,n){"use strict";e.exports=n(166)},function(e,t,n){"use strict";var r=n(112);e.exports=function(){return r()&&!!Symbol.toStringTag}},function(e,t,n){"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(N){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=n(183)(),d=n(184)(),h=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),p={},v="undefined"!==typeof Uint8Array&&h?h(Uint8Array):r,m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f&&h?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&h?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f&&h?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f&&h?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&h?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(h)try{null.error}catch(N){var g=h(h(N));m["%Error.prototype%"]=g}var y=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&h&&(n=h(o.prototype))}return m[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=n(93),_=n(186),x=w.call(Function.call,Array.prototype.concat),E=w.call(Function.apply,Array.prototype.splice),C=w.call(Function.call,String.prototype.replace),k=w.call(Function.call,String.prototype.slice),S=w.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,I=function(e,t){var n,r=e;if(_(b,r)&&(r="%"+(n=b[r])[0]+"%"),_(m,r)){var i=m[r];if(i===p&&(i=y(r)),"undefined"===typeof i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return C(e,T,(function(e,t,n,o){r[r.length]=n?C(o,O,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=I("%"+r+"%",t),s=i.name,c=i.value,l=!1,f=i.alias;f&&(r=f[0],E(n,x([0,1],f)));for(var d=1,h=!0;d<n.length;d+=1){var p=n[d],v=k(p,0,1),g=k(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===g||"'"===g||"`"===g)&&v!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),_(m,s="%"+(r+="."+p)+"%"))c=m[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var y=u(c,p);c=(h=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[p]}else h=_(c,p),c=c[p];h&&!l&&(m[s]=c)}}return c}},function(e,t,n){"use strict";var r=n(185);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(93),o=n(92),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(d){c=null}e.exports=function(e){var t=s(r,a,arguments);u&&c&&(u(t,"length").configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))}));return t};var f=function(){return s(r,i,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iconFor=function(e){return o.default[e]?o.default[e].icon:null},t.maskFor=function(e){return o.default[e]?o.default[e].mask:null},t.colorFor=function(e){return o.default[e]?o.default[e].color:null},t.keyFor=u,t.keysFor=function(e){if(!e||!Array.isArray(e)||0===e.length)return[];return e.map(u)},t.KEYS=void 0;var r,o=(r=n(198))&&r.__esModule?r:{default:r};var i="sharethis",a=Object.keys(o.default);t.KEYS=a;var s=new RegExp("(?:https?:\\/\\/(?:[a-z0-9]*.)?)?("+a.join("|")+").*");function u(e){if(!e)return i;var t=e.replace(s,"$1");return t===e?i:t}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(172)},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError},function(e,t,n){var r=n(151);e.exports=h,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=o.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+f.length,d)s+=d[1];else{var p=e[a],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,E="?"===b||"*"===b,C=n[2]||l,k=g||y;r.push({name:m||i++,prefix:v||"",delimiter:C,optional:E,repeat:x,partial:_,asterisk:!!w,pattern:k?c(k):w?".*":"[^"+u(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",f(t)));return function(t,o){for(var i="",s=t||{},u=(o||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=u(d[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');i+=l.prefix+f}}else i+=l}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var d=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),a+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return o||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":o&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(h(e[o],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(7),o=n(77);function i(){var t=e.Canvas||e.HTMLCanvasElement,n=e.Image||e.HTMLImageElement,i=e.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=Object(o.a)();return Object(r.a)({Canvas:t||function(){},CanvasRenderingContext2D:e.CanvasRenderingContext2D||function(){},Image:n||function(){},ImageData:e.ImageData||function(){},Video:e.HTMLVideoElement||function(){},createCanvasElement:function(){if(t)return new t;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:i},a)}}).call(this,n(38))},function(e,t,n){"use strict";(function(r,o){function i(){return"object"===typeof r&&"undefined"!==typeof e&&"undefined"!==typeof o&&!!o.version}n.d(t,"a",(function(){return i}))}).call(this,n(38),n(66))},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(1)),o=i(n(179));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:u(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?l:10===e?f:l||f}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function v(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||r.contains(o))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(a)?a:h(a);var s=p(e);return s.host?v(s.host,t):v(e,p(t).host)}function m(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function g(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function E(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function C(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=m(e,"top"),r=m(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?b(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,u=i.height||e.clientHeight||o.height,c=e.offsetWidth-s,l=e.offsetHeight-u;if(c||l){var f=a(e);c-=g(f,"x"),l-=g(f,"y"),o.width-=c,o.height-=l}return E(o)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),o="HTML"===t.nodeName,i=C(e),s=C(t),c=u(e),l=a(t),f=parseFloat(l.borderTopWidth),h=parseFloat(l.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=E({top:i.top-s.top-f,left:i.left-s.left-h,width:i.width,height:i.height});if(p.marginTop=0,p.marginLeft=0,!r&&o){var v=parseFloat(l.marginTop),g=parseFloat(l.marginLeft);p.top-=f-v,p.bottom-=f-v,p.left-=h-g,p.right-=h-g,p.marginTop=v,p.marginLeft=g}return(r&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(t,"top"),o=m(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(p,t)),p}function S(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=s(e);return!!n&&S(n)}function T(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function O(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?T(e):v(e,c(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=k(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:m(n),s=t?0:m(n,"left");return E({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var l=void 0;"scrollParent"===r?"BODY"===(l=u(s(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var f=k(l,a,o);if("HTML"!==l.nodeName||S(a))i=f;else{var d=b(e.ownerDocument),h=d.height,p=d.width;i.top+=f.top-f.marginTop,i.bottom=h+f.top,i.left+=f.left-f.marginLeft,i.right=p+f.left}}var g="number"===typeof(n=n||0);return i.left+=g?n:n.left||0,i.top+=g?n:n.top||0,i.right-=g?n:n.right||0,i.bottom-=g?n:n.bottom||0,i}function I(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=O(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map((function(e){return x({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,r?T(t):v(t,c(n)),r)}function R(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function A(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function P(e,t,n){n=n.split("-")[0];var r=R(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",u=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[u]/2-r[u]/2,o[s]=n===s?t[s]-r[c]:t[A(s)],o}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function M(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=D(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=E(t.offsets.popper),t.offsets.reference=E(t.offsets.reference),t=n(t,e))})),t}function j(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=I(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=M(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function L(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if("undefined"!==typeof document.body.style[i])return i}return null}function B(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function V(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||V(u(i.parentNode),t,n,r),r.push(i)}function z(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var o=u(e);return V(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function W(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}function q(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function G(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var K=n&&/Firefox/i.test(navigator.userAgent);function Y(e,t,n){var r=D(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var $=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=$.slice(3);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=X.indexOf(e),r=X.slice(n+1).concat(X.slice(0,n));return t?r.reverse():r}var J="flip",Z="clockwise",ee="counterclockwise";function te(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(D(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return c=c.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){return E("%p"===a?n:r)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){H(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ne={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:_({},u,i[u]),end:_({},u,i[u]+i[c]-a[c])};e.offsets.popper=x({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],u=void 0;return u=H(+n)?[+n,0]:te(n,i,a,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=F("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var u=O(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),_({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),_({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=x({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<i(r[u])&&(e.offsets.popper[u]=i(r[u])-n[c]),n[u]>i(r[s])&&(e.offsets.popper[u]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Y(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,u=i.reference,c=-1!==["left","right"].indexOf(o),l=c?"height":"width",f=c?"Top":"Left",d=f.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",v=R(r)[l];u[p]-v<s[d]&&(e.offsets.popper[d]-=s[d]-(u[p]-v)),u[d]+v>s[p]&&(e.offsets.popper[d]+=u[d]+v-s[p]),e.offsets.popper=E(e.offsets.popper);var m=u[d]+u[l]/2-v/2,g=a(e.instance.popper),y=parseFloat(g["margin"+f]),b=parseFloat(g["border"+f+"Width"]),w=m-e.offsets.popper[d]-y-b;return w=Math.max(Math.min(s[l]-v,w),0),e.arrowElement=r,e.offsets.arrow=(_(n={},d,Math.round(w)),_(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=O(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=A(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case J:a=[r,o];break;case Z:a=Q(r);break;case ee:a=Q(r,!0);break;default:a=t.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],o=A(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,d="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),h=f(c.left)<f(n.left),p=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),g="left"===r&&h||"right"===r&&p||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&h||y&&"end"===i&&p||!y&&"start"===i&&v||!y&&"end"===i&&m),w=!!t.flipVariationsByContent&&(y&&"start"===i&&p||y&&"end"===i&&h||!y&&"start"===i&&m||!y&&"end"===i&&v),_=b||w;(d||g||_)&&(e.flipped=!0,(d||g)&&(r=a[u+1]),_&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=x({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=M(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=A(t),e.offsets.popper=E(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Y(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=D(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=h(e.instance.popper),u=C(s),c={position:o.position},l=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},u=i(o.width),c=i(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?l||f||u%2===c%2?i:a:s,h=t?i:s;return{left:d(u%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!K),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=F("transform"),v=void 0,m=void 0;if(m="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,v="right"===d?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&p)c[p]="translate3d("+v+"px, "+m+"px, 0)",c[f]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,y="right"===d?-1:1;c[f]=m*g,c[d]=v*y,c.willChange=f+", "+d}var b={"x-placement":e.placement};return e.attributes=x({},b,e.attributes),e.styles=x({},c,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return G(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&G(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=N(o,t,e,n.positionFixed),a=I(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),G(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},re={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ne},oe=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=x({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return j.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return W.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),e}();oe.Utils=("undefined"!==typeof window?window:e).PopperUtils,oe.placements=$,oe.Defaults=re,t.a=oe}).call(this,n(38))},,function(e,t,n){"use strict";e.exports=n(140)},,function(e,t,n){"use strict";(function(e){var r=n(156),o=n(157),i=n(158);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n);e=s(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return W(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return _(e,t,n,r)}function E(e,t,n,r){return W(z(t),e,n,r)}function C(e,t,n,r){return W(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=U(e[i]);return o}function R(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function A(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:V(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(38))},,function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(111),i=Object.keys,a=i?function(e){return i(e)}:n(181),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=n(92),o=n(94),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&i(e,".prototype.")>-1?o(n):n}},function(e,t,n){"use strict";var r=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(114);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},function(e,t,n){"use strict";var r=n(192).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},function(e,t,n){"use strict";var r=n(116),o=n(67).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(1),o=n.n(r),i=n(29),a=n(16),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};var l=o.a.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}Object(i.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i===1/a:i!==i&&a!==a)?n=0:(n="function"===typeof t?t(r,o):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(i.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((o={})[a]=s.a.object,o),{Provider:l,Consumer:f}};t.a=l}).call(this,n(38))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=u(i),s=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var c="undefined"!=typeof document,l=/^[+-]?((\.\d+)|(\d+(\.\d+)?))$/,f=/^([+-]|\.0*|[+-]\.0*|[+-]?\d+\.)?$/;function d(e,t,n){var r=e[t];if("function"==typeof r){for(var o=arguments.length,i=Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];r=r.apply(void 0,i)}return void 0===r?n:r}var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return a._isStrict=!!a.props.strict,a.state=r({btnDownHover:!1,btnDownActive:!1,btnUpHover:!1,btnUpActive:!1,stringValue:""},a._propsToState(a.props)),a.stop=a.stop.bind(a),a.onTouchEnd=a.onTouchEnd.bind(a),a.refsInput={},a.refsWrapper={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"_propsToState",value:function(e){var t={};return e.hasOwnProperty("value")?(t.stringValue=String(e.value||0===e.value?e.value:"").trim(),t.value=""!==t.stringValue?this._parse(e.value):null):!this._isMounted&&e.hasOwnProperty("defaultValue")&&(t.stringValue=String(e.defaultValue||0===e.defaultValue?e.defaultValue:"").trim(),t.value=""!==e.defaultValue?this._parse(e.defaultValue):null),t}},{key:"componentWillReceiveProps",value:function(e){var t=this;this._isStrict=!!e.strict;var n=this._propsToState(e);Object.keys(n).length&&(this._ignoreValueChange=!0,this.setState(n,(function(){t._ignoreValueChange=!1})))}},{key:"componentWillUpdate",value:function(){this.saveSelection()}},{key:"componentDidUpdate",value:function(e,t){this._ignoreValueChange||t.value===this.state.value||isNaN(this.state.value)&&null!==this.state.value||this._invokeEventCallback("onChange",this.state.value,this.refsInput.value,this.refsInput),this._inputFocus&&(this.refsInput.focus(),(this.state.selectionStart||0===this.state.selectionStart)&&(this.refsInput.selectionStart=this.state.selectionStart),(this.state.selectionEnd||0===this.state.selectionEnd)&&(this.refsInput.selectionEnd=this.state.selectionEnd)),this.checkValidity()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.stop()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.refsInput.getValueAsNumber=function(){return e.state.value||0},this.refsInput.setValue=function(t){e.setState({value:e._parse(t),stringValue:t})},!this._inputFocus&&c&&document.activeElement===this.refsInput&&(this._inputFocus=!0,this.refsInput.focus(),this._invokeEventCallback("onFocus",{target:this.refsInput,type:"focus"})),this.checkValidity()}},{key:"saveSelection",value:function(){this.state.selectionStart=this.refsInput.selectionStart,this.state.selectionEnd=this.refsInput.selectionEnd}},{key:"checkValidity",value:function(){var e=void 0,t="",n=!!this.refsInput.checkValidity,r=!(!this.props.noValidate||"false"==this.props.noValidate);this.refsInput.noValidate=r,(e=r||!n)?t="":(""===this.refsInput.pattern&&(this.refsInput.pattern=this.props.required?".+":".*"),n&&(this.refsInput.checkValidity(),(e=this.refsInput.validity.valid)||(t=this.refsInput.validationMessage)),e&&n&&this.props.maxLength&&this.refsInput.value.length>this.props.maxLength&&(t="This value is too long")),t=t||(e?"":this.refsInput.validationMessage||"Unknown Error");var o=this._valid!==t;this._valid=t,t?(!function(e,t){if(e.classList)return e.classList.add(t);e.className.search(new RegExp("\\b"+t+"\\b"))||(e.className=" "+t)}(this.refsWrapper,"has-error"),o&&this._invokeEventCallback("onInvalid",t,this.state.value,this.refsInput.value)):(!function(e,t){if(e.className){if(e.classList)return e.classList.remove(t);e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}}(this.refsWrapper,"has-error"),o&&this._invokeEventCallback("onValid",this.state.value,this.refsInput.value))}},{key:"_toNumber",value:function(e){var n=parseFloat(e);if(!isNaN(n)&&isFinite(n)||(n=0),this._isStrict){var r=d(this.props,"precision",null,this),o=Math.pow(10,null===r?10:r),i=+d(this.props,"min",t.defaultProps.min,this),a=+d(this.props,"max",t.defaultProps.max,this);n=Math.min(Math.max(n,i),a),n=Math.round(n*o)/o}return n}},{key:"_parse",value:function(e){return e=String(e),"function"==typeof this.props.parse?parseFloat(this.props.parse(e)):parseFloat(e)}},{key:"_format",value:function(e){var t=this._toNumber(e),n=d(this.props,"precision",null,this);return null!==n&&(t=e.toFixed(n)),t+="",this.props.format?this.props.format(t):t}},{key:"_step",value:function(e,n){var r=this._isStrict;this._isStrict=!0;var o=+d(this.props,"step",t.defaultProps.step,this,e>0?t.DIRECTION_UP:t.DIRECTION_DOWN),i=this._toNumber((this.state.value||0)+o*e);return this.props.snap&&(i=Math.round(i/o)*o),this._isStrict=r,i!==this.state.value&&(this.setState({value:i,stringValue:i+""},n),!0)}},{key:"_onKeyDown",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].persist(),this._invokeEventCallback.apply(this,["onKeyDown"].concat(t));var r=t[0];if(!r.isDefaultPrevented())if(38===r.keyCode)r.preventDefault(),this._step(r.ctrlKey||r.metaKey?.1:r.shiftKey?10:1);else if(40===r.keyCode)r.preventDefault(),this._step(r.ctrlKey||r.metaKey?-.1:r.shiftKey?-10:-1);else{var o=this.refsInput.value,i=o.length;8===r.keyCode?this.refsInput.selectionStart==this.refsInput.selectionEnd&&this.refsInput.selectionEnd>0&&o.length&&"."===o.charAt(this.refsInput.selectionEnd-1)&&(r.preventDefault(),this.refsInput.selectionStart=this.refsInput.selectionEnd=this.refsInput.selectionEnd-1):46===r.keyCode&&this.refsInput.selectionStart==this.refsInput.selectionEnd&&this.refsInput.selectionEnd<i+1&&o.length&&"."===o.charAt(this.refsInput.selectionEnd)&&(r.preventDefault(),this.refsInput.selectionStart=this.refsInput.selectionEnd=this.refsInput.selectionEnd+1)}}},{key:"stop",value:function(){this._timer&&clearTimeout(this._timer)}},{key:"increase",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1];this.stop(),this._step(1,r);var o=+d(this.props,"max",t.defaultProps.max,this);(isNaN(this.state.value)||+this.state.value<o)&&(this._timer=setTimeout((function(){e.increase(!0)}),n?t.SPEED:t.DELAY))}},{key:"decrease",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1];this.stop(),this._step(-1,r);var o=+d(this.props,"min",t.defaultProps.min,this);(isNaN(this.state.value)||+this.state.value>o)&&(this._timer=setTimeout((function(){e.decrease(!0)}),n?t.SPEED:t.DELAY))}},{key:"onMouseDown",value:function(e,t){"down"==e?this.decrease(!1,t):"up"==e&&this.increase(!1,t)}},{key:"onTouchStart",value:function(e,t){t.preventDefault(),"down"==e?this.decrease():"up"==e&&this.increase()}},{key:"onTouchEnd",value:function(e){e.preventDefault(),this.stop()}},{key:"_invokeEventCallback",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.props[e]).call.apply(t,[null].concat(r))}}},{key:"render",value:function(){var e=this,n=this.props,o=this.state,i={},s=this.props,u=(s.step,s.min,s.max,s.precision,s.parse,s.format,s.mobile),d=(s.snap,s.componentClass),h=(s.value,s.type,s.style),p=(s.defaultValue,s.onInvalid,s.onValid,s.strict,s.noStyle),v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(s,["step","min","max","precision","parse","format","mobile","snap","componentClass","value","type","style","defaultValue","onInvalid","onValid","strict","noStyle"]);for(var m in p=p||!1===h,t.style)i[m]=r({},t.style[m],h&&h[m]||{});var g=n.className&&/\bform-control\b/.test(n.className);"auto"==u&&(u=c&&"ontouchstart"in document),"function"==typeof u&&(u=u.call(this)),u=!!u;var y={wrap:{style:p?null:i.wrap,className:"react-numeric-input",ref:function(t){null!=t&&void 0!=t&&(e.refsWrapper=t)},onMouseUp:void 0,onMouseLeave:void 0},input:r({ref:function(t){null!=t&&void 0!=t&&(e.refsInput=t)},type:"text",style:p?null:r({},i.input,g?{}:i["input:not(.form-control)"],this._inputFocus?i["input:focus"]:{})},v),btnUp:{onMouseEnter:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseLeave:void 0,onTouchStart:void 0,onTouchEnd:void 0,style:p?null:r({},i.btn,i.btnUp,n.disabled||n.readOnly?i["btn:disabled"]:o.btnUpActive?i["btn:active"]:o.btnUpHover?i["btn:hover"]:{})},btnDown:{onMouseEnter:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseLeave:void 0,onTouchStart:void 0,onTouchEnd:void 0,style:p?null:r({},i.btn,i.btnDown,n.disabled||n.readOnly?i["btn:disabled"]:o.btnDownActive?i["btn:active"]:o.btnDownHover?i["btn:hover"]:{})}},b=String(o.stringValue||(o.value||0===o.value?o.value:"")||""),w=!this._isStrict&&(this._inputFocus||!this._isMounted);w&&f.test(b)||w&&b&&!l.test(b)?y.input.value=b:o.value||0===o.value?y.input.value=this._format(o.value):y.input.value="",g&&!p&&r(y.wrap.style,i["wrap.hasFormControl"]),u&&!p&&(r(y.input.style,i["input.mobile"]),r(y.btnUp.style,i["btnUp.mobile"]),r(y.btnDown.style,i["btnDown.mobile"])),n.disabled||n.readOnly?!p&&n.disabled&&r(y.input.style,i["input:disabled"]):(r(y.wrap,{onMouseUp:this.stop,onMouseLeave:this.stop}),r(y.btnUp,{onTouchStart:this.onTouchStart.bind(this,"up"),onTouchEnd:this.onTouchEnd,onMouseEnter:function(){e.setState({btnUpHover:!0})},onMouseLeave:function(){e.stop(),e.setState({btnUpHover:!1,btnUpActive:!1})},onMouseUp:function(){e.setState({btnUpHover:!0,btnUpActive:!1})},onMouseDown:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n[0].preventDefault(),n[0].persist(),e._inputFocus=!0,e.setState({btnUpHover:!0,btnUpActive:!0},(function(){e._invokeEventCallback.apply(e,["onFocus"].concat(n)),e.onMouseDown("up")}))}}),r(y.btnDown,{onTouchStart:this.onTouchStart.bind(this,"down"),onTouchEnd:this.onTouchEnd,onMouseEnter:function(){e.setState({btnDownHover:!0})},onMouseLeave:function(){e.stop(),e.setState({btnDownHover:!1,btnDownActive:!1})},onMouseUp:function(){e.setState({btnDownHover:!0,btnDownActive:!1})},onMouseDown:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n[0].preventDefault(),n[0].persist(),e._inputFocus=!0,e.setState({btnDownHover:!0,btnDownActive:!0},(function(){e._invokeEventCallback.apply(e,["onFocus"].concat(n)),e.onMouseDown("down")}))}}),r(y.input,{onChange:function(t){var n=t.target.value,r=e._parse(n);isNaN(r)&&(r=null),e.setState({value:e._isStrict?e._toNumber(r):r,stringValue:n})},onKeyDown:this._onKeyDown.bind(this),onInput:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.saveSelection(),e._invokeEventCallback.apply(e,["onInput"].concat(n))},onSelect:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.saveSelection(),e._invokeEventCallback.apply(e,["onSelect"].concat(n))},onFocus:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n[0].persist(),e._inputFocus=!0;var o=e._parse(n[0].target.value);e.setState({value:o,stringValue:o||0===o?o+"":""},(function(){e._invokeEventCallback.apply(e,["onFocus"].concat(n))}))},onBlur:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=e._isStrict;e._isStrict=!0,n[0].persist(),e._inputFocus=!1;var i=e._parse(n[0].target.value);e.setState({value:i},(function(){e._invokeEventCallback.apply(e,["onBlur"].concat(n)),e._isStrict=o}))}}));var _=d||"input";return u?a.default.createElement("span",y.wrap,a.default.createElement(_,y.input),a.default.createElement("b",y.btnUp,a.default.createElement("i",{style:p?null:i.minus}),a.default.createElement("i",{style:p?null:i.plus})),a.default.createElement("b",y.btnDown,a.default.createElement("i",{style:p?null:i.minus}))):a.default.createElement("span",y.wrap,a.default.createElement(_,y.input),a.default.createElement("b",y.btnUp,a.default.createElement("i",{style:p?null:i.arrowUp})),a.default.createElement("b",y.btnDown,a.default.createElement("i",{style:p?null:i.arrowDown})))}}]),t}(i.Component);h.propTypes={step:s.default.oneOfType([s.default.number,s.default.func]),min:s.default.oneOfType([s.default.number,s.default.func]),max:s.default.oneOfType([s.default.number,s.default.func]),precision:s.default.oneOfType([s.default.number,s.default.func]),maxLength:s.default.number,parse:s.default.func,format:s.default.func,className:s.default.string,disabled:s.default.bool,readOnly:s.default.bool,required:s.default.bool,snap:s.default.bool,noValidate:s.default.oneOfType([s.default.bool,s.default.string]),style:s.default.oneOfType([s.default.object,s.default.bool]),noStyle:s.default.bool,type:s.default.string,pattern:s.default.string,onFocus:s.default.func,onBlur:s.default.func,onKeyDown:s.default.func,onChange:s.default.func,onInvalid:s.default.func,onValid:s.default.func,onInput:s.default.func,onSelect:s.default.func,size:s.default.oneOfType([s.default.number,s.default.string]),value:s.default.oneOfType([s.default.number,s.default.string]),defaultValue:s.default.oneOfType([s.default.number,s.default.string]),strict:s.default.bool,componentClass:s.default.string,mobile:function(e,t){var n=e[t];if(!0!==n&&!1!==n&&"auto"!==n&&"function"!=typeof n)return new Error('The "mobile" prop must be true, false, "auto" or a function')}},h.defaultProps={step:1,min:Number.MIN_SAFE_INTEGER||-9007199254740991,max:Number.MAX_SAFE_INTEGER||9007199254740991,precision:null,parse:null,format:null,mobile:"auto",strict:!1,componentClass:"input",style:{}},h.style={wrap:{position:"relative",display:"inline-block"},"wrap.hasFormControl":{display:"block"},arrowUp:{position:"absolute",top:"50%",left:"50%",width:0,height:0,borderWidth:"0 0.6ex 0.6ex 0.6ex",borderColor:"transparent transparent rgba(0, 0, 0, 0.7)",borderStyle:"solid",margin:"-0.3ex 0 0 -0.56ex"},arrowDown:{position:"absolute",top:"50%",left:"50%",width:0,height:0,borderWidth:"0.6ex 0.6ex 0 0.6ex",borderColor:"rgba(0, 0, 0, 0.7) transparent transparent",borderStyle:"solid",margin:"-0.3ex 0 0 -0.56ex"},plus:{position:"absolute",top:"50%",left:"50%",width:2,height:10,background:"rgba(0,0,0,.7)",margin:"-5px 0 0 -1px"},minus:{position:"absolute",top:"50%",left:"50%",width:10,height:2,background:"rgba(0,0,0,.7)",margin:"-1px 0 0 -5px"},btn:{position:"absolute",right:2,width:"2.26ex",borderColor:"rgba(0,0,0,.1)",borderStyle:"solid",textAlign:"center",cursor:"default",transition:"all 0.1s",background:"rgba(0,0,0,.1)",boxShadow:"-1px -1px 3px rgba(0,0,0,.1) inset,1px 1px 3px rgba(255,255,255,.7) inset"},btnUp:{top:2,bottom:"50%",borderRadius:"2px 2px 0 0",borderWidth:"1px 1px 0 1px"},"btnUp.mobile":{width:"3.3ex",bottom:2,boxShadow:"none",borderRadius:2,borderWidth:1},btnDown:{top:"50%",bottom:2,borderRadius:"0 0 2px 2px",borderWidth:"0 1px 1px 1px"},"btnDown.mobile":{width:"3.3ex",bottom:2,left:2,top:2,right:"auto",boxShadow:"none",borderRadius:2,borderWidth:1},"btn:hover":{background:"rgba(0,0,0,.2)"},"btn:active":{background:"rgba(0,0,0,.3)",boxShadow:"0 1px 3px rgba(0,0,0,.2) inset,-1px -1px 4px rgba(255,255,255,.5) inset"},"btn:disabled":{opacity:.5,boxShadow:"none",cursor:"not-allowed"},input:{paddingRight:"3ex",boxSizing:"border-box",fontSize:"inherit"},"input:not(.form-control)":{border:"1px solid #ccc",borderRadius:2,paddingLeft:4,display:"block",WebkitAppearance:"none",lineHeight:"normal"},"input.mobile":{paddingLeft:" 3.4ex",paddingRight:"3.4ex",textAlign:"center"},"input:focus":{},"input:disabled":{color:"rgba(0, 0, 0, 0.3)",textShadow:"0 1px 0 rgba(255, 255, 255, 0.8)"}},h.SPEED=50,h.DELAY=500,h.DIRECTION_UP="up",h.DIRECTION_DOWN="down",e.exports=h},function(e,t){e.exports=n(1)},function(e,t){e.exports=n(16)}])},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(27),a=n(173),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setFocusTrapElement=function(e){n.focusTrapElement=e},"undefined"!==typeof document&&(n.previouslyFocusedElement=document.activeElement),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props.focusTrapOptions,t={returnFocusOnDeactivate:!1};for(var n in e)e.hasOwnProperty(n)&&"returnFocusOnDeactivate"!==n&&(t[n]=e[n]);var r=i.findDOMNode(this.focusTrapElement);this.focusTrap=this.props._createFocusTrap(r,t),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()}},{key:"componentDidUpdate",value:function(e){if(e.active&&!this.props.active){var t={returnFocus:this.props.focusTrapOptions.returnFocusOnDeactivate||!1};this.focusTrap.deactivate(t)}else!e.active&&this.props.active&&this.focusTrap.activate();e.paused&&!this.props.paused?this.focusTrap.unpause():!e.paused&&this.props.paused&&this.focusTrap.pause()}},{key:"componentWillUnmount",value:function(){this.focusTrap.deactivate(),!1!==this.props.focusTrapOptions.returnFocusOnDeactivate&&this.previouslyFocusedElement&&this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus()}},{key:"render",value:function(){var e=this,t=o.Children.only(this.props.children);return o.cloneElement(t,{ref:function(n){e.setFocusTrapElement(n),"function"===typeof t.ref&&t.ref(n)}})}}]),t}(o.Component);s.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:a},e.exports=s},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(110),o=n(182),i=n(187),a=n(190),s=n(191),u=n(194),c=Date.prototype.getTime;function l(e,t,n){var h=n||{};return!!(h.strict?i(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?h.strict?i(e,t):e==t:function(e,t,n){var i,h;if(typeof e!==typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var p=a(e),v=a(t);if(p!==v)return!1;if(p||v)return e.source===t.source&&s(e)===s(t);if(u(e)&&u(t))return c.call(e)===c.call(t);var m=d(e),g=d(t);if(m!==g)return!1;if(m||g){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!==typeof t)return!1;try{var y=r(e),b=r(t)}catch(w){return!1}if(y.length!==b.length)return!1;for(y.sort(),b.sort(),i=y.length-1;i>=0;i--)if(y[i]!=b[i])return!1;for(i=y.length-1;i>=0;i--)if(!l(e[h=y[i]],t[h],n))return!1;return!0}(e,t,h))}function f(e){return null===e||void 0===e}function d(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=l},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:u(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?l:10===e?f:l||f}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function v(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||r.contains(o))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(a)?a:h(a);var s=p(e);return s.host?v(s.host,t):v(e,p(t).host)}function m(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function g(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function E(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function C(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=m(e,"top"),r=m(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?b(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,u=i.height||e.clientHeight||o.height,c=e.offsetWidth-s,l=e.offsetHeight-u;if(c||l){var f=a(e);c-=g(f,"x"),l-=g(f,"y"),o.width-=c,o.height-=l}return E(o)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),o="HTML"===t.nodeName,i=C(e),s=C(t),c=u(e),l=a(t),f=parseFloat(l.borderTopWidth),h=parseFloat(l.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=E({top:i.top-s.top-f,left:i.left-s.left-h,width:i.width,height:i.height});if(p.marginTop=0,p.marginLeft=0,!r&&o){var v=parseFloat(l.marginTop),g=parseFloat(l.marginLeft);p.top-=f-v,p.bottom-=f-v,p.left-=h-g,p.right-=h-g,p.marginTop=v,p.marginLeft=g}return(r&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(t,"top"),o=m(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(p,t)),p}function S(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=s(e);return!!n&&S(n)}function T(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function O(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?T(e):v(e,c(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=k(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:m(n),s=t?0:m(n,"left");return E({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var l=void 0;"scrollParent"===r?"BODY"===(l=u(s(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var f=k(l,a,o);if("HTML"!==l.nodeName||S(a))i=f;else{var d=b(e.ownerDocument),h=d.height,p=d.width;i.top+=f.top-f.marginTop,i.bottom=h+f.top,i.left+=f.left-f.marginLeft,i.right=p+f.left}}var g="number"===typeof(n=n||0);return i.left+=g?n:n.left||0,i.top+=g?n:n.top||0,i.right-=g?n:n.right||0,i.bottom-=g?n:n.bottom||0,i}function I(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=O(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map((function(e){return x({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,r?T(t):v(t,c(n)),r)}function R(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function A(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function P(e,t,n){n=n.split("-")[0];var r=R(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",u=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[u]/2-r[u]/2,o[s]=n===s?t[s]-r[c]:t[A(s)],o}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function M(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=D(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=E(t.offsets.popper),t.offsets.reference=E(t.offsets.reference),t=n(t,e))})),t}function j(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=I(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=M(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function L(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if("undefined"!==typeof document.body.style[i])return i}return null}function B(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function V(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||V(u(i.parentNode),t,n,r),r.push(i)}function z(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var o=u(e);return V(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function W(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}function q(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function G(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var K=n&&/Firefox/i.test(navigator.userAgent);function Y(e,t,n){var r=D(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var $=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=$.slice(3);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=X.indexOf(e),r=X.slice(n+1).concat(X.slice(0,n));return t?r.reverse():r}var J="flip",Z="clockwise",ee="counterclockwise";function te(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(D(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return c=c.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){return E("%p"===a?n:r)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){H(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ne={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:_({},u,i[u]),end:_({},u,i[u]+i[c]-a[c])};e.offsets.popper=x({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],u=void 0;return u=H(+n)?[+n,0]:te(n,i,a,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=F("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var u=O(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),_({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),_({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=x({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<i(r[u])&&(e.offsets.popper[u]=i(r[u])-n[c]),n[u]>i(r[s])&&(e.offsets.popper[u]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Y(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,u=i.reference,c=-1!==["left","right"].indexOf(o),l=c?"height":"width",f=c?"Top":"Left",d=f.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",v=R(r)[l];u[p]-v<s[d]&&(e.offsets.popper[d]-=s[d]-(u[p]-v)),u[d]+v>s[p]&&(e.offsets.popper[d]+=u[d]+v-s[p]),e.offsets.popper=E(e.offsets.popper);var m=u[d]+u[l]/2-v/2,g=a(e.instance.popper),y=parseFloat(g["margin"+f]),b=parseFloat(g["border"+f+"Width"]),w=m-e.offsets.popper[d]-y-b;return w=Math.max(Math.min(s[l]-v,w),0),e.arrowElement=r,e.offsets.arrow=(_(n={},d,Math.round(w)),_(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=O(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=A(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case J:a=[r,o];break;case Z:a=Q(r);break;case ee:a=Q(r,!0);break;default:a=t.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],o=A(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,d="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),h=f(c.left)<f(n.left),p=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),g="left"===r&&h||"right"===r&&p||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&h||y&&"end"===i&&p||!y&&"start"===i&&v||!y&&"end"===i&&m),w=!!t.flipVariationsByContent&&(y&&"start"===i&&p||y&&"end"===i&&h||!y&&"start"===i&&m||!y&&"end"===i&&v),_=b||w;(d||g||_)&&(e.flipped=!0,(d||g)&&(r=a[u+1]),_&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=x({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=M(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=A(t),e.offsets.popper=E(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Y(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=D(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=h(e.instance.popper),u=C(s),c={position:o.position},l=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},u=i(o.width),c=i(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?l||f||u%2===c%2?i:a:s,h=t?i:s;return{left:d(u%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!K),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=F("transform"),v=void 0,m=void 0;if(m="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,v="right"===d?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&p)c[p]="translate3d("+v+"px, "+m+"px, 0)",c[f]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,y="right"===d?-1:1;c[f]=m*g,c[d]=v*y,c.willChange=f+", "+d}var b={"x-placement":e.placement};return e.attributes=x({},b,e.attributes),e.styles=x({},c,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return G(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&G(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=N(o,t,e,n.positionFixed),a=I(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),G(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},re={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ne},oe=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=x({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return j.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return W.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),e}();oe.Utils=("undefined"!==typeof window?window:e).PopperUtils,oe.placements=$,oe.Defaults=re,t.a=oe}).call(this,n(38))},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},,,,,,,,function(e,t,n){"use strict";var r=n(65),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;o=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case i:u=!0}}if(u)return a=a(u=e),e=""===r?"."+S(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),T(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=T(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+S(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(h(321));return e}var A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),o=n(65),i=n(105);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,C=60107,k=60108,S=60114,T=60109,O=60110,I=60112,N=60113,R=60120,A=60115,P=60116,D=60121,M=60128,j=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;x=B("react.element"),E=B("react.portal"),C=B("react.fragment"),k=B("react.strict_mode"),S=B("react.profiler"),T=B("react.provider"),O=B("react.context"),I=B("react.forward_ref"),N=B("react.suspense"),R=B("react.suspense_list"),A=B("react.memo"),P=B("react.lazy"),D=B("react.block"),B("react.scope"),M=B("react.opaque.id"),j=B("react.debug_trace_mode"),L=B("react.offscreen"),F=B("react.legacy_hidden")}var U,V="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function W(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function G(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case S:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return K(e.type);case D:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var xe=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Oe=null;function Ie(e){if(e=no(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=oo(t),Se(e.stateNode,e.type,t))}}function Ne(e){Te?Oe?Oe.push(e):Oe=[e]:Te=e}function Re(){if(Te){var e=Te,t=Oe;if(Oe=Te=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ae(e,t){return e(t)}function Pe(e,t,n,r,o){return e(t,n,r,o)}function De(){}var Me=Ae,je=!1,Le=!1;function Fe(){null===Te&&null===Oe||(De(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Ue=!1}function ze(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,qe=null,He=!1,Ge=null,Ke={onError:function(e){We=!0,qe=e}};function Ye(e,t,n,r,o,i,a,s,u){We=!1,qe=null,ze.apply(Ke,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Qe(o),e;if(i===r)return Qe(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,ot=!1,it=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=ht(t,n,r,o,i),null!==t&&(null!==(t=no(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function mt(e){var t=to(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=no(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=no(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Ct={},kt={};function St(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Ct[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=St("animationend"),Ot=St("animationiteration"),It=St("animationstart"),Nt=St("transitionend"),Rt=new Map,At=new Map,Pt=["abort","abort",Tt,"animationEnd",Ot,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),At.set(r,t),Rt.set(r,o),c(o,[r])}}(0,i.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Lt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,o=Mt=15;else if(0!==(i=134217727&n)){var u=i&~a;0!==u?(r=jt(u),o=Mt):0!==(s&=i)&&(r=jt(s),o=Mt)}else 0!==(i=n&~a)?(r=jt(i),o=Mt):0!==s&&(r=jt(s),o=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(jt(t),o<=Mt)return t;Mt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Wt(t)),r|=e[n],t&=~o;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Ht|0)|0},qt=Math.log,Ht=Math.LN2;var Gt=i.unstable_UserBlockingPriority,Kt=i.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){je||De();var o=Qt,i=je;je=!0;try{Pe(o,e,t,n,r)}finally{(je=i)||Fe()}}function Xt(e,t,n,r){Kt(Gt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var o;if(Yt)if((o=0===(4&t))&&0<it.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var i=Jt(e,t,n,r);if(null===i)o&&pt(e,r);else{if(o){if(-1<dt.indexOf(e))return e=ht(i,e,t,n,r),void it.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return at=vt(at,e,t,n,r,o),!0;case"dragenter":return st=vt(st,e,t,n,r,o),!0;case"mouseover":return ut=vt(ut,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ct.set(i,vt(ct.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,lt.set(i,vt(lt.get(i)||null,e,t,n,r,o)),!0}return!1}(i,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var o=ke(r);if(null!==(o=to(o))){var i=$e(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=Xe(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Dr(e,t,r,o,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),hn=o({},fn,{view:0,detail:0}),pn=sn(hn),vn=o({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),gn=sn(o({},vn,{dataTransfer:0})),yn=sn(o({},hn,{relatedTarget:0})),bn=sn(o({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=o({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),xn=sn(o({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Sn}var On=o({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(On),Nn=sn(o({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(o({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(o({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=o({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Ln=null;f&&"documentMode"in document&&(Ln=document.documentMode);var Fn=f&&"TextEvent"in window&&!Ln,Bn=f&&(!jn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ne(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Or(e,0)}function Qn(e){if(Q(ro(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",or),$n=Yn=null)}function or(e){if("value"===e.propertyName&&Qn($n)){var t=[];if(Kn(t,$n,e,ke(e)),e=Xn,je)e(t);else{je=!0;try{Ae(e,t)}finally{je=!1,Fe()}}}}function ir(e,t,n){"focusin"===e?(rr(),$n=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function sr(e,t){if("click"===e)return Qn(t)}function ur(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)At.set(Er[Cr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,u,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(a(198));var l=qe;We=!1,qe=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Tr(o,s,c),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Tr(o,s,c),i=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ir(e,t){var n=io(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){Sr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;o|=2,i=r}var a=io(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),Pr(i,e,o,t),a.add(s))}function Pr(e,t,n,r){var o=At.get(t);switch(void 0===o?2:o){case 0:o=$t;break;case 1:o=Xt;break;default:o=Qt}n=o.bind(null,t,n,e),o=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=to(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Le)return e(t,n);Le=!0;try{return Me(e,t,n)}finally{Le=!1,Fe()}}((function(){var r=i,o=ke(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Tt:case Ot:case It:u=bn;break;case Nt:u=An;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Be(p,d))&&l.push(Mr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!to(c)&&!c[Zr])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?to(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ro(u),h=null==c?s:ro(c),(s=new l(v,p+"leave",u,n,o)).target=f,s.relatedTarget=h,v=null,to(o)===r&&((l=new l(d,p+"enter",c,n,o)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Lr(h))p++;for(h=0,v=d;v;v=Lr(v))h++;for(;0<p-h;)l=Lr(l),p--;for(;0<h-p;)d=Lr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Lr(l),d=Lr(d)}l=null}else l=null;null!==u&&Fr(a,s,u,l,!1),null!==c&&null!==f&&Fr(a,f,c,l,!0)}if("select"===(u=(s=r?ro(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Gn(s))if(Zn)m=ur;else{m=ar;var g=ir}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Kn(a,m,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&oe(s,"number",s.value)),g=r?ro(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(yr=g,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(a,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(a,n,o)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=nn()):(en="value"in(Zt=o)?Zt.value:Zt.textContent,qn=!0)),0<(g=jr(r,b)).length&&(b=new xn(b,e,null,n,o),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!jn&&zn(e,t)?(e=nn(),tn=en=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Or(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Be(e,n))&&r.unshift(Mr(e,i,o)),null!=(i=Be(e,t))&&r.push(Mr(e,i,o))),e=e.return}return r}function Lr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=Be(n,i))&&a.unshift(Mr(n,u,s)):o||null!=(u=Be(n,i))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Ur=null,Vr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Xr,Jr="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,eo="__reactEvents$"+Xr;function to(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Qr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function no(e){return!(e=e[Qr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ro(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oo(e){return e[Jr]||null}function io(e){var t=e[eo];return void 0===t&&(t=e[eo]=new Set),t}var ao=[],so=-1;function uo(e){return{current:e}}function co(e){0>so||(e.current=ao[so],ao[so]=null,so--)}function lo(e,t){so++,ao[so]=e.current,e.current=t}var fo={},ho=uo(fo),po=uo(!1),vo=fo;function mo(e,t){var n=e.type.contextTypes;if(!n)return fo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function go(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yo(){co(po),co(ho)}function bo(e,t,n){if(ho.current!==fo)throw Error(a(168));lo(ho,t),lo(po,n)}function wo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,K(t)||"Unknown",i));return o({},n,r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,vo=ho.current,lo(ho,e),lo(po,po.current),!0}function xo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wo(e,t,vo),r.__reactInternalMemoizedMergedChildContext=e,co(po),co(ho),lo(ho,e)):co(po),lo(po,n)}var Eo=null,Co=null,ko=i.unstable_runWithPriority,So=i.unstable_scheduleCallback,To=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,Io=i.unstable_requestPaint,No=i.unstable_now,Ro=i.unstable_getCurrentPriorityLevel,Ao=i.unstable_ImmediatePriority,Po=i.unstable_UserBlockingPriority,Do=i.unstable_NormalPriority,Mo=i.unstable_LowPriority,jo=i.unstable_IdlePriority,Lo={},Fo=void 0!==Io?Io:function(){},Bo=null,Uo=null,Vo=!1,zo=No(),Wo=1e4>zo?No:function(){return No()-zo};function qo(){switch(Ro()){case Ao:return 99;case Po:return 98;case Do:return 97;case Mo:return 96;case jo:return 95;default:throw Error(a(332))}}function Ho(e){switch(e){case 99:return Ao;case 98:return Po;case 97:return Do;case 96:return Mo;case 95:return jo;default:throw Error(a(332))}}function Go(e,t){return e=Ho(e),ko(e,t)}function Ko(e,t,n){return e=Ho(e),So(e,t,n)}function Yo(){if(null!==Uo){var e=Uo;Uo=null,To(e)}$o()}function $o(){if(!Vo&&null!==Bo){Vo=!0;var e=0;try{var t=Bo;Go(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bo=null}catch(n){throw null!==Bo&&(Bo=Bo.slice(e+1)),So(Ao,Yo),n}finally{Vo=!1}}}var Xo=_.ReactCurrentBatchConfig;function Qo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Jo=uo(null),Zo=null,ei=null,ti=null;function ni(){ti=ei=Zo=null}function ri(e){var t=Jo.current;co(Jo),e.type._context._currentValue=t}function oi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ii(e,t){Zo=e,ti=ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function ai(e,t){if(ti!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ti=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ei){if(null===Zo)throw Error(a(308));ei=t,Zo.dependencies={lanes:0,firstContext:t,responders:null}}else ei=ei.next=t;return e._currentValue}var si=!1;function ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ci(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function di(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var i=e.updateQueue;si=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=i.baseState,s=0,f=l=c=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,d,u):p)||void 0===u)break e;d=o({},d,u);break e;case 2:si=!0}}null!==a.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=i.shared.pending))break;a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Vs|=s,e.lanes=s,e.memoizedState=d}}function pi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var vi=(new r.Component).refs;function mi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),o=hu(e),i=li(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),o=hu(e),i=li(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),o=li(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),fi(e,o),pu(e,r,n)}};function yi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(o,i))}function bi(e,t,n){var r=!1,o=fo,i=t.contextType;return"object"===typeof i&&null!==i?i=ai(i):(o=go(t)?vo:ho.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?mo(e,o):fo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function _i(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=vi,ui(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=ai(i):(i=go(t)?vo:ho.current,o.context=mo(e,i)),hi(e,n,o,r),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gi.enqueueReplaceState(o,o.state,null),hi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var xi=Array.isArray;function Ei(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===vi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ci(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ki(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Ei(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=Ei(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=Ei(e,null,t),n.return=e,n;case E:return(t=Qu(t,e.mode,n)).return=e,t}if(xi(t)||z(t))return(t=Yu(t,e.mode,n,null)).return=e,t;Ci(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?n.type===C?f(e,t,n.props.children,r,o):c(e,t,n,r):null;case E:return n.key===o?l(e,t,n,r):null}if(xi(n)||z(n))return null!==o?null:f(e,t,n,r,null);Ci(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===C?f(t,e,r.props.children,o,r.key):c(t,e,r,o);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(xi(r)||z(r))return f(t,e=e.get(n)||null,r,o,null);Ci(t,r)}return null}function v(o,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(o,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(o,f),a=i(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(o,f),c;if(null===f){for(;v<s.length;v++)null!==(f=d(o,s[v],u))&&(a=i(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(o,f);v<s.length;v++)null!==(m=p(f,o,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=i(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(o,e)})),c}function m(o,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(o,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(o,v),s=i(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(o,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(o,y.value,c))&&(s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(o,v);!y.done;m++,y=u.next())null!==(y=p(v,o,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(o,e)})),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===C&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case x:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(i.type===C){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=Ei(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===C?((r=Yu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Ku(i.type,i.key,i.props,null,e.mode,u)).ref=Ei(e,r,i),u.return=e,e=u)}return s(e);case E:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qu(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Xu(i,e.mode,u)).return=e,e=r),s(e);if(xi(i))return v(e,r,i,u);if(z(i))return m(e,r,i,u);if(l&&Ci(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Si=ki(!0),Ti=ki(!1),Oi={},Ii=uo(Oi),Ni=uo(Oi),Ri=uo(Oi);function Ai(e){if(e===Oi)throw Error(a(174));return e}function Pi(e,t){switch(lo(Ri,t),lo(Ni,e),lo(Ii,Oi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}co(Ii),lo(Ii,t)}function Di(){co(Ii),co(Ni),co(Ri)}function Mi(e){Ai(Ri.current);var t=Ai(Ii.current),n=he(t,e.type);t!==n&&(lo(Ni,e),lo(Ii,n))}function ji(e){Ni.current===e&&(co(Ii),co(Ni))}var Li=uo(0);function Fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=null,Ui=null,Vi=!1;function zi(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qi(e){if(Vi){var t=Ui;if(t){var n=t;if(!Wi(e,t)){if(!(t=Kr(n.nextSibling))||!Wi(e,t))return e.flags=-1025&e.flags|2,Vi=!1,void(Bi=e);zi(Bi,n)}Bi=e,Ui=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Vi=!1,Bi=e}}function Hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bi=e}function Gi(e){if(e!==Bi)return!1;if(!Vi)return Hi(e),Vi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Ui;t;)zi(e,t),t=Kr(t.nextSibling);if(Hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ui=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ui=null}}else Ui=Bi?Kr(e.stateNode.nextSibling):null;return!0}function Ki(){Ui=Bi=null,Vi=!1}var Yi=[];function $i(){for(var e=0;e<Yi.length;e++)Yi[e]._workInProgressVersionPrimary=null;Yi.length=0}var Xi=_.ReactCurrentDispatcher,Qi=_.ReactCurrentBatchConfig,Ji=0,Zi=null,ea=null,ta=null,na=!1,ra=!1;function oa(){throw Error(a(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,o,i){if(Ji=i,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=null===e||null===e.memoizedState?Aa:Pa,e=n(r,o),ra){i=0;do{if(ra=!1,!(25>i))throw Error(a(301));i+=1,ta=ea=null,t.updateQueue=null,Xi.current=Da,e=n(r,o)}while(ra)}if(Xi.current=Ra,t=null!==ea&&null!==ea.next,Ji=0,ta=ea=Zi=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zi.memoizedState=ta=e:ta=ta.next=e,ta}function ua(){if(null===ea){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zi.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zi.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=s=i=null,c=o;do{var l=c.lane;if((Ji&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,Zi.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==o);null===u?i=r:u.next=s,cr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);cr(i,t.memoizedState)||(ja=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Ji&e)===e)&&(t._workInProgressVersionPrimary=r,Yi.push(t))),e)return n(t._source);throw Yi.push(t),Error(a(350))}function ha(e,t,n,r){var o=Ps;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),u=Xi.current,c=u.useState((function(){return da(o,t,n)})),l=c[1],f=c[0];c=ta;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Zi;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=hu(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,a=e;0<a;){var u=31-Wt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(m);o.mutableReadLanes|=r&o.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=l=Na.bind(null,Zi,e),c.queue=e,c.baseQueue=null,f=da(o,t,n),c.memoizedState=c.baseState=f),f}function pa(e,t,n){return ha(ua(),e,t,n)}function va(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Na.bind(null,Zi,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zi.updateQueue)?(t={lastEffect:null},Zi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ya(){return ua().memoizedState}function ba(e,t,n,r){var o=sa();Zi.flags|=e,o.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var o=ua();r=void 0===r?null:r;var i=void 0;if(null!==ea){var a=ea.memoizedState;if(i=a.destroy,null!==r&&ia(r,a.deps))return void ma(t,n,i,r)}Zi.flags|=e,o.memoizedState=ma(1|t,n,i,r)}function _a(e,t){return ba(516,4,e,t)}function xa(e,t){return wa(516,4,e,t)}function Ea(e,t){return wa(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ca.bind(null,t,e),n)}function Sa(){}function Ta(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=qo();Go(98>n?98:n,(function(){e(!0)})),Go(97<n?97:n,(function(){var n=Qi.transition;Qi.transition=1;try{e(!1),t()}finally{Qi.transition=n}}))}function Na(e,t,n){var r=du(),o=hu(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Zi||null!==a&&a===Zi)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(i.eagerReducer=a,i.eagerState=u,cr(u,s))return}catch(c){}pu(e,o,r)}}var Ra={readContext:ai,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Aa={readContext:ai,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ai,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,Zi,e),[r.memoizedState,e]},useRef:ga,useState:va,useDebugValue:Sa,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return _a((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ga(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(Vi){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&Zi.mode)&&(Zi.flags|=516,ma(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return va(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:ai,useCallback:Ta,useContext:ai,useEffect:xa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Oa,useReducer:la,useRef:ya,useState:function(){return la(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return xa((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ai,useCallback:Ta,useContext:ai,useEffect:xa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Oa,useReducer:fa,useRef:ya,useState:function(){return fa(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return xa((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ma=_.ReactCurrentOwner,ja=!1;function La(e,t,n,r){t.child=null===e?Ti(t,null,n,r):Si(t,e.child,n,r)}function Fa(e,t,n,r,o){n=n.render;var i=t.ref;return ii(t,o),r=aa(e,t,n,r,i,o),null===e||ja?(t.flags|=1,La(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function Ba(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,o,i))}return a=e.child,0===(o&i)&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(o,r)&&e.ref===t.ref)?is(e,t,i):(t.flags|=1,(e=Gu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ua(e,t,n,r,o,i){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(ja=!1,0===(i&o))return t.lanes=e.lanes,is(e,t,i);0!==(16384&e.flags)&&(ja=!0)}return Wa(e,t,n,r,i)}function Va(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return La(e,t,o,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,o){var i=go(n)?vo:ho.current;return i=mo(t,i),ii(t,o),n=aa(e,t,n,r,i,o),null===e||ja?(t.flags|=1,La(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function qa(e,t,n,r,o){if(go(n)){var i=!0;_o(t)}else i=!1;if(ii(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bi(t,n,r),_i(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ai(c):c=mo(t,c=go(n)?vo:ho.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wi(t,a,r,c),si=!1;var d=t.memoizedState;a.state=d,hi(t,r,a,o),u=t.memoizedState,s!==r||d!==u||po.current||si?("function"===typeof l&&(mi(t,n,l,r),u=t.memoizedState),(s=si||yi(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ci(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qo(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ai(u):u=mo(t,u=go(n)?vo:ho.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wi(t,a,r,u),si=!1,d=t.memoizedState,a.state=d,hi(t,r,a,o);var p=t.memoizedState;s!==f||d!==p||po.current||si?("function"===typeof h&&(mi(t,n,h,r),p=t.memoizedState),(c=si||yi(t,n,c,r,d,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,i,o)}function Ha(e,t,n,r,o,i){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return o&&xo(t,n,!1),is(e,t,i);r=t.stateNode,Ma.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,s,i)):La(e,t,s,i),t.memoizedState=r.state,o&&xo(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bo(0,t.context,!1),Pi(e,t.containerInfo)}var Ka,Ya,$a,Xa,Qa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,o=t.pendingProps,i=Li.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),lo(Li,1&i),null===e?(void 0!==o.fallback&&qi(t),e=o.children,i=o.fallback,a?(e=Za(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"===typeof o.unstable_expectedLoadTime?(e=Za(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=ts(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,o):(n=es(e,t,o.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=$u(t,o,0,null),n=Yu(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function es(e,t,n,r){var o=e.child;return e=o.sibling,n=Gu(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(a,s),null!==e?r=Gu(e,r):(r=Yu(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),oi(e.return,t)}function rs(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function os(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(La(e,t,r.children,n),0!==(2&(r=Li.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lo(Li,r),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Fi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),rs(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Fi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}rs(t,!0,n,null,i,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return go(t.type)&&yo(),null;case 3:return Di(),co(po),co(ho),$i(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Gi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ya(t),null;case 5:ji(t);var i=Ai(Ri.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ai(Ii.current),Gi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Jr]=s,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Ir(kr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,s),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ir("invalid",r);break;case"textarea":ue(r,s),Ir("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe.html&&(e=de(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Jr]=r,Ka(e,t,!1,!1),t.stateNode=e,c=Ce(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),i=r;break;case"iframe":case"object":case"embed":Ir("load",e),i=r;break;case"video":case"audio":for(i=0;i<kr.length;i++)Ir(kr[i],e);i=r;break;case"source":Ir("error",e),i=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),i=r;break;case"details":Ir("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),Ir("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ue(e,r),i=se(e,r),Ir("invalid",e);break;default:i=r}Ee(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ir("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Br)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ai(Ri.current),Ai(Ii.current),Gi(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return co(Li),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Gi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Li.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ps||0===(134217727&Vs)&&0===(134217727&zs)||yu(Ps,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Di(),Ya(t),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ri(t),null;case 19:if(co(Li),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fi(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lo(Li,1&Li.current|2),t.child}e=e.sibling}null!==r.tail&&Wo()>Gs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fi(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wo()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wo(),n.sibling=null,t=Li.current,lo(Li,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:go(e.type)&&yo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Di(),co(po),co(ho),$i(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return ji(e),null;case 13:return co(Li),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return co(Li),null;case 4:return Di(),null;case 10:return ri(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(){},$a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ai(Ii.current);var a,s=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(f in Ee(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ir("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Qs=r),ls(0,t)},n}function hs(e,t,n){(n=li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return ls(0,t),r(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(Lu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=we("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Co&&"function"===typeof Co.onCommitFiberUnmount)try{Co.onCommitFiberUnmount(Eo,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!==(4&r))Lu(t,n);else{r=t;try{o()}catch(i){Uu(r,i)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Uu(t,i)}break;case 5:vs(t);break;case 4:ks(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Cs(e,n,t)}function Es(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Cs(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Cs(e,t,n),e=e.sibling;null!==e;)Cs(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var s=e,u=o,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(bs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,o),t=Ce(e,r),o=0;o<i.length;o+=2){var s=i[o],u=i[o+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?ae(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Wo(),ys(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,Ns=_.ReactCurrentDispatcher,Rs=_.ReactCurrentOwner,As=0,Ps=null,Ds=null,Ms=0,js=0,Ls=uo(0),Fs=0,Bs=null,Us=0,Vs=0,zs=0,Ws=0,qs=null,Hs=0,Gs=1/0;function Ks(){Gs=Wo()+500}var Ys,$s=null,Xs=!1,Qs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],ou=null,iu=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&As)?Wo():-1!==su?su:su=Wo()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qo()?1:2;if(0===uu&&(uu=Us),0!==Xo.transition){0!==cu&&(cu=null!==qs?qs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qo(),0!==(4&As)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<iu)throw iu=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Ps&&(zs|=t,4===Fs&&yu(e,Ms));var r=qo();1===t?0!==(8&As)&&0===(48&As)?bu(e):(mu(e,n),0===As&&(Ks(),Yo())):(0===(4&As)||98!==r&&99!==r||(null===ou?ou=new Set([e]):ou.add(e)),mu(e,n)),qs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&o)){l=t,jt(c);var f=Mt;i[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Lt(e,e===Ps?Ms:0),t=Mt,0===r)null!==n&&(n!==Lo&&To(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Lo&&To(n)}15===t?(n=bu.bind(null,e),null===Bo?(Bo=[n],Uo=So(Ao,$o)):Bo.push(n),n=Lo):14===t?n=Ko(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ko(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(a(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=Lt(e,e===Ps?Ms:0);if(0===n)return null;var r=n,o=As;As|=16;var i=Su();for(Ps===e&&Ms===r||(Ks(),Cu(e,r));;)try{Iu();break}catch(u){ku(e,u)}if(ni(),Ns.current=i,As=o,null!==Ds?r=0:(Ps=null,Ms=0,r=Fs),0!==(Us&zs))Cu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tu(e,n))),1===r)throw t=Bs,Cu(e,0),yu(e,n),mu(e,Wo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Au(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Hs+500-Wo())){if(0!==Lt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=qr(Au.bind(null,e),r);break}Au(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Wt(n);i=1<<s,(s=r[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Wo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=qr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(a(329))}}return mu(e,Wo()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Ws,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(a(327));if(Mu(),e===Ps&&0!==(e.expiredLanes&Ms)){var t=Ms,n=Tu(e,t);0!==(Us&zs)&&(n=Tu(e,t=Lt(e,t)))}else n=Tu(e,t=Lt(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tu(e,t))),1===n)throw n=Bs,Cu(e,0),yu(e,t),mu(e,Wo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),mu(e,Wo()),null}function wu(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Ks(),Yo())}}function _u(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Ks(),Yo())}}function xu(e,t){lo(Ls,js),js|=t,Us|=t}function Eu(){js=Ls.current,co(Ls)}function Cu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yo();break;case 3:Di(),co(po),co(ho),$i();break;case 5:ji(r);break;case 4:Di();break;case 13:case 19:co(Li);break;case 10:ri(r);break;case 23:case 24:Eu()}n=n.return}Ps=e,Ds=Gu(e.current,null),Ms=js=Us=t,Fs=0,Bs=null,Ws=zs=Vs=0}function ku(e,t){for(;;){var n=Ds;try{if(ni(),Xi.current=Ra,na){for(var r=Zi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}na=!1}if(Ji=0,ta=ea=Zi=null,ra=!1,Rs.current=null,null===n||null===n.return){Fs=1,Bs=t,Ds=null;break}e:{var i=e,a=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Li.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=li(-1,1);y.tag=2,fi(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Vu.bind(null,i,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),d=a;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,di(d,ds(0,i,t));break e;case 1:i=u;var _=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,di(d,hs(d,i,t));break e}}d=d.return}while(null!==d)}Ru(n)}catch(E){t=E,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Su(){var e=Ns.current;return Ns.current=Ra,null===e?Ra:e}function Tu(e,t){var n=As;As|=16;var r=Su();for(Ps===e&&Ms===t||Cu(e,t);;)try{Ou();break}catch(o){ku(e,o)}if(ni(),As=n,Ns.current=r,null!==Ds)throw Error(a(261));return Ps=null,Ms=0,Fs}function Ou(){for(;null!==Ds;)Nu(Ds)}function Iu(){for(;null!==Ds&&!Oo();)Nu(Ds)}function Nu(e){var t=Ys(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Au(e){var t=qo();return Go(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Mu()}while(null!==eu);if(0!==(48&As))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-Wt(i),l=1<<c;o[c]=0,s[c]=-1,u[c]=-1,i&=~l}if(null!==ou&&0===(24&r)&&ou.has(e)&&ou.delete(e),e===Ps&&(Ds=Ps=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=As,As|=32,Rs.current=null,Ur=Yt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==i&&3!==m.nodeType||(d=f+i),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===i&&(d=f),g===c&&++v===l&&(h=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(S){if(null===$s)throw Error(a(330));Uu($s,S),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ge($s.stateNode,""),128&b){var w=$s.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Ss($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ss($s.alternate,$s);break;case 4:Ss($s.alternate,$s);break;case 8:ks(s,u=$s);var x=u.alternate;ws(u),null!==x&&ws(x)}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));Uu($s,S),$s=$s.nextEffect}}while(null!==$s);if(_=Vr,w=vr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!_.extend&&x>s&&(u=s,s=x,x=u),u=hr(b,x),i=hr(b,s),u&&i&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==i.node||_.focusOffset!==i.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),x>s?(_.addRange(w),_.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Yt=!!Ur,Vr=Ur=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var E=$s.flags;if(36&E&&gs(b,$s.alternate,$s),128&E){w=void 0;var C=$s.ref;if(null!==C){var k=$s.stateNode;$s.tag,w=k,"function"===typeof C?C(w):C.current=w}}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));Uu($s,S),$s=$s.nextEffect}}while(null!==$s);$s=null,Fo(),As=o}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((E=$s).sibling=null,E.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?iu++:(iu=0,au=e):iu=0,n=n.stateNode,Co&&"function"===typeof Co.onCommitFiberRoot)try{Co.onCommitFiberRoot(Eo,n,void 0,64===(64&n.current.flags))}catch(S){}if(mu(e,Wo()),Xs)throw Xs=!1,e=Qs,Qs=null,e;return 0!==(8&As)||Yo(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?Ze($s,lu)&&(fu=!0):13===$s.tag&&Os(e,$s)&&Ze($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Ko(97,(function(){return Mu(),null}))),$s=$s.nextEffect}}function Mu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Go(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Ko(97,(function(){return Mu(),null})))}function Lu(e,t){ru.push(t,e),Zs||(Zs=!0,Ko(97,(function(){return Mu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(a(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===i)throw Error(a(330));Uu(i,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var u=o.create;o.destroy=u()}catch(c){if(null===i)throw Error(a(330));Uu(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Yo(),!0}function Bu(e,t,n){fi(e,t=ds(0,t=cs(n,t),1)),t=du(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Uu(e,t){if(3===e.tag)Bu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var o=hs(n,e=cs(t,e),1);if(fi(n,o),o=du(),null!==(n=vu(n,1)))zt(n,1,o),mu(n,o);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ms&n)===n&&(4===Fs||3===Fs&&(62914560&Ms)===Ms&&500>Wo()-Hs?Cu(e,0):Ws|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qo()?1:2:(0===uu&&(uu=Us),0===(t=Ut(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function Wu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new Wu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Yu(n.children,o,i,t);case j:s=8,o|=16;break;case k:s=8,o|=1;break;case S:return(e=qu(12,n,t,8|o)).elementType=S,e.type=S,e.lanes=i,e;case N:return(e=qu(13,n,t,o)).type=N,e.elementType=N,e.lanes=i,e;case R:return(e=qu(19,n,t,o)).elementType=R,e.lanes=i,e;case L:return $u(n,o,i,t);case F:return(e=qu(24,n,t,o)).elementType=F,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case O:s=9;break e;case I:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=qu(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Yu(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=qu(23,e,r,t)).elementType=L,e.lanes=n,e}function Xu(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Qu(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var o=t.current,i=du(),s=hu(o);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(go(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(go(c)){n=wo(n,c,u);break e}}n=u}else n=fo;return null===t.context?t.context=n:t.pendingContext=n,(t=li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fi(o,t),pu(o,s,i),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ui(t),e[Zr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=ec(a);s.call(e)}}Zu(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"===typeof o){var u=o;o=function(){var e=ec(a);u.call(e)}}_u((function(){Zu(t,a,e,o)}))}return ec(a)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||po.current)ja=!0;else{if(0===(n&r)){switch(ja=!1,t.tag){case 3:Ga(t),Ki();break;case 5:Mi(t);break;case 1:go(t.type)&&_o(t);break;case 4:Pi(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;lo(Jo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(lo(Li,1&Li.current),null!==(t=is(e,t,n))?t.sibling:null);lo(Li,1&Li.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return os(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),lo(Li,Li.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return is(e,t,n)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=mo(t,ho.current),ii(t,n),o=aa(null,t,r,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(r)){var i=!0;_o(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ui(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mi(t,r,s,e),o.updater=gi,t.stateNode=o,o._reactInternals=t,_i(t,r,e,n),t=Ha(null,t,r,!0,i,n)}else t.tag=0,La(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(o),e=Qo(o,e),i){case 0:t=Wa(null,t,o,e,n);break e;case 1:t=qa(null,t,o,e,n);break e;case 11:t=Fa(null,t,o,e,n);break e;case 14:t=Ba(null,t,o,Qo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Wa(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 1:return r=t.type,o=t.pendingProps,qa(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ci(e,t),hi(t,r,null,n),(r=t.memoizedState.element)===o)Ki(),t=is(e,t,n);else{if((i=(o=t.stateNode).hydrate)&&(Ui=Kr(t.stateNode.containerInfo.firstChild),Bi=t,i=Vi=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],Yi.push(i);for(n=Ti(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else La(e,t,r,n),Ki();t=t.child}return t;case 5:return Mi(t),null===e&&qi(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Wr(r,o)?s=null:null!==i&&Wr(r,i)&&(t.flags|=16),za(e,t),La(e,t,s,n),t.child;case 6:return null===e&&qi(t),null;case 13:return Ja(e,t,n);case 4:return Pi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Si(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Fa(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var u=t.type._context;if(lo(Jo,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=cr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===o.children&&!po.current){t=is(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=li(-1,n&-n)).tag=2,fi(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),oi(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}La(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ii(t,n),r=r(o=ai(o,i.unstable_observedBits)),t.flags|=1,La(e,t,r,n),t.child;case 14:return i=Qo(o=t.type,t.pendingProps),Ba(e,t,o,i=Qo(o.type,i),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,go(r)?(e=!0,_o(t)):e=!1,ii(t,n),bi(t,r,o),_i(t,r,o,n),Ha(null,t,r,!0,e,n);case 19:return os(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,du()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,du()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=oo(r);if(!o)throw Error(a(90));Q(r),ne(r,o)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ae=wu,Pe=function(e,t,n,r,o){var i=As;As|=4;try{return Go(98,e.bind(null,t,n,r,o))}finally{0===(As=i)&&(Ks(),Yo())}},De=function(){0===(49&As)&&(function(){if(null!==ou){var e=ou;ou=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Wo())}))}Yo()}(),Mu())},Me=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Ks(),Yo())}};var sc={Events:[no,ro,oo,Ne,Re,Mu,{current:!1}]},uc={findFiberByHostInstance:to,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Eo=lc.inject(cc),Co=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Go(99,e.bind(null,t))}finally{As=n,Yo()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ic(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ic(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ic(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";var r,o,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},o=function(e,t){f=setTimeout(e,t)},i=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,x=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+b;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(n){throw x.postMessage(null),n}}else m=!1},r=function(e){g=e,m||(m=!0,x.postMessage(null))},o=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){p(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<S(o,t)))break e;e[r]=t,e[n]=o,n=r}}function C(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],O=[],I=1,N=null,R=3,A=!1,P=!1,D=!1;function M(e){for(var t=C(O);null!==t;){if(null===t.callback)k(O);else{if(!(t.startTime<=e))break;k(O),t.sortIndex=t.expirationTime,E(T,t)}t=C(O)}}function j(e){if(D=!1,M(e),!P)if(null!==C(T))P=!0,r(L);else{var t=C(O);null!==t&&o(j,t.startTime-e)}}function L(e,n){P=!1,D&&(D=!1,i()),A=!0;var r=R;try{for(M(n),N=C(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,R=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===C(T)&&k(T),M(n)}else k(T);N=C(T)}if(null!==N)var u=!0;else{var c=C(O);null!==c&&o(j,c.startTime-n),u=!1}return u}finally{N=null,R=r,A=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return C(T)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(O,e),null===C(T)&&e===C(O)&&(D?i():D=!0,o(j,a-s))):(e.sortIndex=u,E(T,e),P||A||(P=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},,function(e,t,n){"use strict";(function(e){var t=n(13);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var o=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,t){if(t){var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];a in n||(n[a]={}),n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,a=new t((function(e,t){o=e,i=t}));return this.Ra(r(e,o),r(n,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=a(e),i=o.next();!i.done;i=o.next())r(i.value).Ra(t,n)}))},t.all=function(e){var n=a(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).Ra(i(a.length-1),t),o=n.next()}while(!o.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function d(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==h(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now;function k(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function T(e,t,n){this.code=N+e,this.message=t||R[e]||"",this.a=n||null}function O(e){var t=e&&e.code;return t?new T(t.substring(N.length),e.message,e.serverResponse):null}k(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var I,N="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function M(e){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",r=(e=e.split("%s")).length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");M.call(this,n+e[r])}function L(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function B(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}I=P("__EID__")?"__EID__":void 0,k(M,Error),M.prototype.name="CustomError",k(j,M),j.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new F((function(){return new W}),(function(e){e.reset()}));function z(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function W(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},W.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};var G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],o=0,i="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in i){var s=i[a];t.call(void 0,s,a,e)&&(r[o++]=s)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o="string"===typeof e?e.split(""):e,i=0;i<n;i++)i in o&&(r[i]=t.call(void 0,o[i],i,e));return r},Y=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e))return!0;return!1};function $(e,t){return 0<=q(e,t)}function X(e,t){var n;return(n=0<=(t=q(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,oe=/>/g,ie=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var fe=u.navigator;if(fe){var de=fe.userAgent;if(de){ee=de;break e}}ee=""}function he(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ve(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<ge.length;i++)n=ge[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var o=r;break e}}catch(a){}o=null}if(o&&"undefined"!=typeof o[t]&&(!e||!(e instanceof o[t])&&(e instanceof o.Location||e instanceof o.Element))){if(m(e))try{var i=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){i="<object could not be stringified>"}else i=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,i)}}function we(e,t){this.a=e===Ce&&t||"",this.b=Ee}function _e(e){return e instanceof we&&e.constructor===we&&e.b===Ee?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.ta=!0,we.prototype.sa=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var xe,Ee={},Ce={};function ke(){if(void 0===xe){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){u.console&&u.console.error(n.message)}xe=e}else xe=e}return xe}function Se(e,t){this.a=t===Re?e:""}function Te(e){return e instanceof Se&&e.constructor===Se?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Oe(e,t){var n=_e(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return e=t?t.createScriptURL(e):e,new Se(e,Re)}(e=n.replace(Ie,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?_e(e):encodeURIComponent(String(e))})))}Se.prototype.ta=!0,Se.prototype.sa=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ie=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Re={};function Ae(e,t){this.a=t===Be?e:""}function Pe(e){return e instanceof Ae&&e.constructor===Ae?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Me=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof Ae)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e))e=new Ae(e,Be);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Me);e=t&&De.test(t[1])?new Ae(e,Be):null}return e}function Fe(e){return e instanceof Ae?e:(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e)||(e="about:invalid#zClosurez"),new Ae(e,Be))}var Be={},Ue=new Ae("about:invalid#zClosurez",Be);function Ve(e,t,n){this.a=n===ze?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ze={};function We(e,t,n,r){return e=e instanceof Ae?e:Fe(e),t=t||u,n=n instanceof we?_e(n):n||"",t.open(Pe(e),n,r,void 0)}function qe(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function He(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=d;var Ke,Ye=he("Opera"),$e=he("Trident")||he("MSIE"),Xe=he("Edge"),Qe=Xe||$e,Je=he("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Ze=ce(ee.toLowerCase(),"webkit")&&!he("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Xe?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ye?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),$e){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ke=String(rt);break e}}Ke=tt}var ot,it={};function at(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Ke)).split("."),r=te(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&$e){var st=et();ot=st||(parseInt(Ke,10)||void 0)}else ot=void 0;var ut=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(da){}var ct=!$e||9<=Number(ut);function lt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ft(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var dt,ht,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vt(e,t,n){var r=arguments,o=document,i=String(r[0]),a=r[1];if(!ct&&a&&(a.name||a.type)){if(i=["<",i],a.name&&i.push(' name="',He(a.name),'"'),a.type){i.push(' type="',He(a.type),'"');var s={};ye(s,a),delete s.type,a=s}i.push(">"),i=i.join("")}return i=mt(o,i),a&&("string"===typeof a?i.className=a:Array.isArray(a)?i.className=a.join(" "):ft(i,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var i=n[o];if(!p(i)||m(i)&&0<i.nodeType)r(i);else{e:{if(i&&"number"==typeof i.length){if(m(i)){var a="function"==typeof i.item||"string"==typeof i.item;break e}if(v(i)){a="function"==typeof i.item;break e}}a=!1}H(a?Z(i):i,r)}}}(o,i,r),i}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){u.setTimeout((function(){throw e}),0)}function yt(e,t){ht||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);ht=function(){e.then(_t)}}else ht=function(){var e=_t;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!he("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(dt||(dt=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=x((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),dt(e)):u.setImmediate(e)}}(),bt||(ht(),bt=!0),wt.add(e,t)}var bt=!1,wt=new U;function _t(){for(var e;e=z();){try{e.a.call(e.b)}catch(t){gt(t)}B(V,e)}bt=!1}function xt(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=d)try{var n=this;e.call(t,(function(e){jt(n,Ct,e)}),(function(e){if(!(e instanceof Wt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}jt(n,kt,e)}))}catch(r){jt(this,kt,r)}}var Et=0,Ct=2,kt=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new F((function(){return new St}),(function(e){e.reset()}));function Ot(e,t,n){var r=Tt.get();return r.g=e,r.b=t,r.f=n,r}function It(e){if(e instanceof xt)return e;var t=new xt(d);return jt(t,Ct,e),t}function Nt(e){return new xt((function(t,n){n(e)}))}function Rt(e,t,n){Lt(e,t,n,null)||yt(E(t,e))}function At(e){return new xt((function(t){var n=e.length,r=[];if(n)for(var o=function(e,o,i){n--,r[e]=o?{Qb:!0,value:i}:{Qb:!1,reason:i},0==n&&t(r)},i=0;i<e.length;i++)Rt(e[i],E(o,i,!0),E(o,i,!1));else t(r)}))}function Pt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,o=null,i=null,a=n.b;a&&(a.c||(r++,a.a==e&&(o=a),!(o&&1<r)));a=a.next)o||(i=a);o&&(n.a==Et&&1==r?Pt(n,t):(i?((r=i).next==n.f&&(n.f=r),r.next=r.next.next):Bt(n),Ut(n,o,kt,t)))}e.c=null}else jt(e,kt,t)}function Dt(e,t){e.b||e.a!=Ct&&e.a!=kt||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var o=Ot(null,null,null);return o.a=new xt((function(e,i){o.g=t?function(n){try{var o=t.call(r,n);e(o)}catch(a){i(a)}}:e,o.b=n?function(t){try{var o=n.call(r,t);void 0===o&&t instanceof Wt?i(t):e(o)}catch(a){i(a)}}:i})),o.a.c=e,Dt(e,o),o.a}function jt(e,t,n){e.a==Et&&(e===n&&(t=kt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=kt||n instanceof Wt||function(e,t){e.g=!0,yt((function(){e.g&&zt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof xt)return Dt(e,Ot(t||d,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(m(e))try{var o=e.then;if(v(o))return function(e,t,n,r,o){function i(e){s||(s=!0,r.call(o,e))}function a(e){s||(s=!0,n.call(o,e))}var s=!1;try{t.call(e,a,i)}catch(u){i(u)}}(e,o,t,n,r),!0}catch(i){return n.call(r,i),!0}return!1}function Ft(e){e.h||(e.h=!0,yt(e.gc,e))}function Bt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==kt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(o){zt.call(null,o)}B(Tt,t)}function Vt(e,t,n){t==Ct?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}xt.prototype.then=function(e,t,n){return Mt(this,v(e)?e:null,v(t)?t:null,n)},xt.prototype.$goog_Thenable=!0,(n=xt.prototype).oa=function(e,t){return(e=Ot(e,e,t)).c=!0,Dt(this,e),this},n.o=function(e,t){return Mt(this,null,e,t)},n.cancel=function(e){if(this.a==Et){var t=new Wt(e);yt((function(){Pt(this,t)}),this)}},n.$c=function(e){this.a=Et,jt(this,Ct,e)},n.ad=function(e){this.a=Et,jt(this,kt,e)},n.gc=function(){for(var e;e=Bt(this);)Ut(this,e,this.a,this.i);this.h=!1};var zt=gt;function Wt(e){M.call(this,e)}function qt(){0!=Ht&&(Gt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}k(Wt,M),Wt.prototype.name="cancel";var Ht=0,Gt={};function Kt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Ht)){var t=g(e);if(0!=Ht&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}qt.prototype.ya=!1,qt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Yt=Object.freeze||function(e){return e},$t=!$e||9<=Number(ut),Xt=$e&&!at("9"),Qt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",d,t),u.removeEventListener("test",d,t)}catch(n){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{Ge(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Zt,Jt);var en=Yt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Zt.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=o,this.key=++nn,this.wa=this.Qa=!1}function on(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function an(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&X(e.a[n],t)&&(on(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.wa&&i.listener==t&&i.capture==!!n&&i.Wa==r)return o}return-1}an.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var a=un(e,t,r,o);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new rn(t,this.src,i,!!r,o)).Qa=n,e.push(t)),t};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function fn(e,t,n,r,o){if(r&&r.once)hn(e,t,n,r,o);else if(Array.isArray(t))for(var i=0;i<t.length;i++)fn(e,t[i],n,r,o);else n=xn(n),e&&e[tn]?Cn(e,t,n,m(r)?!!r.capture:!!r,o):dn(e,t,n,!1,r,o)}function dn(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=m(o)?!!o.capture:!!o,s=wn(e);if(s||(e[cn]=s=new an(e)),!(n=s.add(t,n,r,a,i)).proxy){if(r=function(){var e=bn,t=$t?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function hn(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)hn(e,t[i],n,r,o);else n=xn(n),e&&e[tn]?kn(e,t,n,m(r)?!!r.capture:!!r,o):dn(e,t,n,!0,r,o)}function pn(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)pn(e,t[i],n,r,o);else r=m(r)?!!r.capture:!!r,n=xn(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=un(i=e.a[t],n,r,o))&&(on(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.a[t],e.b--)))):e&&(e=wn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,o)),(n=-1<e?t[e]:null)&&vn(n))}function vn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tn])sn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wn(t))?(sn(n,e),0==n.b&&(n.src=null,t[cn]=null)):on(e)}}}function mn(e){return e in ln?ln[e]:ln[e]="on"+e}function gn(e,t,n,r){var o=!0;if((e=wn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==n&&!i.wa&&(i=yn(i,r),o=o&&!1!==i)}return o}function yn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&vn(e),n.call(r,t)}function bn(e,t){if(e.wa)return!0;if(!$t){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.b;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.b=r[o];var i=gn(r[o],e,!0,t);n=n&&i}for(o=0;o<r.length;o++)t.b=r[o],i=gn(r[o],e,!1,t),n=n&&i}return n}return yn(e,new Zt(t,this))}function wn(e){return(e=e[cn])instanceof an?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(e){return v(e)?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function En(){qt.call(this),this.v=new an(this),this.bc=this,this.hb=null}function Cn(e,t,n,r,o){e.v.add(String(t),n,!1,r,o)}function kn(e,t,n,r,o){e.v.add(String(t),n,!0,r,o)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&sn(e.v,a),o=!1!==s.call(u,r)&&o}}return o&&!r.defaultPrevented}function Tn(e,t,n){if(v(e))n&&(e=x(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=x(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function On(e){var t=null;return new xt((function(n,r){-1==(t=Tn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function In(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Rn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function An(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)Pn(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(En,qt),En.prototype[tn]=!0,En.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){pn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var o=e;ye(e=new Jt(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.b=t[i];o=Sn(a,r,!0,e)&&o}if(o=Sn(a=e.b=n,r,!0,e)&&o,o=Sn(a,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=Sn(a=e.b=t[i],r,!1,e)&&o;return o},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)on(n[r]);delete t.a[e],t.b--}}this.hb=null},(n=Rn.prototype).X=function(){An(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return An(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},n.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Mn?(this.i=void 0!==t?t:e.i,jn(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,Fn(this,rr(e.b)),this.h=e.h):e&&(n=String(e).match(Dn))?(this.i=!!t,jn(this,n[1]||"",!0),this.l=Wn(n[2]||""),this.a=Wn(n[3]||"",!0),Ln(this,n[4]),this.f=Wn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Wn(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function jn(e,t,n){e.c=n?Wn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Fn(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=qn(t,$n)),e.b=new Qn(t,e.i))}function Bn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Vn(e){return e instanceof Mn?new Mn(e):new Mn(e,void 0)}function zn(e,t,n,r){var o=new Mn(null,void 0);return e&&jn(o,e),t&&(o.a=t),n&&Ln(o,n),r&&(o.f=r),o}function Wn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(qn(t,Gn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(qn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(qn(n,"/"==n.charAt(0)?Yn:Kn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",qn(n,Xn)),e.join("")},Mn.prototype.resolve=function(e){var t=new Mn(this),n=!!e.c;n?jn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var o=t.f.lastIndexOf("/");-1!=o&&(r=t.f.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(ce(o,"./")||ce(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?t.f=r:n=""!==e.b.toString(),n?Fn(t,rr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Gn=/[#\/\?@]/g,Kn=/[#\?:]/g,Yn=/[#\?]/g,$n=/[#\?@]/g,Xn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new Rn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=Nn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=In(e);for(var r=0;r<t.length;r++){var o=t[r],i=e[r];Array.isArray(i)?nr(n,o,i):n.add(o,i)}return n}function er(e,t){Jn(e),t=or(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&An(e)))}function tr(e,t){return Jn(e),t=or(e,t),Pn(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),Z(n)),e.b+=n.length)}function rr(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new Rn(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return sr(new ar,e,t),t.join("")}function ar(){}function sr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var o="",i=0;i<t;i++)n.push(o),sr(e,r[i],n),o=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),o="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(i=t[r])&&(n.push(o),lr(r,n),n.push(":"),sr(e,i,n),o=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":lr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(n=Qn.prototype).add=function(e,t){Jn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){H(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.Y=function(){Jn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},n.X=function(e){Jn(this);var t=[];if("string"===typeof e)tr(this,e)&&(t=J(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},n.set=function(e,t){return Jn(this),this.c=null,tr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.X(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),e.push(a)}}return this.c=e.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(e,t){t.push('"',e.replace(cr,(function(e){var t=ur[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ur[e]=t),t})),'"')}function fr(){var e=Rr();return $e&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function dr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||u.window;var n="about:blank";e&&(n=Pe(Le(e)||Ue)),t.location.href=n}function pr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<pr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function vr(e){return!!((e=(e||Rr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||u.window;try{e.close()}catch(t){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Rr().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),Or(Rr())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ae?n:Le("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,o=[],e)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(a+"="+(e[a]?1:0))}var a=o.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ae?t:Fe(t),a.href=Pe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=We("",r,n,a),e=Pe(t),a&&(Qe&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new Ve(e=(r=ke())?r.createHTML(e):e,null,ze),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=We(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var e=null;return new xt((function(t){"complete"==u.document.readyState?t():(e=function(){t()},hn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function _r(e){return e=e||Rr(),!("file:"!==jr()&&"ionic:"!==jr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Er(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Cr(){return t.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.default.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function kr(){var e=Cr();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Tr="Chrome";function Or(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Sr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Tr:"Safari"}var Ir={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],o={};for(n in Ir)o[Ir[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof o[t[n]]&&(delete o[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Or(o=Rr()):"Worker"===r&&(r=Or(o=Rr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Rr(){return u.navigator&&u.navigator.userAgent||""}function Ar(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Pr(){try{var e=u.localStorage,t=Vr();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!u.indexedDB}catch(n){return Er()&&!!u.indexedDB}return!1}function Dr(){return(Mr()||"chrome-extension:"===jr()||_r())&&!kr()&&Pr()&&!Er()}function Mr(){return"http:"===jr()||"https:"===jr()}function jr(){return u.location&&u.location.protocol||null}function Lr(e){return!vr(e=e||Rr())&&Or(e)!=Sr}function Fr(e){return"undefined"===typeof e?null:ir(e)}function Br(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function Vr(e){return e||Math.floor(1e9*Math.random()).toString()}function zr(e){return"Safari"!=Or(e=e||Rr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Wr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Rr(),t=Cr(),this.b=vr(e)||"ReactNative"===t}function Hr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Gr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Kr(){return!(!Ar("fireauth.oauthhelper",u)&&!Ar("fireauth.iframe",u))}qr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Mr()&&"chrome-extension:"!==jr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,$r={};function Xr(e){$r[e]||($r[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Qr.abcd}catch(da){Yr=!1}function Jr(e,t,n){Yr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function eo(e){var t={};return Zr(t,e),t}function to(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,to(e[n]));return t}function no(e){var t=e&&(e[so]?"phone":null);if(!(t&&e&&e[ao]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[ao]),Jr(this,"displayName",e[oo]||null);var n=null;e[io]&&(n=new Date(e[io]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ro(e){try{var t=new uo(e)}catch(n){t=null}return t}no.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var oo="displayName",io="enrolledAt",ao="mfaEnrollmentId",so="phoneInfo";function uo(e){no.call(this,e),Jr(this,"phoneNumber",e[so])}function co(e){var t={},n=e[po],r=e[mo],o=e[go];if(e=ro(e[vo]),!o||o!=fo&&o!=ho&&!n||o==ho&&!r||o==lo&&!e)throw Error("Invalid checkActionCode response!");o==ho?(t[bo]=n||null,t[_o]=n||null,t[yo]=r):(t[bo]=r||null,t[_o]=r||null,t[yo]=n||null),t[wo]=e||null,Jr(this,Eo,o),Jr(this,xo,to(t))}k(uo,no),uo.prototype.w=function(){var e=uo.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var lo="REVERT_SECOND_FACTOR_ADDITION",fo="EMAIL_SIGNIN",ho="VERIFY_AND_CHANGE_EMAIL",po="email",vo="mfaInfo",mo="newEmail",go="requestType",yo="email",bo="fromEmail",wo="multiFactorInfo",_o="previousEmail",xo="data",Eo="operation";function Co(e){var t=Un(e=Vn(e),ko)||null,n=Un(e,So)||null,r=Un(e,Io)||null;if(r=r&&Ro[r]||null,!t||!n||!r)throw new T("argument-error",ko+", "+So+"and "+Io+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,To)||null,languageCode:Un(e,Oo)||null,tenantId:Un(e,No)||null})}var ko="apiKey",So="oobCode",To="continueUrl",Oo="languageCode",Io="mode",No="tenantId",Ro={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:lo,signIn:fo,verifyAndChangeEmail:ho,verifyEmail:"VERIFY_EMAIL"};function Ao(e){try{return new Co(e)}catch(t){return null}}function Po(e){var t=e[Fo];if("undefined"===typeof t)throw new T("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Do];if(n&&"object"===typeof n){t=n[Vo];var r=n[Bo];if(n=n[Uo],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Bo+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Uo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new T("argument-error",Vo+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Do+" property must be a non null object when specified.");if(this.f=null,(t=e[Lo])&&"object"===typeof t){if("string"===typeof(t=t[zo])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new T("argument-error",zo+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new T("argument-error",Lo+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[jo])&&"boolean"!==typeof t)throw new T("argument-error",jo+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Mo])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new T("argument-error",Mo+" property must be a non empty string when specified.");this.i=e||null}var Do="android",Mo="dynamicLinkDomain",jo="handleCodeInApp",Lo="iOS",Fo="url",Bo="installApp",Uo="minimumVersion",Vo="packageName",zo="bundleId";function Wo(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var qo=null;function Ho(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=qo[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!qo){qo={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),o=0;o<r.length;o++){var i=r[o];void 0===qo[i]&&(qo[i]=o)}}}();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Go(e){var t=Yo(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ko(e){try{return new Go(e)}catch(t){return null}}function Yo(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ho(e);for(e=[],n=t=0;t<r.length;){var o=r[t++];if(128>o)e[n++]=String.fromCharCode(o);else if(191<o&&224>o){var i=r[t++];e[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=r[t++];var a=r[t++],s=((7&o)<<18|(63&i)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else i=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}Go.prototype.T=function(){return this.f},Go.prototype.l=function(){return this.c},Go.prototype.toString=function(){return this.h};var $o="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xo=["client_id","response_type","scope","redirect_uri","state"],Qo={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Xo},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Xo},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Xo},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:$o},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Jo(e){for(var t in Qo)if(Qo[t].fa==e)return Qo[t];return null}function Zo(e){var t={};t["facebook.com"]=oi,t["google.com"]=ai,t["github.com"]=ii,t["twitter.com"]=si;var n=e&&e[ti];try{if(n)return t[n]?new t[n](e):new ri(e);if("undefined"!==typeof e[ei])return new ni(e)}catch(r){}return null}var ei="idToken",ti="providerId";function ni(e){var t=e[ti];if(!t&&e[ei]){var n=Ko(e[ei]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function ri(e){ni.call(this,e),Jr(this,"profile",to((e=Ur(e.rawUserInfo||"{}"))||{}))}function oi(e){if(ri.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ii(e){if(ri.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function ai(e){if(ri.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function si(e){if(ri.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function ui(e){var t=Vn(e),n=Un(t,"link"),r=Un(Vn(n),"link");return t=Un(t,"deep_link_id"),Un(Vn(t),"link")||t||r||n||e}function ci(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?li:fi}k(ri,ni),k(oi,ri),k(ii,ri),k(ai,ri),k(si,ri);var li="enroll",fi="signin";function di(){}function hi(e,t){return e.then((function(e){if(e[ns]){var n=Ko(e[ns]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new T("user-mismatch"):e}))}function pi(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function vi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function mi(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new pi(e.providerId,e.pendingToken)}catch(t){}return null}function gi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function yi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function bi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new gi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function wi(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Jo(e)||{}).Ja||null,this.pb=null}function _i(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');wi.call(this,e,[])}function xi(e){wi.call(this,e,Xo),this.a=[]}function Ei(){xi.call(this,"facebook.com")}function Ci(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Ei).credential({accessToken:t})}function ki(){xi.call(this,"github.com")}function Si(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new ki).credential({accessToken:t})}function Ti(){xi.call(this,"google.com"),this.Ca("profile")}function Oi(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new Ti).credential({idToken:n,accessToken:t})}function Ii(){wi.call(this,"twitter.com",$o)}function Ni(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new gi("twitter.com",n,"twitter.com")}function Ri(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Pi.EMAIL_LINK_SIGN_IN_METHOD?Pi.EMAIL_LINK_SIGN_IN_METHOD:Pi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ai(e){return e&&e.email&&e.password?new Ri(e.email,e.password,e.signInMethod):null}function Pi(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Di(e,t){if(!(t=Mi(t)))throw new T("argument-error","Invalid email link!");return new Ri(e,t.code,Pi.EMAIL_LINK_SIGN_IN_METHOD)}function Mi(e){return(e=Ao(e=ui(e)))&&e.operation===fo?e:null}function ji(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Li(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new ji(t)}return null}function Fi(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Bi(e){try{this.a=e||t.default.auth()}catch(n){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Ui(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new ji({fb:e,eb:t})}function Vi(e){if(e.temporaryProof&&e.phoneNumber)return new ji({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,o=e&&e.nonce,i=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Oi(i,n);case"facebook.com":return Ci(n);case"github.com":return Si(n);case"twitter.com":return Ni(n,r);default:return n||r||i||a?a?0==t.indexOf("saml.")?new pi(t,a):new gi(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new xi(t).credential({idToken:i,accessToken:n,rawNonce:o}):null}}catch(s){return null}}function zi(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Wi(e,t,n,r,o,i,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=i||null,this.h=a||null,this.a=o||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function qi(e){return(e=e||{}).type?new Wi(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&O(e.error),e.postBody,e.tenantId):null}function Hi(){this.b=null,this.a=[]}ci.prototype.Ha=function(){return this.a?It(this.a):It(this.b)},ci.prototype.w=function(){return this.type==li?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},di.prototype.ka=function(){},di.prototype.b=function(){},di.prototype.c=function(){},di.prototype.w=function(){},pi.prototype.ka=function(e){return Cs(e,vi(this))},pi.prototype.b=function(e,t){var n=vi(this);return n.idToken=t,ks(e,n)},pi.prototype.c=function(e,t){return hi(Ss(e,vi(this)),t)},pi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},gi.prototype.ka=function(e){return Cs(e,yi(this))},gi.prototype.b=function(e,t){var n=yi(this);return n.idToken=t,ks(e,n)},gi.prototype.c=function(e,t){return hi(Ss(e,yi(this)),t)},gi.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},wi.prototype.Ka=function(e){return this.Jb=me(e),this},k(_i,wi),k(xi,wi),xi.prototype.Ca=function(e){return $(this.a,e)||this.a.push(e),this},xi.prototype.Rb=function(){return Z(this.a)},xi.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new gi(this.providerId,n,this.providerId)},k(Ei,xi),Jr(Ei,"PROVIDER_ID","facebook.com"),Jr(Ei,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(ki,xi),Jr(ki,"PROVIDER_ID","github.com"),Jr(ki,"GITHUB_SIGN_IN_METHOD","github.com"),k(Ti,xi),Jr(Ti,"PROVIDER_ID","google.com"),Jr(Ti,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Ii,wi),Jr(Ii,"PROVIDER_ID","twitter.com"),Jr(Ii,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ri.prototype.ka=function(e){return this.signInMethod==Pi.EMAIL_LINK_SIGN_IN_METHOD?su(e,Ds,{email:this.a,oobCode:this.f}):su(e,nu,{email:this.a,password:this.f})},Ri.prototype.b=function(e,t){return this.signInMethod==Pi.EMAIL_LINK_SIGN_IN_METHOD?su(e,Ms,{idToken:t,email:this.a,oobCode:this.f}):su(e,Ys,{idToken:t,email:this.a,password:this.f})},Ri.prototype.c=function(e,t){return hi(this.ka(e),t)},Ri.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Pi,{PROVIDER_ID:"password"}),Zr(Pi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Pi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ji.prototype.ka=function(e){return e.gb(Fi(this))},ji.prototype.b=function(e,t){var n=Fi(this);return n.idToken=t,su(e,ou,n)},ji.prototype.c=function(e,t){var n=Fi(this);return n.operation="REAUTH",hi(e=su(e,iu,n),t)},ji.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Bi.prototype.gb=function(e,t){var n=this.a.a;return It(t.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var o,i=m(e)?e.session:null,a=m(e)?e.phoneNumber:e;return o=i&&i.type==li?i.Ha().then((function(e){return function(e,t){return su(e,Xs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):i&&i.type==fi?i.Ha().then((function(t){return function(e,t){return su(e,Qs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return su(e,Gs,t)}(n,{phoneNumber:a,recaptchaToken:r}),o.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Zr(Bi,{PROVIDER_ID:"phone"}),Zr(Bi,{PHONE_SIGN_IN_METHOD:"phone"}),Wi.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Wi.prototype.T=function(){return this.h},Wi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Gi,Ki=null;function Yi(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=qe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=qe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function $i(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&Jr(this,"email",e.Kb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.$b&&Jr(this,"tenantId",e.$b)}function Xi(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Vi(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new $i(t,n,e.message)}return null}function Qi(){}function Ji(e){return e.c||(e.c=e.b())}function Zi(){}function ea(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ta(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Tb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}function ra(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function oa(e,t,n){this.reset(e,t,n,void 0,void 0)}k(Yi,T),k($i,T),$i.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},$i.prototype.toJSON=function(){return this.w()},Qi.prototype.c=null,k(Zi,Qi),Zi.prototype.a=function(){var e=ea(this);return e?new ActiveXObject(e):new XMLHttpRequest},Zi.prototype.b=function(){var e={};return ea(this)&&(e[0]=!0,e[1]=!0),e},Gi=new Zi,k(ta,Qi),ta.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(n=na.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,ra(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},oa.prototype.a=null;function ia(e){this.f=e,this.b=this.c=this.a=null}function aa(e,t){this.name=e,this.value=t}oa.prototype.reset=function(e,t,n,r,o){"number"==typeof o||0,r||C(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),ca=new aa("CONFIG",700),la=new aa("FINE",500);function fa(e){return e.c?e.c:e.a?fa(e.a):(L("Root logger has no level set."),null)}ia.prototype.log=function(e,t,n){if(e.value>=fa(this).value)for(v(t)&&(t=t()),e=new oa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var da,ha={},pa=null;function va(e){var t;if(pa||(pa=new ia(""),ha[""]=pa,pa.c=ca),!(t=ha[e])){t=new ia(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=va(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ha[e]=t}return t}function ma(e,t){e&&e.log(la,t,void 0)}function ga(e){this.f=e}function ya(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(ga,Qi),ga.prototype.a=function(){return new ya(this.f)},ga.prototype.b=(da={},function(){return da}),k(ya,En);var ba=0;function wa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function _a(e){e.readyState=4,e.g=null,e.c=null,e.m=null,xa(e)}function xa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ea(e){En.call(this),this.headers=new Rn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ca,this.u=this.S=!1}(n=ya.prototype).open=function(e,t){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,xa(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ba},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,xa(this)),this.a&&(this.readyState=3,xa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,wa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?_a(this):xa(this),3==this.readyState&&wa(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,_a(this))},n.sc=function(e){this.a&&(this.response=e,_a(this))},n.Va=function(e){var t=this.i;t&&t.log(ua,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&_a(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),k(Ea,En);var Ca="";Ea.prototype.b=va("goog.net.XhrIo");var ka=/^https?$/i,Sa=["POST","PUT"];function Ta(e,t,n,r,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Gi.a(),e.C=e.D?Ji(e.D):Ji(Gi),e.a.onreadystatechange=x(e.Wb,e);try{ma(e.b,ja(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ma(e.b,ja(e,"Error opening Xhr: "+a.message)),void Ia(e,a)}t=r||"";var i=new Rn(e.headers);o&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)H(e,t,void 0);else for(var n=Nn(e),r=In(e),o=r.length,i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}(o,(function(e,t){i.set(t,e)})),o=function(e){e:{for(var t=Oa,n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.Y()),r=u.FormData&&t instanceof u.FormData,!$(Sa,n)||o||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Pa(e),0<e.g&&(e.u=function(e){return $e&&at(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ma(e.b,ja(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=x(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),ma(e.b,ja(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ma(e.b,ja(e,"Send error: "+a.message)),Ia(e,a)}}function Oa(e){return"content-type"==e.toLowerCase()}function Ia(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Na(e),Aa(e)}function Na(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof s)if(e.C[1]&&4==Da(e)&&2==Ma(e))ma(e.b,ja(e,"Local request error detected and ignored"));else if(e.i&&4==Da(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Da(e)){ma(e.b,ja(e,"Request complete")),e.c=!1;try{var t,n=Ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.l).match(Dn)[1]||null;if(!i&&u.self&&u.self.location){var a=u.self.location.protocol;i=a.substr(0,a.length-1)}o=!ka.test(i?i.toLowerCase():"")}t=o}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Da(e)?e.a.statusText:""}catch(l){ma(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Ma(e)+"]",Na(e)}}finally{Aa(e)}}}function Aa(e,t){if(e.a){Pa(e);var n=e.a,r=e.C[0]?d:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){(e=e.b)&&e.log(sa,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function Pa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Da(e){return e.a?e.a.readyState:0}function Ma(e){try{return 2<Da(e)?e.a.status:-1}catch(t){return-1}}function ja(e,t){return t+" ["+e.P+" "+e.l+" "+Ma(e)+"]"}function La(e){var t=Ya;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Fa(e,t,n){e.a=!0,e.c=n,e.f=!t,za(e)}function Ba(e){if(e.a){if(!e.v)throw new Wa(e);e.v=!1}}function Ua(e,t,n,r){e.g.push([t,n,r]),e.a&&za(e)}function Va(e){return Y(e.g,(function(e){return v(e[1])}))}function za(e){if(e.h&&e.a&&Va(e)){var t=e.h,n=Ga[t];n&&(u.clearTimeout(n.a),delete Ga[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var o=e.g.shift(),i=o[0],a=o[1];if(o=o[2],i=e.f?a:i)try{var s=i.call(o||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(D(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Va(e)||(n=!0)}}e.c=t,r&&(s=x(e.m,e,!0),r=x(e.m,e,!1),t instanceof La?(Ua(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Ha(t),Ga[t.a]=t,e.h=t.a)}function Wa(){M.call(this)}function qa(){M.call(this)}function Ha(e){this.a=u.setTimeout(x(this.c,this),0),this.b=e}(n=Ea.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ma(this.b,ja(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ma(this.b,ja(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Aa(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Aa(this,!0)),Ea.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?Ra(this):this.Jc())},n.Jc=function(){Ra(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ca:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ma(this.b,"Can not get response: "+t.message),null}},La.prototype.cancel=function(e){if(this.a)this.c instanceof La&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new qa(this),Ba(this),Fa(this,!1,e))}},La.prototype.m=function(e,t){this.i=!1,Fa(this,e,t)},La.prototype.then=function(e,t,n){var r,o,i=new xt((function(e,t){r=e,o=t}));return Ua(this,r,(function(e){e instanceof qa?i.cancel():o(e)})),i.then(e,t,n)},La.prototype.$goog_Thenable=!0,k(Wa,M),Wa.prototype.message="Deferred has already fired",Wa.prototype.name="AlreadyCalledError",k(qa,M),qa.prototype.message="Deferred was canceled",qa.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete Ga[this.a],this.b};var Ga={};function Ka(e){var t={},n=t.document||document,r=Te(e).toString(),o=mt(document,"SCRIPT"),i={Xb:o,Ma:void 0},a=new La(i),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){$a(o,!0);var e=new Ja(Qa,"Timeout reached for loading script "+r);Ba(a),Fa(a,!1,e)}),c),i.Ma=s),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||($a(o,t.xd||!1,s),Ba(a),Fa(a,!0,null))},o.onerror=function(){$a(o,!0,s);var e=new Ja(Xa,"Error while loading script "+r);Ba(a),Fa(a,!1,e)},ye(i=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ft(o,i),function(e,t){be(e,"HTMLScriptElement"),e.src=Te(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=f(t.document):(null===l&&(l=f(u.document)),t=l),t&&e.setAttribute("nonce",t)}(o,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(o),a}function Ya(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&$a(e,!0,this.Ma)}}function $a(e,t,n){null!=n&&u.clearTimeout(n),e.onload=d,e.onerror=d,e.onreadystatechange=d,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Xa=0,Qa=1;function Ja(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),M.call(this,n),this.code=e}function Za(e){this.f=e}function es(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||rs,this.g=me(e.secureTokenHeaders||os),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||is,this.a=me(e.firebaseHeaders||as),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Cr(),!(r=u.XMLHttpRequest||r&&t.default.INTERNAL.node&&t.default.INTERNAL.node.XMLHttpRequest)&&!Er())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new ga(self):kr()?this.f=new Za(r):this.f=new ta,this.b=null}k(Ja,M),k(Za,Qi),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var ts,ns="idToken",rs=new qr(3e4,6e4),os={"Content-Type":"application/x-www-form-urlencoded"},is=new qr(3e4,6e4),as={"Content-Type":"application/json"};function ss(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function us(e,t){t&&(e.l=cs("https://securetoken.googleapis.com/v1/token",t),e.h=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=cs("https://identitytoolkit.googleapis.com/v2/",t))}function cs(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,jn(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function ls(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function fs(e,t,n,r,o,i,a){(function(){var e=Rr();return!((e=Or(e)!=Tr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!$e||!ut||9<ut)})()||Er()?e=x(e.u,e):(ts||(ts=new xt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[hs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ua(e,null,t,void 0)}(Ka(Oe(ds,{onload:hs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=x(e.s,e)),e(t,n,r,o,i,a)}es.prototype.T=function(){return this.b},es.prototype.u=function(e,t,n,r,o,i){if(Er()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ea(this.f);if(i){a.g=Math.max(0,i);var s=setTimeout((function(){a.dispatchEvent("timeout")}),i)}Cn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ma(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),kn(a,"ready",(function(){s&&clearTimeout(s),Kt(this)})),kn(a,"timeout",(function(){s&&clearTimeout(s),Kt(this),t&&t(null)})),Ta(a,e,n,r,o)};var ds=new we(Ce,"https://apis.google.com/js/client.js?onload=%{onload}"),hs="__fcb"+Math.floor(1e6*Math.random()).toString();function ps(e,t,n,r,o,i,a){var s=Vn(t+n);Bn(s,"key",e.c),a&&Bn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in o)o.hasOwnProperty(c)&&Bn(s,c,o[c]);return new xt((function(t,n){fs(e,s.toString(),(function(e){e?e.error?n(cu(e,i||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:ir(Br(o)),e.a,e.v.get())}))}function vs(e){if("string"!==typeof(e=e.email)||!br.test(e))throw new T("invalid-email")}function ms(e){"email"in e&&vs(e)}function gs(e){if(!e[ns]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,me(e));throw new T("internal-error")}}function ys(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}es.prototype.s=function(e,t,n,r,o){var i=this;ts.then((function(){window.gapi.client.setApiKey(i.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},es.prototype.Ab=function(){return su(this,$s,{})},es.prototype.Cb=function(e,t){return su(this,Ks,{idToken:e,email:t})},es.prototype.Db=function(e,t){return su(this,Ys,{idToken:e,password:t})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function _s(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function xs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(tr(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Es(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xi(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xi(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xi(e)):e.errorMessage&&(t=uu(e.errorMessage)),t)throw t;gs(e)}function Cs(e,t){return t.returnIdpCredential=!0,su(e,Js,t)}function ks(e,t){return t.returnIdpCredential=!0,su(e,eu,t)}function Ss(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,su(e,Zs,t)}function Ts(e){if(!e.oobCode)throw new T("invalid-action-code")}(n=es.prototype).Eb=function(e,t){var n={idToken:e},r=[];return pe(bs,(function(e,o){var i=t[o];null===i?r.push(e):o in t&&(n[o]=i)})),r.length&&(n.deleteAttribute=r),su(this,Ks,n)},n.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),su(this,zs,e)},n.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),su(this,Bs,e)},n.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),su(this,Us,e)},n.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),su(this,Vs,e)},n.gb=function(e){return su(this,ru,e)},n.ob=function(e,t){return su(this,Hs,{oobCode:e,newPassword:t})},n.Sa=function(e){return su(this,Is,{oobCode:e})},n.kb=function(e){return su(this,Os,{oobCode:e})};var Os={endpoint:"setAccountInfo",A:Ts,Z:"email",B:!0},Is={endpoint:"resetPassword",A:Ts,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},Ns={endpoint:"signupNewUser",A:function(e){if(vs(e),!e.password)throw new T("weak-password")},G:gs,V:!0,B:!0},Rs={endpoint:"createAuthUri",B:!0},As={endpoint:"deleteAccount",O:["idToken"]},Ps={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},Ds={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vs,G:gs,V:!0,B:!0},Ms={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vs,G:gs,V:!0},js={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Ls={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Fs={endpoint:"getAccountInfo"},Bs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");vs(e)},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");vs(e)},Z:"email",B:!0},Ws={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},qs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},Hs={endpoint:"resetPassword",A:Ts,Z:"email",B:!0},Gs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ks={endpoint:"setAccountInfo",O:["idToken"],A:ms,V:!0},Ys={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ms(e),!e.password)throw new T("weak-password")},G:gs,V:!0},$s={endpoint:"signupNewUser",G:gs,V:!0,B:!0},Xs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Qs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:_s,Za:xs,G:Es,V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:_s,Za:xs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw uu(e.errorMessage);gs(e)},V:!0,B:!0},eu={endpoint:"verifyAssertion",A:function(e){if(_s(e),!e.idToken)throw new T("internal-error")},Za:xs,G:Es,V:!0},tu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:gs,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(e){if(vs(e),!e.password)throw new T("wrong-password")},G:gs,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ys,G:gs,B:!0},ou={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");ys(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xi(e);gs(e)}},iu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ys,G:gs,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[ns]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function su(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Nt(new T("internal-error"));var r,o=!!t.Na,i=t.Vb||"POST";return It(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ps(e,o?e.i:e.h,t.endpoint,i,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function uu(e){return cu({error:{errors:[{message:e}],code:400,message:e}})}function cu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var o in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(o))return new T(r[o],t);return!t&&e&&(t=Fr(e)),new T("internal-error",t)}function lu(e){this.b=e,this.a=null,this.sb=function(e){return(pu||(pu=new xt((function(e,t){function n(){Wr(),Ar("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Wr(),t(Error("Network Error"))},timeout:du.get()})}if(Ar("gapi.iframes.Iframe"))e();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Ar("gapi.load")?n():t(Error("Network Error"))},It(Ka(r=Oe(fu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw pu=null,e})))).then((function(){return new xt((function(t,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function o(){clearTimeout(i),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var i=setTimeout((function(){n(Error("Network Error"))}),hu.get());r.ping(o).then(o,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var fu=new we(Ce,"https://apis.google.com/js/api.js?onload=%{onload}"),du=new qr(3e4,6e4),hu=new qr(5e3,15e3),pu=null;function vu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=zn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=zn("https",this.l,null,"/__/auth/iframe"),this.a=e,Bn(this.a,"apiKey",this.h),Bn(this.a,"appName",this.i),this.b=null,this.c=[]}function mu(e,t,n,r,o,i){this.u=e,this.s=t,this.c=n,this.m=r,this.v=i,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function gu(e){try{return t.default.app(e).auth().Ga()}catch(n){return[]}}function yu(e,t,n,r,o,i){this.s=e,this.g=t,this.b=n,this.f=i,this.c=r||null,this.i=o||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(e){var t=dr();return function(e){return su(e,Ws,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var o=0;o<e.length;o++){var i=e[o],a=n,s=r;if(0==i.indexOf("chrome-extension://")?a=Vn(i).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(i)?a=a==i:(i=i.split(".").join("\\."),a=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Yi(dr())}))}function wu(e){return e.m||(e.m=wr().then((function(){if(!e.u){var t=e.c,n=e.i,r=gu(e.b),o=new vu(e.s,e.g,e.b,e.f);o.f=t,o.b=n,o.c=Z(r||[]),e.u=o.toString()}e.v=new lu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=qi(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)}))}(e)}))),e.m}function _u(e){return e.l||(e.C=e.c?Nr(e.c,gu(e.b)):null,e.l=new es(e.g,P(e.i),e.C),e.f&&us(e.l,e.f)),e.l}function xu(e,t,n,r,o,i,a,s,u,c,l,f){return(e=new mu(e,t,n,r,o,f)).l=i,e.g=a,e.i=s,e.b=me(u||null),e.f=c,e.zb(l).toString()}function Eu(e){if(this.a=e||t.default.INTERNAL.reactNative&&t.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Cu(e){this.b=e,this.a={},this.f=x(this.c,this)}vu.prototype.toString=function(){return this.f?Bn(this.a,"v",this.f):er(this.a.b,"v"),this.b?Bn(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?Bn(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},mu.prototype.zb=function(e){return this.h=e,this},mu.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=zn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=zn("https",this.u,null,"/__/auth/handler");if(Bn(e,"apiKey",this.s),Bn(e,"appName",this.c),Bn(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.default.app(this.c).auth().la()}catch(u){r=null}for(var o in n.pb=r,Bn(e,"providerId",this.a.providerId),n=Br((r=this.a).Jb))n[o]=n[o].toString();o=r.Qc,n=me(n);for(var i=0;i<o.length;i++){var a=o[i];a in n&&delete n[a]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),ve(n)||Bn(e,"customParameters",Fr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&Bn(e,"scopes",r.join(","))),this.l?Bn(e,"redirectUrl",this.l):er(e.b,"redirectUrl"),this.g?Bn(e,"eventId",this.g):er(e.b,"eventId"),this.i?Bn(e,"v",this.i):er(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&Bn(e,s,this.b[s]);return this.h?Bn(e,"tid",this.h):er(e.b,"tid"),this.f?Bn(e,"eid",this.f):er(e.b,"eid"),(s=gu(this.c)).length&&Bn(e,"fw",s.join(",")),e.toString()},(n=yu.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),o=new T("web-storage-unsupported"),i=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return wu(e).then((function(){return function(e,t){return e.sb.then((function(){return new xt((function(n){e.a.send(t.type,t,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(i).then((function(n){n||(e&&mr(e),t(o),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new xt((function(t){return function n(){On(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return On(n).then((function(){t(r)}))}))},n.Yb=function(){var e=Rr();return!Lr(e)&&!zr(e)},n.Ub=function(){return!1},n.Nb=function(e,t,n,r,o,i,a,s){if(!e)return Nt(new T("popup-blocked"));if(a&&!Lr())return this.ma().o((function(t){mr(e),o(t)})),r(),It();this.a||(this.a=bu(_u(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),o(t),t}));return r(),t})).then((function(){(zi(n),a)||hr(xu(u.s,u.g,u.b,t,n,null,i,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},n.Ob=function(e,t,n,r){this.a||(this.a=bu(_u(this)));var o=this;return this.a.then((function(){zi(t),hr(xu(o.s,o.g,o.b,e,t,dr(),n,o.c,void 0,o.i,r,o.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(o.a=null),e}))},n.ma=function(){var e=this;return wu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Ta=function(e){Q(this.h,(function(t){return t==e}))},(n=Eu.prototype).get=function(e){return It(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},n.set=function(e,t){return It(this.a.setItem(e,Fr(t)))},n.U=function(e){return It(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var ku,Su=[];function Tu(e,t,n){ve(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ou(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function Nu(e,t,n,r){var o,i,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new xt((function(n,r){f?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:f,onMessage:i=function(e){e.data.eventId===o&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",i),e.c.postMessage({eventType:t,eventId:o,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ru(e,c),t})).o((function(t){throw Ru(e,c),t}))}function Ru(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function Au(){if(!ju())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(H(Su,(function(n){n.b==e&&(t=n)})),!t){var t=new Cu(e);Su.push(t)}return t}(),Tu(this.v,"keyChanged",(function(t,n){return Vu(e).then((function(t){return 0<t.length&&H(e.a,(function(e){e(t)})),{keyProcessed:$(t,n.key)}}))})),Tu(this.v,"ping",(function(){return It(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?It().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):It(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Ou(t)),Nu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Pu(e){return new xt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new xt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Pu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Du(e){return e.i||(e.i=Pu(e)),e.i}function Mu(e,t){var n=0;return new xt((function r(o,i){Du(e).then(t).then(o).o((function(t){if(!(3<++n))return Du(e).then((function(t){return t.close(),e.i=void 0,r(o,i)})).o((function(e){i(e)}));i(t)}))}))}function ju(){try{return!!u.indexedDB}catch(da){return!1}}function Lu(e){return e.objectStore("firebaseLocalStorage")}function Fu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Bu(e){return new xt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Uu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Nu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):It()}function Vu(e){return Du(e).then((function(e){var t=Lu(Fu(e,!1));return t.getAll?Bu(t.getAll()):new xt((function(e,n){var r=[],o=t.openCursor();o.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},o.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=pr(e.c,n),e.c=n}return r}))}function zu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Wu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=It().then((function(){if(ju()){var e=Vr(),r="__sak"+e;return ku||(ku=new Au),(n=ku).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){H(t.a,(function(t){t(e)}))})),e}))}function qu(){this.a={},this.type="inMemory"}function Hu(){if(!function(){var e="Node"==Cr();if(e=Gu()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Cr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Gu()||t.default.INTERNAL.node.localStorage,this.type="localStorage"}function Gu(){try{var e=u.localStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ku(){this.type="nullStorage"}function Yu(){if(!function(){var e="Node"==Cr();if(e=$u()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Cr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=$u()||t.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var e=u.sessionStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){var e={};e.Browser=Zu,e.Node=ec,e.ReactNative=tc,e.Worker=nc,this.a=e[Cr()]}Cu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var o=[];H(r,(function(t){o.push(It().then((function(){return t(e.origin,e.data.data)})))})),At(o).then((function(r){var o=[];H(r,(function(e){o.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),H(o,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:o})}))}},Ou.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)Ru(this,this.a[0]);this.b=!0},(n=Au.prototype).set=function(e,t){var n=this,r=!1;return Mu(this,(function(t){return Bu((t=Lu(Fu(t,!0))).get(e))})).then((function(o){return Mu(n,(function(i){if(i=Lu(Fu(i,!0)),o)return o.value=t,Bu(i.put(o));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Bu(i.add(a))}))})).then((function(){return n.c[e]=t,Uu(n,e)})).oa((function(){r&&n.b--}))},n.get=function(e){return Mu(this,(function(t){return Bu(Lu(Fu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.U=function(e){var t=this,n=!1;return Mu(this,(function(r){return n=!0,t.b++,Bu(Lu(Fu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Uu(t,e)})).oa((function(){n&&t.b--}))},n.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Vu(e).then((function(t){0<t.length&&H(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}zu(e),t()}(this),this.a.push(e)},n.ia=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&zu(this)},(n=Wu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.U=function(e){return this.b.then((function(t){return t.U(e)}))},n.ca=function(e){this.a.push(e)},n.ia=function(e){Q(this.a,(function(t){return t==e}))},(n=qu.prototype).get=function(e){return It(this.a[e])},n.set=function(e,t){return this.a[e]=t,It()},n.U=function(e){return delete this.a[e],It()},n.ca=function(){},n.ia=function(){},(n=Hu.prototype).get=function(e){var t=this;return It().then((function(){return Ur(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return It().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},n.ca=function(e){u.window&&fn(u.window,"storage",e)},n.ia=function(e){u.window&&pn(u.window,"storage",e)},(n=Ku.prototype).get=function(){return It(null)},n.set=function(){return It()},n.U=function(){return It()},n.ca=function(){},n.ia=function(){},(n=Yu.prototype).get=function(e){var t=this;return It().then((function(){return Ur(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return It().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},n.ca=function(){},n.ia=function(){};var Qu,Ju,Zu={F:Hu,cb:Yu},ec={F:Hu,cb:Yu},tc={F:Eu,cb:Ku},nc={F:Hu,cb:Ku},rc={rd:"local",NONE:"none",td:"session"};function oc(){var e=!(zr(Rr())||!xr()),t=Lr(),n=Pr();this.m=e,this.h=t,this.l=n,this.a={},Qu||(Qu=new Xu),e=Qu;try{this.g=!fr()&&Kr()||!u.indexedDB?new e.a.F:new Wu(Er()?new qu:new e.a.F)}catch(r){this.g=new qu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new qu}this.v=new qu,this.f=x(this.Zb,this),this.b={}}function ic(){return Ju||(Ju=new oc),Ju}function ac(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function uc(e,t,n){return n=sc(t,n),"local"==t.F&&(e.b[n]=null),ac(e,t.F).U(n)}function cc(e){e.c&&(clearInterval(e.c),e.c=null)}function lc(e){this.a=e,this.b=ic()}(n=oc.prototype).get=function(e,t){return ac(this,e.F).get(sc(e,t))},n.set=function(e,t,n){var r=sc(e,n),o=this,i=ac(this,e.F);return i.set(r,t).then((function(){return i.get(r)})).then((function(t){"local"==e.F&&(o.b[r]=t)}))},n.addListener=function(e,t,n){e=sc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ve(this.a)&&(ac(this,"local").ca(this.f),this.h||(fr()||!Kr())&&u.indexedDB||!this.l||function(e){cc(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=sc(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ve(this.a)&&(ac(this,"local").ia(this.f),cc(this))},n.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var o=u.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var i=this;n=function(){"undefined"===typeof e.a.a&&i.b[t]===u.localStorage.getItem(t)||(i.b[t]=u.localStorage.getItem(t),i.nb(t))},$e&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,x(this.nb,this))},n.nb=function(e){this.a[e]&&H(this.a[e],(function(e){e()}))};var fc,dc={name:"authEvent",F:"local"};function hc(){this.a=ic()}function pc(e,t){this.b=vc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===fc&&(fc=u.Int32Array?new Int32Array(xc):xc),this.reset()}k(pc,(function(){this.b=-1}));for(var vc=64,mc=vc-1,gc=[],yc=0;yc<mc;yc++)gc[yc]=0;var bc=J(128,gc);function wc(e){for(var t=e.f,n=e.l,r=0,o=0;o<t.length;)n[r++]=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3],o=4*r;for(t=16;64>t;t++){o=0|n[t-15],r=0|n[t-2];var i=(0|n[t-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=i+a|0}r=0|e.a[0],o=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(i=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&s^o&s)|0;a=(i=i+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|fc[t])|0)+(0|n[t])|0)|0,i=f,f=l,l=c,c=u+a|0,u=s,s=o,o=r,r=a+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+o|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+i|0}function _c(e,t,n){void 0===n&&(n=t.length);var r=0,o=e.c;if("string"===typeof t)for(;r<n;)e.f[o++]=t.charCodeAt(r++),o==e.b&&(wc(e),o=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var i=t[r++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");e.f[o++]=i,o==e.b&&(wc(e),o=0)}}e.c=o,e.g+=n}pc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var xc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ec(){pc.call(this,8,Cc)}k(Ec,pc);var Cc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function kc(e,t,n,r,o,i){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=o||null,this.s=i,this.h=t+":"+n,this.C=new hc,this.g=new lc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(e){return new T("invalid-cordova-configuration",e)}function Tc(e){var t=new Ec;_c(t,e),e=[];var n=8*t.g;56>t.c?_c(t,bc,56-t.c):_c(t,bc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(wc(t),r=n=0;r<t.i;r++)for(var o=24;0<=o;o-=8)e[n++]=t.a[r]>>o&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Oc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ic(e){return e.f||(e.f=e.ma().then((function(){return new xt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,o&&o.cancel(),Nc(e).then((function(r){var o=n;if(r&&t&&t.url){var i=null;-1!=(o=ui(t.url)).indexOf("/__/auth/callback")&&(i=(i="object"===typeof(i=Ur(Un(i=Vn(o),"firebaseError")||null))?O(i):null)?new Wi(r.c,r.b,null,null,i,null,r.T()):new Wi(r.c,r.b,o,r.f,null,null,r.T())),o=i||n}Oc(e,o)}))}var n=new Wi("unknown",null,null,null,new T("no-auth-event")),r=!1,o=On(500).then((function(){return Nc(e).then((function(){r||Oc(e,n)}))})),i=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ar("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof i)try{i(e)}catch(n){console.error(n)}},Ki||(Ki=new Hi),function(e){var t=Ki;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Ar("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Nc(e){var t=null;return function(e){return e.b.get(dc,e.a).then((function(e){return qi(e)}))}(e.g).then((function(n){return t=n,uc((n=e.g).b,dc,n.a)})).then((function(){return t}))}function Rc(e){this.a=e,this.b=ic()}(n=kc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new xt((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ar("universalLinks.subscribe",u))throw Sc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ar("BuildInfo.packageName",u))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ar("cordova.plugins.browsertab.openUrl",u))throw Sc("cordova-plugin-browsertab is not installed");if("function"!==typeof Ar("cordova.InAppBrowser.open",u))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},n.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),It()},n.Nb=function(){return Nt(new T("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(e,t,n,r){if(this.c)return Nt(new T("redirect-operation-pending"));var o=this,i=u.document,a=null,s=null,c=null,l=null;return this.c=It().then((function(){return zi(t),Ic(o)})).then((function(){return function(e,t,n,r,o){var i=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Wi(t,r,null,i,new T("no-auth-event"),null,o),s=Ar("BuildInfo.packageName",u);if("string"!==typeof s)throw new T("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",u),l={};if(Rr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Rr().toLowerCase().match(/android/))return Nt(new T("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),i=Tc(i),l.sessionId=i;var f=xu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,o,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(dc,a.w(),t)})).then((function(){var t=Ar("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Ar("cordova.plugins.browsertab.openUrl",u)))throw new T("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Ar("cordova.InAppBrowser.open",u)))throw new T("invalid-cordova-configuration");t=Rr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(o,e,t,n,r)})).then((function(){return new xt((function(e,t){s=function(){var t=Ar("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),o.a&&"function"===typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Ea(s),c=function(){a||(a=On(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},l=function(){Hr()&&c()},i.addEventListener("resume",c,!1),Rr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",l,!1)})).o((function(e){return Nc(o).then((function(){throw e}))}))})).oa((function(){c&&i.removeEventListener("resume",c,!1),l&&i.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&o.Ta(s),o.c=null}))},n.Ea=function(e){this.b.push(e),Ic(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Wi("unknown",null,null,null,new T("no-auth-event")),e(t))}))},n.Ta=function(e){Q(this.b,(function(t){return t==e}))};var Ac={name:"pendingRedirect",F:"session"};function Pc(e){return uc(e.b,Ac,e.a)}function Dc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new $c,this.C=new el,this.g=new Rc(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Mc(this.D,this.v,this.m,I,this.J)}function Mc(e,n,r,o,i){var a=t.default.SDK_VERSION||null;return _r()?new kc(e,n,r,a,o,i):new yu(e,n,r,a,o,i)}function jc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Lc(e){e.a.Yb()&&jc(e).o((function(t){var n=new Wi("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Wc(t)&&e.s(n)})),e.a.Ub()||Xc(e.b)}function Fc(e,t){$(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Ac,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Pc(e.g).then((function(){jc(e).o((function(t){var n=new Wi("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Wc(t)&&e.s(n)}))})):Lc(e)})).o((function(){Lc(e)}))}function Bc(e,t){Q(e.h,(function(e){return e==t}))}Dc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Mc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Xc(this.b),t};var Uc=new qr(2e3,1e4),Vc=new qr(3e4,6e4);function zc(e,t,n,r,o,i,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),o,i,a)}function Wc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function qc(e,t,n,r,o){var i;return function(e){return e.b.set(Ac,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,o).o((function(t){if(Wc(t))throw new T("operation-not-supported-in-this-environment");return i=t,Pc(e.g).then((function(){throw i}))})).then((function(){return e.a.ac()?new xt((function(){})):Pc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Hc(e,t,n,r,o){return e.a.Pb(r,(function(e){t.na(n,null,e,o)}),Uc.get())}Dc.prototype.ra=function(){return this.b.ra()};var Gc={};function Kc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Yc(e,t,n,r){var o=Kc(t,n,r);return Gc[o]||(Gc[o]=new Dc(e,t,n,r)),Gc[o]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Xc(e){e.g||(e.g=!0,Zc(e,!1,null,null))}function Qc(e){e.g&&!e.i&&Zc(e,!1,null,null)}function Jc(e,t){if(e.b=function(){return It(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Jc(e,n):Jc(e,{user:null}),e.f=[],e.c=[]}function el(){}function tl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function nl(e,t){this.a=t,Jr(this,"verificationId",e)}function rl(e,t,n,r){return new Bi(e).gb(t,n).then((function(e){return new nl(e,r)}))}function ol(e){var t=Yo(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Gr(1e3*t.exp),authTime:Gr(1e3*t.auth_time),issuedAtTime:Gr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function il(e,t,n){var r=t&&t[sl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new ci(null,r),this.b=[];var o=this;H(t[al]||[],(function(e){(e=ro(e))&&o.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,o=e.a&&"auth/web-storage-unsupported"==e.a.code,i=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?e.a?(Zc(this,!0,null,e.a),It()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,o=t.f,i=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,o,a,i).then((function(t){Zc(e,s,t,null)})).o((function(t){Zc(e,s,null,t)}))}(this,e,t):Nt(new T("invalid-auth-event")):(Zc(this,!1,null,null),It())}else Nt(new T("invalid-auth-event"))},$c.prototype.ra=function(){var e=this;return new xt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=On(Vc.get()).then((function(){e.b||(e.g=!0,Zc(e,!0,null,t))}))}(e))}))},el.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),It()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new T("invalid-auth-event"))}else Nt(new T("invalid-auth-event"))},nl.prototype.confirm=function(e){return e=Ui(this.verificationId,e),this.a(e)};var al="mfaInfo",sl="mfaPendingCredential";function ul(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new il(e,t,n),Jr(this,"resolver",this.b)}function cl(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ul(t,e.serverResponse,n,e.message)}catch(r){}return null}function ll(){}function fl(e){Jr(this,"factorId",e.fa),this.a=e}function dl(e){if(fl.call(this,e),this.a.fa!=Bi.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function hl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function pl(e,t){this.a=e,this.b=[],this.c=x(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ao]=e.uid),e.displayName&&(r[oo]=e.displayName),e.enrollmentTime&&(r[io]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[so]=e.phoneNumber);try{t=new uo(r)}catch(o){}e=t}else e=null;e&&n.push(e)})),vl(this,n)}function vl(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function ml(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gl(e,t){e.stop(),e.b=On(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Hr()||!e?It():new xt((function(n){t=function(){Hr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){gl(e,!0)})).o((function(t){e.i(t)&&gl(e,!1)}))}function yl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function bl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function wl(e,t){e.b=Ko(t[ns]||""),e.a=t.refreshToken,bl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function _l(e,t){return function(e,t){return new xt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?fs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(cu(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ko(t.access_token),e.a=t.refresh_token,bl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function xl(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Gr(t||null),creationTime:Gr(e||null)})}function El(e,t,n,r,o,i){Zr(this,{uid:e,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:t})}function Cl(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var o=t.default.SDK_VERSION?Nr(t.default.SDK_VERSION):null;this.a=new es(this.l,P(I),o),(this.u=e.emulatorConfig||null)&&us(this.a,this.u),this.h=new yl(this.a),Pl(this,n[ns]),wl(this.h,n),Jr(this,"refreshToken",this.h.a),jl(this,r||{}),En.call(this),this.P=!1,this.s&&Dr()&&(this.b=Yc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new ml((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=x(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){kl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Ol(i,e.f)},this.ja=null,this.S=new pl(this,r),Jr(this,"multiFactor",this.S)}function kl(e,t){e.u=t,us(e.a,t),e.b&&(t=e.b,e.b=Yc(e.s,e.l,e.m,e.u),e.P&&(Bc(t,e),Fc(e.b,e)))}function Sl(e,t){e.qa&&pn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&fn(t,"languageCodeChanged",e.Pa)}function Tl(e,t){e.$&&pn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&fn(t,"emulatorConfigChanged",e.Ba)}function Ol(e,n){e.aa=n,ls(e.a,t.default.SDK_VERSION?Nr(t.default.SDK_VERSION,e.aa):null)}function Il(e,t){e.ja&&pn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&fn(t,"frameworkChanged",e.Oa)}function Nl(e){try{return t.default.app(e.m).auth()}catch(n){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Rl(e){e.J||e.D.b||(e.D.start(),pn(e,"tokenChanged",e.ba),fn(e,"tokenChanged",e.ba))}function Al(e){pn(e,"tokenChanged",e.ba),e.D.stop()}function Pl(e,t){e.Aa=t,Jr(e,"_lat",t)}function Dl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return At(t).then((function(){return e}))}function Ml(e){e.b&&!e.P&&(e.P=!0,Fc(e.b,e))}function jl(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new xl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ll(){}function Fl(e){return It().then((function(){if(e.J)throw new T("app-deleted")}))}function Bl(e){return K(e.providerData,(function(e){return e.providerId}))}function Ul(e,t){t&&(Vl(e,t.providerId),e.providerData.push(t))}function Vl(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function zl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Wl(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new xl(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new xl),H(t.providerData,(function(t){Ul(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Jr(e,"refreshToken",e.h.a),vl(e.S,t.S.b))}function ql(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return su(e.a,Fs,{idToken:t}).then(x(e.Kc,e))}(e,t).then((function(){return n||zl(e,"isAnonymous",!1),t}))}))}function Hl(e,t){t[ns]&&e.Aa!=t[ns]&&(wl(e.h,t),e.dispatchEvent(new hl("tokenChanged")),Pl(e,t[ns]),zl(e,"refreshToken",e.h.a))}function Gl(e,t){return ql(e).then((function(){if($(Bl(e),t))return Dl(e).then((function(){throw new T("provider-already-linked")}))}))}function Kl(e,t,n){return eo({user:e,credential:Vi(t),additionalUserInfo:t=Zo(t),operationType:n})}function Yl(e,t){return Hl(e,t),e.reload().then((function(){return e}))}function $l(e,n,r,o,i){if(!Dr())return Nt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var a=Jo(r.providerId),s=Vr(e.uid+":::"),u=null;(!Lr()||xr())&&e.s&&r.isOAuthProvider&&(u=xu(e.s,e.l,e.m,n,r,null,s,t.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=gr(u,a&&a.va,a&&a.ua);return o=o().then((function(){if(Ql(e),!i)return e.I().then((function(){}))})).then((function(){return zc(e.b,c,n,r,s,!!u,e.tenantId)})).then((function(){return new xt((function(t,r){e.na(n,null,new T("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=s,e.c=Hc(e.b,e,n,c,s)}))})).then((function(e){return c&&mr(c),e?eo(e):null})).o((function(e){throw c&&mr(c),e})),Jl(e,o,i)}function Xl(e,t,n,r,o){if(!Dr())return Nt(new T("operation-not-supported-in-this-environment"));if(e.i&&!o)return Nt(e.i);var i=null,a=Vr(e.uid+":::");return r=r().then((function(){if(Ql(e),!o)return e.I().then((function(){}))})).then((function(){return e.ga=a,Dl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(tf,e.w(),t.a)),t})).then((function(){return qc(e.b,t,n,a,e.tenantId)})).o((function(t){if(i=t,e.ha)return nf(e.ha);throw i})).then((function(){if(i)throw i})),Jl(e,r,o)}function Ql(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Jl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Nt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new hl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){X(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),Nl(e),x(e.jc,e))),n||t}))}function Zl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[ns]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var o=new Cl(t,n,e);return e.providerData&&H(e.providerData,(function(e){e&&Ul(o,eo(e))})),e.redirectEventId&&(o.ga=e.redirectEventId),o}function ef(e){this.a=e,this.b=ic()}il.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=me(t.f);return delete n[al],delete n[sl],ye(n,e),t.g(n)}))},k(ul,T),ll.prototype.tb=function(e,t,n){return t.type==li?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Fi(e.a)}),su(t,js,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Fi(e.a)}),su(t,Ls,n)}))}(this,e,t)},k(fl,ll),k(dl,fl),k(hl,Jt),(n=pl.prototype).yc=function(e){vl(this,function(e){var t=[];return H(e.mfaInfo||[],(function(e){(e=ro(e))&&t.push(e)})),t}(e.hd))},n.Sb=function(){return this.a.I().then((function(e){return new ci(e,null)}))},n.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Hl(n.a,e),n.a.reload()}))},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return su(r,au,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return vl(t,r),Hl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},n.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},ml.prototype.start=function(){this.a=this.c,gl(this,!0)},ml.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},yl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},yl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?_l(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})},xl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Cl,En),Cl.prototype.xa=function(e){this.za=e,ss(this.a,e)},Cl.prototype.la=function(){return this.za},Cl.prototype.Ga=function(){return Z(this.aa)},Cl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(Cl.prototype,"providerId","firebase"),(n=Cl.prototype).reload=function(){var e=this;return Jl(this,Fl(this).then((function(){return ql(e).then((function(){return Dl(e)})).then(Ll)})))},n.oc=function(e){return this.I(e).then((function(e){return new ol(e)}))},n.I=function(e){var t=this;return Jl(this,Fl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(Pl(t,e.accessToken),t.dispatchEvent(new hl("tokenChanged"))),zl(t,"refreshToken",e.refreshToken),e.accessToken})))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");jl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new El(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ul(this,t[n]);zl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new hl("userReloaded",{hd:e}))},n.Lc=function(e){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},n.ub=function(e){var t=this,n=null;return Jl(this,e.c(this.a,this.uid).then((function(e){return Hl(t,e),n=Kl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},n.Cc=function(e){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},n.rb=function(e){var t=this,n=null;return Jl(this,Gl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Kl(t,e,"link"),Yl(t,e)})).then((function(){return n})))},n.Dc=function(e,t){var n=this;return Jl(this,Gl(this,"phone").then((function(){return rl(Nl(n),e,t,x(n.rb,n))})))},n.Mc=function(e,t){var n=this;return Jl(this,It().then((function(){return rl(Nl(n),e,t,x(n.ub,n))})),!0)},n.Cb=function(e){var t=this;return Jl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},n.ed=function(e){var t=this;return Jl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Hl(t,e),t.reload()})))},n.Db=function(e){var t=this;return Jl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},n.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Fl(this);var t=this;return Jl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Hl(t,e),zl(t,"displayName",e.displayName||null),zl(t,"photoURL",e.photoUrl||null),H(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),Dl(t)})).then(Ll))},n.cd=function(e){var t=this;return Jl(this,ql(this).then((function(n){return $(Bl(t),e)?function(e,t,n){return su(e,Ps,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return H(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),H(Bl(t),(function(e){n[e]||Vl(t,e)})),n[Bi.PROVIDER_ID]||Jr(t,"phoneNumber",null),Dl(t)})):Dl(t).then((function(){throw new T("no-such-provider")}))})))},n.delete=function(){var e=this;return Jl(this,this.I().then((function(t){return su(e.a,As,{idToken:t})})).then((function(){e.dispatchEvent(new hl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Sl(e,null),Tl(e,null),Il(e,null),e.N=[],e.J=!0,Al(e),Jr(e,"refreshToken",null),e.b&&Bc(e.b,e)}))},n.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?x(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?x(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?x(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?x(this.Mb,this):null},n.Ec=function(e){var t=this;return $l(this,"linkViaPopup",e,(function(){return Gl(t,e.providerId).then((function(){return Dl(t)}))}),!1)},n.Nc=function(e){return $l(this,"reauthViaPopup",e,(function(){return It()}),!0)},n.Fc=function(e){var t=this;return Xl(this,"linkViaRedirect",e,(function(){return Gl(t,e.providerId)}),!1)},n.Oc=function(e){return Xl(this,"reauthViaRedirect",e,(function(){return It()}),!0)},n.Lb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Jl(this,this.I().then((function(n){return ks(o.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return i=Kl(o,e,"link"),Yl(o,e)})).then((function(){return i})))},n.Mb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Jl(this,It().then((function(){return hi(Ss(o.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),o.uid)})).then((function(e){return i=Kl(o,e,"reauthenticate"),Hl(o,e),o.i=null,o.reload()})).then((function(){return i})),!0)},n.vb=function(e){var t=this,n=null;return Jl(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ve(e)?{}:Wo(new Po(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.Fb=function(e,t){var n=this,r=null;return Jl(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ve(t)?{}:Wo(new Po(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},n.jc=function(e){var t=null,n=this;return Jl(this,e=hi(It(e),n.uid).then((function(e){return t=Kl(n,e,"reauthenticate"),Hl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),H(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.S.w()),e};var tf={name:"redirectUser",F:"session"};function nf(e){return uc(e.b,tf,e.a)}function rf(e){this.a=e,this.b=ic(),this.c=null,this.f=function(e){var t=sf("local"),n=sf("session"),r=sf("none");return function(e,t,n){var r=sc(t,n),o=ac(e,t.F);return e.get(t,n).then((function(i){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(s){}if(a&&!i)return u.localStorage.removeItem(r),e.set(t,a,n);a&&i&&"localStorage"!=o.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(o){return o?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(af,e.a).then((function(e){return e?sf(e):t}))}))}))})).then((function(t){return e.c=t,of(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(sf("local"),this.a,x(this.g,this))}function of(e,t){var n,r=[];for(n in rc)rc[n]!==t&&r.push(uc(e.b,sf(rc[n]),e.a));return r.push(uc(e.b,af,e.a)),function(e){return new xt((function(t,n){var r=e.length,o=[];if(r)for(var i=function(e,n){r--,o[e]=n,0==r&&t(o)},a=function(e){n(e)},s=0;s<e.length;s++)Rt(e[s],E(i,s),a);else t(o)}))}(r)}rf.prototype.g=function(){var e=this,t=sf("local");ff(this,(function(){return It().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return of(e,"local").then((function(){e.c=t}))}))}))};var af={name:"persistence",F:"session"};function sf(e){return{name:"authUser",F:e}}function uf(e,t){return ff(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function cf(e){return ff(e,(function(){return uc(e.b,e.c,e.a)}))}function lf(e,t,n){return ff(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Zl(e||{})}))}))}function ff(e,t){return e.f=e.f.then(t,t),e.f}function df(e){if(this.l=!1,Jr(this,"settings",new tl),Jr(this,"app",e),!_f(this).options||!_f(this).options.apiKey)throw new T("invalid-api-key");e=t.default.SDK_VERSION?Nr(t.default.SDK_VERSION):null,this.a=new es(_f(this).options&&_f(this).options.apiKey,P(I),e),this.P=[],this.s=[],this.N=[],this.Pa=t.default.INTERNAL.createSubscribe(x(this.zc,this)),this.W=void 0,this.ib=t.default.INTERNAL.createSubscribe(x(this.Ac,this)),bf(this,null),this.i=new rf(_f(this).options.apiKey+":"+_f(this).name),this.D=new ef(_f(this).options.apiKey+":"+_f(this).name),this.$=kf(this,function(e){var t=_f(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(tf,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zl(e||{})}))}(e.D,_f(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),nf(e.D)}));return kf(e,t)}(e).then((function(){return lf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return uf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:cf(e.i)}))):null})).then((function(t){bf(e,t||null)}));return kf(e,n)}(this)),this.h=kf(this,function(e){return e.$.then((function(){return gf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(sf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.qa=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,function(e){var t=_f(e).options.authDomain,n=_f(e).options.apiKey;t&&Dr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Yc(t,n,_f(e).name,e.R),Fc(e.b,e),xf(e)&&Ml(xf(e)),e.m){Ml(e.m);var r=e.m;r.xa(e.la()),Sl(r,e),Ol(r=e.m,e.J),Il(r,e),kl(r=e.m,e.R),Tl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=eo({protocol:e.c,host:e.a,port:e.g,options:eo({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function hf(e){Jt.call(this,"languageCodeChanged"),this.h=e}function pf(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function vf(e){Jt.call(this,"frameworkChanged"),this.f=e}function mf(e){return e.Oa||Nt(new T("auth-domain-config-required"))}function gf(e){if(!Dr())return Nt(new T("operation-not-supported-in-this-environment"));var t=mf(e).then((function(){return e.b.ra()})).then((function(e){return e?eo(e):null}));return kf(e,t)}function yf(e,t){var n={};return n.apiKey=_f(e).options.apiKey,n.authDomain=_f(e).options.authDomain,n.appName=_f(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var o=new Cl(e,t);return n&&(o.ha=n),r&&Ol(o,r),o.reload().then((function(){return o}))}(n,t,e.D,e.Ga())})).then((function(t){return xf(e)&&t.uid==xf(e).uid?(Wl(xf(e),t),e.da(t)):(bf(e,t),Ml(t),e.da(t))})).then((function(){Cf(e)}))}function bf(e,t){xf(e)&&(function(e,t){Q(e.W,(function(e){return e==t}))}(xf(e),e.Ba),pn(xf(e),"tokenChanged",e.qa),pn(xf(e),"userDeleted",e.za),pn(xf(e),"userInvalidated",e.Aa),Al(xf(e))),t&&(t.W.push(e.Ba),fn(t,"tokenChanged",e.qa),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Rl(t)),Jr(e,"currentUser",t),t&&(t.xa(e.la()),Sl(t,e),Ol(t,e.J),Il(t,e),kl(t,e.R),Tl(t,e))}function wf(e,t){var n=null,r=null;return kf(e,t.then((function(t){return n=Vi(t),r=Zo(t),yf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),e,x(e.kc,e))),n||t})).then((function(){return eo({user:xf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function _f(e){return e.app}function xf(e){return e.currentUser}function Ef(e){return xf(e)&&xf(e)._lat||null}function Cf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Ef(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Ef(e))}}function kf(e,t){return e.P.push(t),t.oa((function(){X(e.P,t)})),t}function Sf(){}function Tf(){this.a={},this.b=1e12}rf.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in rc)if(rc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Cr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!ju()&&"none"!==e)throw n;break;default:if(!Pr()&&"none"!==e)throw n}}(e),ff(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,of(n,e)})).then((function(){if(n.c=sf(e),t)return n.b.set(n.c,t,n.a)})):It()}))},k(df,En),k(hf,Jt),k(pf,Jt),k(vf,Jt),(n=df.prototype).yb=function(e){return kf(this,e=this.i.yb(e))},n.xa=function(e){this.aa===e||this.l||(this.aa=e,ss(this.a,this.aa),this.dispatchEvent(new hf(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&wr().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,us(this.a,this.R),this.dispatchEvent(new pf(this.R))}},n.Gc=function(e){this.J.push(e),ls(this.a,t.default.SDK_VERSION?Nr(t.default.SDK_VERSION,this.J):null),this.dispatchEvent(new vf(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:_f(this).options.apiKey,authDomain:_f(this).options.authDomain,appName:_f(this).name,currentUser:xf(this)&&xf(this).w()}},n.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?x(this.ic,this):null},n.ic=function(e,t,n,r){var o=this,i={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),o.$.then((function(){return wf(o,Cs(o.a,i))}))},n.Xc=function(e){if(!Dr())return Nt(new T("operation-not-supported-in-this-environment"));var n=this,r=Jo(e.providerId),o=Vr(),i=null;(!Lr()||xr())&&_f(this).options.authDomain&&e.isOAuthProvider&&(i=xu(_f(this).options.authDomain,_f(this).options.apiKey,_f(this).name,"signInViaPopup",e,null,o,t.default.SDK_VERSION||null,null,null,this.T(),this.R));var a=gr(i,r&&r.va,r&&r.ua);return kf(this,r=mf(this).then((function(t){return zc(t,a,"signInViaPopup",e,o,!!i,n.T())})).then((function(){return new xt((function(e,t){n.na("signInViaPopup",null,new T("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=o,n.c=Hc(n.b,n,"signInViaPopup",a,o)}))})).then((function(e){return a&&mr(a),e?eo(e):null})).o((function(e){throw a&&mr(a),e})))},n.Yc=function(e){if(!Dr())return Nt(new T("operation-not-supported-in-this-environment"));var t=this,n=mf(this).then((function(){return function(e){return ff(e,(function(){return e.b.set(af,e.c.F,e.a)}))}(t.i)})).then((function(){return qc(t.b,"signInViaRedirect",e,void 0,t.T())}));return kf(this,n)},n.ra=function(){var e=this;return gf(this).then((function(t){return e.b&&Qc(e.b.b),t})).o((function(t){throw e.b&&Qc(e.b.b),t}))},n.dd=function(e){if(!e)return Nt(new T("null-user"));if(this.S!=e.tenantId)return Nt(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=_f(this).options.apiKey,n.authDomain=_f(this).options.authDomain,n.appName=_f(this).name;var r=function(e,t,n,r){var o=e.h,i={};return i[ns]=o.b&&o.b.toString(),i.refreshToken=o.a,t=new Cl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},i),n&&(t.ha=n),r&&Ol(t,r),Wl(t,e),t}(e,n,t.D,t.Ga());return kf(this,this.h.then((function(){if(_f(t).options.apiKey!=e.l)return r.reload()})).then((function(){return xf(t)&&e.uid==xf(t).uid?(Wl(xf(t),e),t.da(e)):(bf(t,r),Ml(r),t.da(r))})).then((function(){Cf(t)})))},n.Bb=function(){var e=this;return kf(this,this.h.then((function(){return e.b&&Qc(e.b.b),xf(e)?(bf(e,null),cf(e.i).then((function(){Cf(e)}))):It()})))},n.Zc=function(){var e=this;return lf(this.i,_f(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=xf(e)&&t){n=xf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Wl(xf(e),t),xf(e).I();(xf(e)||t)&&(bf(e,t),t&&(Ml(t),t.ha=e.D),e.b&&Fc(e.b,e),Cf(e))}}))},n.da=function(e){return uf(this.i,e)},n.mc=function(){Cf(this),this.da(xf(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(e){var t=this;return this.h.then((function(){return wf(t,It(e))}))},n.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(xf(t))}))},n.Ac=function(e){var t=this;!function(e,t){e.N.push(t),kf(e,e.h.then((function(){!e.l&&$(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Ef(e)))})))}(this,(function(){e.next(xf(t))}))},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(xf(r)):"function"===typeof e.next&&e.next(xf(r))})),this.Pa(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(xf(r)):"function"===typeof e.next&&e.next(xf(r))})),this.ib(e,t,n)},n.nc=function(e){var t=this;return kf(this,this.h.then((function(){return xf(t)?xf(t).I(e).then((function(e){return{accessToken:e}})):null})))},n.Tc=function(e){var t=this;return this.h.then((function(){return wf(t,su(t.a,tu,{token:e}))})).then((function(e){var n=e.user;return zl(n,"isAnonymous",!1),t.da(n),e}))},n.Uc=function(e,t){var n=this;return this.h.then((function(){return wf(n,su(n.a,nu,{email:e,password:t}))}))},n.dc=function(e,t){var n=this;return this.h.then((function(){return wf(n,su(n.a,Ns,{email:e,password:t}))}))},n.ab=function(e){var t=this;return this.h.then((function(){return wf(t,e.ka(t.a))}))},n.Sc=function(e){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},n.Ab=function(){var e=this;return this.h.then((function(){var t=xf(e);if(t&&t.isAnonymous){var n=eo({providerId:null,isNewUser:!1});return eo({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return wf(e,e.a.Ab()).then((function(t){var n=t.user;return zl(n,"isAnonymous",!0),e.da(n),t}))}))},n.getUid=function(){return xf(this)&&xf(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&xf(this)&&Rl(xf(this))},n.Pc=function(e){var t=this;H(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&xf(this)&&Al(xf(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),kf(this,this.h.then((function(){t.l||$(t.s,e)&&e(Ef(t))})))},n.removeAuthTokenListener=function(e){Q(this.s,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(sf("local"),e.a,this.ja),this.b&&(Bc(this.b,this),Qc(this.b.b)),Promise.resolve()},n.hc=function(e){return kf(this,function(e,t){return su(e,Rs,{identifier:t,continueUri:Mr()?dr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},n.Bc=function(e){return!!Mi(e)},n.xb=function(e,t){var n=this;return kf(this,It().then((function(){var e=new Po(t);if(!e.c)throw new T("argument-error",jo+" must be true when sending sign in link to email");return Wo(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},n.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},n.ob=function(e,t){return kf(this,this.a.ob(e,t).then((function(){})))},n.Sa=function(e){return kf(this,this.a.Sa(e).then((function(e){return new co(e)})))},n.kb=function(e){return kf(this,this.a.kb(e).then((function(){})))},n.wb=function(e,t){var n=this;return kf(this,It().then((function(){return"undefined"===typeof t||ve(t)?{}:Wo(new Po(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},n.Wc=function(e,t){return kf(this,rl(this,e,t,x(this.ab,this)))},n.Vc=function(e,t){var n=this;return kf(this,It().then((function(){var r=t||dr(),o=Di(e,r);if(!(r=Mi(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(o)})))},Sf.prototype.render=function(){},Sf.prototype.reset=function(){},Sf.prototype.getResponse=function(){},Sf.prototype.execute=function(){};var Of=null;function If(e,t){return(t=Nf(t))&&e.a[t]||null}function Nf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Rf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Af(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Pf(){}function Df(){}Tf.prototype.render=function(e,t){return this.a[this.b.toString()]=new Rf(e,t),this.b++},Tf.prototype.reset=function(e){var t=If(this,e);e=Nf(e),t&&e&&(t.delete(),delete this.a[e])},Tf.prototype.getResponse=function(e){return(e=If(this,e))?e.getResponse():null},Tf.prototype.execute=function(e){(e=If(this,e))&&e.execute()},Rf.prototype.getResponse=function(){return Af(this),this.b},Rf.prototype.execute=function(){Af(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Rf.prototype.delete=function(){Af(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Jr(Pf,"FACTOR_ID","phone"),Df.prototype.g=function(){return Of||(Of=new Tf),It(Of)},Df.prototype.c=function(){};var Mf=null;function jf(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Lf=new we(Ce,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ff=new qr(3e4,6e4);jf.prototype.g=function(e){var t=this;return new xt((function(n,r){var o=setTimeout((function(){r(new T("network-request-failed"))}),Ff.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var i=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=i(e,n),t.b++,e},clearTimeout(o),n(u.grecaptcha)}else clearTimeout(o),r(new T("internal-error"));delete u[t.a]},It(Ka(Oe(Lf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(o),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(o),n(u.grecaptcha))}))},jf.prototype.c=function(){this.b--};var Bf=null;function Uf(e,t,n,r,o,i,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Mf||(Mf=new Df),a=Mf):(Bf||(Bf=new jf),a=Bf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Wf])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[qf],!u.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new es(e,i||null,o||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Vf];this.a[Vf]=function(e){if(Hf(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Ar(c,u);"function"===typeof t&&t(e)}};var l=this.a[zf];this.a[zf]=function(){if(Hf(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=Ar(l,u);"function"===typeof e&&e()}}}var Vf="callback",zf="expired-callback",Wf="sitekey",qf="size";function Hf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Gf(e,t){return e.h.push(t),t.oa((function(){X(e.h,t)})),t}function Kf(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Yf(e,n,r){var o=!1;try{this.b=r||t.default.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");r=this.b.options.apiKey;var i=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=t.default.SDK_VERSION?Nr(t.default.SDK_VERSION,a):null,Uf.call(this,r,e,n,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),a,P(I),o)}function $f(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,a=0;a<t.length;a++)if(t[a].optional)i=!0;else{if(i)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=t.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=t[o].optional&&void 0===n[o],!t[o].M(n[o])&&!i){if(t=t[o],0>o||o>=Xf.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Xf[o],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(n=Uf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Gf(this,It().then((function(){if(Mr()&&!Er())return wr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,su(e.s,qs,{})})).then((function(t){e.a[Wf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},n.render=function(){Kf(this);var e=this;return Gf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=vt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){Kf(this);var e=this;return Gf(this,this.render().then((function(t){return new xt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},n.reset=function(){Kf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Kf(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},k(Yf,Uf);var Xf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Jf(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Zf(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:m}}function ed(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function td(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function nd(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function rd(e,t){return m(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function od(e){return m(e)&&"string"===typeof e.uid}function id(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ad(e,t){for(var n in t){var r=t[n].name;e[r]=cd(r,e[n],t[n].j)}}function sd(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){$f(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function ud(e,t,n,r){e[t]=cd(t,n,r)}function cd(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return $f(i,n,e),t.apply(this,e)}if(!n)return t;var o,i=function(e){return e=e.split("."),e[e.length-1]}(e);for(o in t)r[o]=t[o];for(o in t.prototype)r.prototype[o]=t.prototype[o];return r}ad(df.prototype,{kb:{name:"applyActionCode",j:[Qf("code")]},Sa:{name:"checkActionCode",j:[Qf("code")]},ob:{name:"confirmPasswordReset",j:[Qf("code"),Qf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qf("email"),Qf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Qf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Qf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[id(Zf(),ed(),"nextOrObserver"),ed("opt_error",!0),ed("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[id(Zf(),ed(),"nextOrObserver"),ed("opt_error",!0),ed("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Qf("email"),id(Zf("opt_actionCodeSettings",!0),td(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Qf("email"),Zf("actionCodeSettings")]},yb:{name:"setPersistence",j:[Qf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[nd()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[nd()]},Tc:{name:"signInWithCustomToken",j:[Qf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Qf("email"),Qf("password")]},Vc:{name:"signInWithEmailLink",j:[Qf("email"),Qf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[id({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Cl)}},td(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Qf("url"),Zf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Qf("code")]}}),sd(df.prototype,{lc:{name:"languageCode",lb:id(Qf(),td(),"languageCode")},ti:{name:"tenantId",lb:id(Qf(),td(),"tenantId")}}),df.Persistence=rc,df.Persistence.LOCAL="local",df.Persistence.SESSION="session",df.Persistence.NONE="none",ad(Cl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Jf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Jf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[nd()]},rb:{name:"linkWithCredential",j:[nd()]},Dc:{name:"linkWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[nd()]},ub:{name:"reauthenticateWithCredential",j:[nd()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[id(Zf("opt_actionCodeSettings",!0),td(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},cd:{name:"unlink",j:[Qf("provider")]},Cb:{name:"updateEmail",j:[Qf("email")]},Db:{name:"updatePassword",j:[Qf("password")]},ed:{name:"updatePhoneNumber",j:[nd("phone")]},Eb:{name:"updateProfile",j:[Zf("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Qf("email"),id(Zf("opt_actionCodeSettings",!0),td(null,!0),"opt_actionCodeSettings",!0)]}}),ad(Tf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ad(Sf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ad(xt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sd(tl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Jf("appVerificationDisabledForTesting")}}),ad(nl.prototype,{confirm:{name:"confirm",j:[Qf("verificationCode")]}}),ud(di,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[bi,Ai,Li,mi],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[id(Qf(),Zf(),"json")]),ud(Pi,"credential",(function(e,t){return new Ri(e,t)}),[Qf("email"),Qf("password")]),ad(Ri.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ad(Ei.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),ud(Ei,"credential",Ci,[id(Qf(),Zf(),"token")]),ud(Pi,"credentialWithLink",Di,[Qf("email"),Qf("emailLink")]),ad(ki.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),ud(ki,"credential",Si,[id(Qf(),Zf(),"token")]),ad(Ti.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),ud(Ti,"credential",Oi,[id(Qf(),id(Zf(),td()),"idToken"),id(Qf(),td(),"accessToken",!0)]),ad(Ii.prototype,{Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),ud(Ii,"credential",Ni,[id(Qf(),Zf(),"token"),Qf("secret",!0)]),ad(xi.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},credential:{name:"credential",j:[id(Qf(),id(Zf(),td()),"optionsOrIdToken"),id(Qf(),td(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),ad(gi.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ad(pi.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ud(Bi,"credential",Ui,[Qf("verificationId"),Qf("verificationCode")]),ad(Bi.prototype,{gb:{name:"verifyPhoneNumber",j:[id(Qf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?rd(e.session,li)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?rd(e.session,fi)&&od(e.multiFactorHint):e.session&&e.multiFactorUid?rd(e.session,fi)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),ad(ji.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ad(T.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ad($i.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ad(Yi.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ad(ul.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ad(il.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ad(pl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Qf("displayName",!0)]},bd:{name:"unenroll",j:[id({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:od},Qf(),"multiFactorInfoIdentifier")]}}),ad(Yf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ud(Co,"parseLink",Ao,[Qf("link")]),ud(Pf,"assertion",(function(e){return new dl(e)}),[nd("phone")]),function(){if("undefined"===typeof t.default||!t.default.INTERNAL||!t.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fo,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:lo,VERIFY_AND_CHANGE_EMAIL:ho,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:df,AuthCredential:di,Error:T};ud(e,"EmailAuthProvider",Pi,[]),ud(e,"FacebookAuthProvider",Ei,[]),ud(e,"GithubAuthProvider",ki,[]),ud(e,"GoogleAuthProvider",Ti,[]),ud(e,"TwitterAuthProvider",Ii,[]),ud(e,"OAuthProvider",xi,[Qf("providerId")]),ud(e,"SAMLAuthProvider",_i,[Qf("providerId")]),ud(e,"PhoneAuthProvider",Bi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof df)}}]),ud(e,"RecaptchaVerifier",Yf,[id(Qf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Zf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.default.app.App)}}]),ud(e,"ActionCodeURL",Co,[]),ud(e,"PhoneMultiFactorGenerator",Pf,[]),t.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new df(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),t.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:x((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:x(e.nc,e),addAuthTokenListener:x(e.cc,e),removeAuthTokenListener:x(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.default.registerVersion("@firebase/auth","0.16.8"),t.default.INTERNAL.extendNamespace({User:Cl})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(38))},function(e,t,n){"use strict";(function(e,t){var r=n(13),o=n(25),i=n(4),a=n(14),s=n(24),u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(i.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(i.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(i.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new f},h=d("localStorage"),p=d("sessionStorage"),v=new s.Logger("@firebase/database"),m=function(){var e=1;return function(){return e++}}(),g=function(e){var t=Object(i.stringToByteArray)(e),n=new i.Sha1;n.update(t);var r=n.digest();return i.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=0;o<t.length;o++){var a=t[o];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?Object(i.stringify)(a):a,r+=" "}return r},b=null,w=!0,_=function(e,t){Object(i.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===p.get("logging_enabled")&&_(!0)),b){var n=y.apply(null,e);b(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,Object(a.f)([e],Object(a.e)(t)))}},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(a.f)([],Object(a.e)(e)));v.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(a.f)([],Object(a.e)(e)));throw v.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(a.f)([],Object(a.e)(e)));v.warn(n)},T=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",I="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===O||t===I)return-1;if(t===O||e===I)return 1;var n=U(e),r=U(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},R=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(i.stringify)(t))},P=function e(t){if("object"!==typeof t||null===t)return Object(i.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var o="{",a=0;a<n.length;a++)0!==a&&(o+=","),o+=Object(i.stringify)(n[a]),o+=":",o+=e(t[n[a]]);return o+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var j=function(e){Object(i.assert)(!T(e),"Invalid JSON number");var t,n,r,o,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var L=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,B=2147483647,U=function(e){if(L.test(e)){var t=Number(e);if(t>=F&&t<=B)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t}),Math.floor(0))}},z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},W=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),q=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),H=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),G="5",K=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="ac",$="websocket",X="long_polling",Q=function(){function e(e,t,n,r,o,i,a){void 0===o&&(o=!1),void 0===i&&(i=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function J(e,t,n){var r;if(Object(i.assert)("string"===typeof t,"typeof type must == string"),Object(i.assert)("object"===typeof n,"typeof params must == object"),t===$)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==X)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var o=[];return M(n,(function(e,t){o.push(e+"="+t)})),r+o.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(i.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(i.deepCopy)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new Z),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),oe="start",ie=function(){function e(e,t,n,r,o,i,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=i,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e[Y]=s.appCheckToken),J(t,X,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(i.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,5),o=r[0],i=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===oe)n.id=i,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,2),o=r[0],i=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,i)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[oe]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=G,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Y]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(i.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(i.base64Encode)(t),r=D(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(i.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(i.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(o),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(i.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(o){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function t(e,n,r,o,i,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=ne(n),this.connURL=t.connectionURL_(n,a,s,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,r){var o={};return o.v=G,!Object(i.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Y]=r),J(e,$,o)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(i.isNodeSdk)()){var o=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+u+"/"+e.platform+"/"+o,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=Object({NODE_ENV:"production",PUBLIC_URL:"/FYP-FrontEnd",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),c=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;c&&(a.proxy={origin:c}),this.mySock=new se(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],a)}}catch(f){this.log_("Error instantiating WebSocket.");var l=f.message||f.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==se&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(i.jsonEval)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(i.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ie,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=ue&&ue.isAvailable(),i=o&&!ue.previouslyFailed();if(t.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=Object(a.g)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,o,i,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=i,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?C("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),G!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),fe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),de=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(i.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.f)([],Object(a.e)(this.listeners_[e])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)},e.prototype.validateEventType_=function(e){Object(i.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),he=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(i.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(de),pe=32,ve=768,me=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ge(){return new me("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function be(e){return e.pieces_.length-e.pieceNum_}function we(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new me(e.pieces_,t)}function _e(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function xe(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ee(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new me(t,0)}function Ce(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof me)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var o=t.split("/");for(r=0;r<o.length;r++)o[r].length>0&&n.push(o[r])}return new me(n,0)}function ke(e){return e.pieceNum_>=e.pieces_.length}function Se(e,t){var n=ye(e),r=ye(t);if(null===n)return t;if(n===r)return Se(we(e),we(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Te(e,t){for(var n=xe(e,0),r=xe(t,0),o=0;o<n.length&&o<r.length;o++){var i=N(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Oe(e,t){if(be(e)!==be(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ie(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(be(e)>be(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ne=function(e,t){this.errorPrefix_=t,this.parts_=xe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.stringLength)(this.parts_[n]);Re(this)};function Re(e){if(e.byteLength_>ve)throw new Error(e.errorPrefix_+"has a key path longer than "+ve+" bytes ("+e.byteLength_+").");if(e.parts_.length>pe)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pe+") or object contains a cycle "+Ae(e))}function Ae(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,De,Me=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(de),je=1e3,Le=function(e){function t(n,r,o,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=o,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=E("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=je,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Object(i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Me.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&he.getInstance().on("online",f.onOnline_,f),f}return Object(a.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Object(i.stringify)(o)),Object(i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new i.Deferred,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:function(e){var o=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,o,!1,null),n.resolve(o)):n.reject(o)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&o===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.assert)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,o=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+o+" for "+i);var a={p:o};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(o)&&n.listens.get(o).get(i))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(o,i),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(i.contains)(e,"w")){var n=Object(i.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(i.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(i.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,o=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,o))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,o){this.initConnection_();var i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),o&&o(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(i.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):C("Unrecognized action received from server: "+Object(i.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=je),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(a.b)(this,void 0,void 0,(function(){var e,n,r,o,s,u,c,l,f,d,h,p,v,m,g=this;return Object(a.d)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(e){Object(i.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return h=a.e.apply(void 0,[y.sent(),2]),p=h[0],v=h[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new le(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){S(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&S(m),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new me(e).toString();if(this.listens.has(r)){var o=this.listens.get(r);n=o.get(t),o.delete(t),0===o.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var o=Object(a.g)(this.listens.values()),i=o.next();!i.done;i=o.next()){var s=i.value;try{for(var u=(n=void 0,Object(a.g)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(i.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,Object(i.isMobileCordova)()?e["framework.cordova"]=1:Object(i.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=he.getInstance().currentlyOnline();return Object(i.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fe),Fe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Be=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Fe(O,e),r=new Fe(O,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Fe.MIN},e}(),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(I,Pe)},t.prototype.makePost=function(e,t){return Object(i.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Fe(e,Pe)},t.prototype.toString=function(){return".key"},t}(Be),Ve=new Ue,ze=function(){function e(e,t,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),We=function(){function e(t,n,r,o,i){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:He.EMPTY_NODE,this.right=null!=i?i:He.EMPTY_NODE}return e.prototype.copy=function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return He.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return He.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),qe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new We(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),He=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,We.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ze(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ze(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new qe,e}();function Ge(e,t){return N(e.name,t.name)}function Ke(e,t){return N(e,t)}var Ye,$e,Xe,Qe=function(e){return"number"===typeof e?"number:"+j(e):"string:"+e},Je=function(e){if(e.isLeafNode()){var t=e.val();Object(i.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(i.contains)(t,".sv"),"Priority must be a string or number.")}else Object(i.assert)(e===De||e.isEmpty(),"priority of unexpected type.");Object(i.assert)(e===De||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ze=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(i.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Je(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ye},set:function(e){Ye=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ke(t)?this:".priority"===ye(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ye(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.assert)(".priority"!==r||1===be(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(i.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(i.assert)(o>=0,"Unknown leaf type: "+n),Object(i.assert)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var et,tt,nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?N(e.name,t.name):o},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(I,new Ze("[PRIORITY-POST]",Xe))},t.prototype.makePost=function(e,t){var n=$e(e);return new Fe(t,new Ze("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Be),rt=new nt,ot=Math.log(2),it=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ot,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),at=function(e,t,n,r){e.sort(t);var o=function t(r,o){var i,a,s=o-r;if(0===s)return null;if(1===s)return i=e[r],a=n?n(i):i,new We(a,i.node,We.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,o);return i=e[u],a=n?n(i):i,new We(a,i.node,We.BLACK,c,l)},i=function(t){for(var r=null,i=null,a=e.length,s=function(t,r){var i=a-t,s=a;a-=t;var c=o(i+1,s),l=e[i],f=n?n(l):l;u(new We(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(i=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,We.BLACK):(s(f,We.BLACK),s(f,We.RED))}return i}(new it(e.length));return new He(r||t,i)},st={},ut=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(i.assert)(st&&rt,"ChildrenNode.ts has not been loaded"),et=et||new e({".priority":st},{".priority":rt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(i.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof He?t:null},e.prototype.hasIndex=function(e){return Object(i.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(i.assert)(t!==Ve,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],s=!1,u=n.getIterator(Fe.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),o.push(c),c=u.getNext();r=s?at(o,t.getCompare()):st;var l=t.toString(),f=Object(a.a)({},this.indexSet_);f[l]=t;var d=Object(a.a)({},this.indexes_);return d[l]=r,new e(d,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(i.map)(this.indexes_,(function(e,o){var a=Object(i.safeGet)(r.indexSet_,o);if(Object(i.assert)(a,"Missing index implementation for "+o),e===st){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Fe.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),at(s,a.getCompare())}return st}var l=n.get(t.name),f=e;return l&&(f=f.remove(new Fe(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(i.map)(this.indexes_,(function(e){if(e===st)return e;var r=n.get(t.name);return r?e.remove(new Fe(t.name,r)):e})),this.indexSet_)},e}(),ct=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Je(this.priorityNode_),this.children_.isEmpty()&&Object(i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return tt||(tt=new e(new He(Ke),null,ut.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||tt},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?tt:t},e.prototype.getChild=function(e){var t=ye(e);return null===t?this:this.getImmediateChild(t).getChild(we(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(i.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Fe(t,n),o=void 0,a=void 0;n.isEmpty()?(o=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=o.isEmpty()?tt:this.priorityNode_;return new e(o,s,a)},e.prototype.updateChild=function(e,t){var n=ye(e);if(null===n)return t;Object(i.assert)(".priority"!==ye(e)||1===be(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(we(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild(rt,(function(a,s){n[a]=s.val(t),r++,i&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):i=!1})),!t&&i&&o<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild(rt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new Fe(e,t));return o?o.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Fe.Wrap),o=r.peek();null!=o&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Fe.Wrap),o=r.peek();null!=o&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lt?-1:0},e.prototype.withIndex=function(t){if(t===Ve||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ve||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(rt),r=t.getIterator(rt),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ve?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),lt=new(function(e){function t(){return e.call(this,new He(Ke),ct.EMPTY_NODE,ut.Default)||this}return Object(a.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ct.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ct));Object.defineProperties(Fe,{MIN:{value:new Fe(O,ct.EMPTY_NODE)},MAX:{value:new Fe(I,lt)}}),Ue.__EMPTY_NODE=ct.EMPTY_NODE,Ze.__childrenNodeConstructor=ct,De=lt,function(e){Xe=e}(lt);var ft=!0;function dt(e,t){if(void 0===t&&(t=null),null===e)return ct.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(i.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Ze(e,dt(t));if(e instanceof Array||!ft){var n=ct.EMPTY_NODE;return M(e,(function(t,r){if(Object(i.contains)(e,t)&&"."!==t.substring(0,1)){var o=dt(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}})),n.updatePriority(dt(t))}var r=[],o=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=dt(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Fe(e,n)))}})),0===r.length)return ct.EMPTY_NODE;var a=at(r,Ge,(function(e){return e.name}),Ke);if(o){var s=at(r,rt.getCompare());return new ct(a,dt(t),new ut({".priority":s},{".priority":rt}))}return new ct(a,dt(t),ut.Default)}!function(e){$e=e}(dt);var ht=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(i.assert)(!ke(t)&&".priority"!==ye(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?N(e.name,t.name):o},t.prototype.makePost=function(e,t){var n=dt(e),r=ct.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fe(t,r)},t.prototype.maxPost=function(){var e=ct.EMPTY_NODE.updateChild(this.indexPath_,lt);return new Fe(I,e)},t.prototype.toString=function(){return xe(this.indexPath_,0).join("/")},t}(Be),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return Fe.MAX},t.prototype.makePost=function(e,t){var n=dt(e);return new Fe(t,n)},t.prototype.toString=function(){return".value"},t}(Be),vt=new pt,mt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gt=function(){var e=0,t=[];return function(n){var r,o=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=mt.charAt(n%64),n=Math.floor(n/64);Object(i.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(o){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=mt.charAt(t[r]);return Object(i.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),yt=function(e){if(e===""+B)return"-";var t=U(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var o=n.length-1;o>=0&&"z"===n[o];)o--;if(-1===o)return I;var i=n[o],a=mt.charAt(mt.indexOf(i)+1);return n[o]=a,n.slice(0,o+1).join("")},bt=function(e){if(e===""+F)return O;var t=U(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+B:(delete n[n.length-1],n.join("")):(n[n.length-1]=mt.charAt(mt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function wt(e){return{type:"value",snapshotNode:e}}function _t(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function xt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Et(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Ct=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,a){Object(i.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(xt(t,s)):Object(i.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_t(t,n)):a.trackChildChange(Et(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rt,(function(e,r){t.hasChild(e)||n.trackChildChange(xt(e,r))})),t.isLeafNode()||t.forEachChild(rt,(function(t,r){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(Et(t,r,o))}else n.trackChildChange(_t(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ct.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),kt=function(){function e(t){this.indexedFilter_=new Ct(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,o,i){return this.matches(new Fe(t,n))||(n=ct.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,i)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ct.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ct.EMPTY_NODE);var o=this;return t.forEachChild(rt,(function(e,t){o.matches(new Fe(e,t))||(r=r.updateImmediateChild(e,ct.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),St=function(){function e(e){this.rangedFilter_=new kt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,o,i){return this.rangedFilter_.matches(new Fe(t,n))||(n=ct.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,i):this.fullLimitUpdateChild_(e,t,n,o,i)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ct.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var a=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),i++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ct.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else o=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();i=0;for(var f=!1;o.hasNext();){a=o.getNext();!f&&c(s,a)<=0&&(f=!0),f&&i<this.limit_&&c(a,u)<=0?i++:r=r.updateImmediateChild(a.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(i.assert)(u.numChildren()===this.limit_,"");var c=new Fe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var p=null==h?1:a(h,c);if(f&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(Et(t,n,d)),u.updateImmediateChild(t,n);null!=o&&o.trackChildChange(xt(t,d));var v=u.updateImmediateChild(t,ct.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=o&&o.trackChildChange(_t(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=o&&(o.trackChildChange(xt(l.name,l.node)),o.trackChildChange(_t(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ct.EMPTY_NODE)):e},e}(),Tt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===rt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Ot(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function It(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Nt(e,t){var n=e.copy();return n.index_=t,n}function Rt(e){var t,n={};return e.isDefault()||(e.index_===rt?t="$priority":e.index_===vt?t="$value":e.index_===Ve?t="$key":(Object(i.assert)(e.index_ instanceof ht,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(i.stringify)(t),e.startSet_&&(n.startAt=Object(i.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(i.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(i.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(i.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function At(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rt&&(t.i=e.index_.toString()),t}var Pt=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.appCheckTokenProvider_=o,i.log_=E("p:rest:"),i.listens_={},i}return Object(a.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(i.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,o){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Rt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(i.safeGet)(a.listens_,u)===c)&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Rt(e._queryParams),r=e._path.toString(),o=new i.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var i=n;404===e&&(i=null,e=null),null===e?(t.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(o){var s=Object(a.e)(o,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(i.querystring)(t);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=Object(i.jsonEval)(f.responseText)}catch(t){S("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&S("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()}))},t}(fe),Dt=function(){function e(){this.rootNode_=ct.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Mt(){return{value:null,children:new Map}}function jt(e,t,n){if(ke(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ye(t);e.children.has(r)||e.children.set(r,Mt()),jt(e.children.get(r),t=we(t),n)}}function Lt(e,t){if(ke(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(rt,(function(t,n){jt(e,new me(t),n)})),Lt(e,t)}if(e.children.size>0){var r=ye(t);if(t=we(t),e.children.has(r))Lt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Ft(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Ft(r,new me(t.toString()+"/"+e),n)}))}var Bt,Ut=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.a)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Vt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ut(e);var n=1e4+2e4*Math.random();z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,o){o>0&&Object(i.contains)(e.statsToReport_,t)&&(n[t]=o,r=!0)})),r&&this.server_.reportStats(n),z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function zt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bt||(Bt={}));var Wt,qt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Bt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ke(this.path)){if(null!=this.affectedTree.value)return Object(i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new me(t));return new e(ge(),n,this.revert)}return Object(i.assert)(ye(this.path)===t,"operationForChild called for unrelated child."),new e(we(this.path),this.affectedTree,this.revert)},e}(),Ht=function(){function e(e,t){this.source=e,this.path=t,this.type=Bt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ke(this.path)?new e(this.source,ge()):new e(this.source,we(this.path))},e}(),Gt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Bt.OVERWRITE}return e.prototype.operationForChild=function(t){return ke(this.path)?new e(this.source,ge(),this.snap.getImmediateChild(t)):new e(this.source,we(this.path),this.snap)},e}(),Kt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Bt.MERGE}return e.prototype.operationForChild=function(t){if(ke(this.path)){var n=this.children.subtree(new me(t));return n.isEmpty()?null:n.value?new Gt(this.source,ge(),n.value):new e(this.source,ge(),n)}return Object(i.assert)(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,we(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Yt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;var t=ye(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),$t=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Xt(e,t,n,r,o,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(i.assertionError)("Should only compare child_ events.");var r=new Fe(t.childName,t.snapshotNode),o=new Fe(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);o.forEach((function(o){o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))}))}))}function Qt(e,t){return{eventCache:e,serverCache:t}}function Jt(e,t,n,r){return Qt(new Yt(t,n,r),e.serverCache)}function Zt(e,t,n,r){return Qt(e.eventCache,new Yt(t,n,r))}function en(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var nn=function(){function e(e,t){void 0===t&&(Wt||(Wt=new He(R)),t=Wt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new me(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ge(),value:this.value};if(ke(e))return null;var n=ye(e),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(we(e),t);return null!=o?{path:Ce(new me(n),o.path),value:o.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(ke(t))return this;var n=ye(t),r=this.children.get(n);return null!==r?r.subtree(we(t)):new e(null)},e.prototype.set=function(t,n){if(ke(t))return new e(n,this.children);var r=ye(t),o=(this.children.get(r)||new e(null)).set(we(t),n),i=this.children.insert(r,o);return new e(this.value,i)},e.prototype.remove=function(t){if(ke(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ye(t),r=this.children.get(n);if(r){var o=r.remove(we(t)),i=void 0;return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this},e.prototype.get=function(e){if(ke(e))return this.value;var t=ye(e),n=this.children.get(t);return n?n.get(we(e)):null},e.prototype.setTree=function(t,n){if(ke(t))return n;var r=ye(t),o=(this.children.get(r)||new e(null)).setTree(we(t),n),i=void 0;return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,i)},e.prototype.fold=function(e){return this.fold_(ge(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,o){n[r]=o.fold_(Ce(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ge(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ke(e))return null;var o=ye(e),i=this.children.get(o);return i?i.findOnPath_(we(e),Ce(t,o),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ge(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ke(t))return this;this.value&&r(n,this.value);var o=ye(t),i=this.children.get(o);return i?i.foreachOnPath_(we(t),Ce(n,o),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ge(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ce(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),rn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new nn(null))},e}();function on(e,t,n){if(ke(t))return new rn(new nn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var o=r.path,i=r.value,a=Se(o,t);return i=i.updateChild(a,n),new rn(e.writeTree_.set(o,i))}var s=new nn(n),u=e.writeTree_.setTree(t,s);return new rn(u)}function an(e,t,n){var r=e;return M(n,(function(e,n){r=on(r,Ce(t,e),n)})),r}function sn(e,t){if(ke(t))return rn.empty();var n=e.writeTree_.setTree(t,new nn(null));return new rn(n)}function un(e,t){return null!=cn(e,t)}function cn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Se(n.path,t)):null}function ln(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rt,(function(e,n){t.push(new Fe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Fe(e,n.value))})),t}function fn(e,t){if(ke(t))return e;var n=cn(e,t);return new rn(null!=n?new nn(n):e.writeTree_.subtree(t))}function dn(e){return e.writeTree_.isEmpty()}function hn(e,t){return pn(ge(),e.writeTree_,t)}function pn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,o){".priority"===t?(Object(i.assert)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=pn(Ce(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ce(e,".priority"),r)),n}function vn(e,t){return On(t,e)}function mn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var o=r.visible,a=!1,s=e.allWrites.length-1;o&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&gn(u,r.path)?o=!1:Ie(r.path,u.path)&&(a=!0)),s--}if(o){if(a)return function(e){e.visibleWrites=bn(e.allWrites,yn,ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=sn(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=sn(e.visibleWrites,Ce(r.path,t))}));return!0}return!1}function gn(e,t){if(e.snap)return Ie(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ie(Ce(e.path,n),t))return!0;return!1}function yn(e){return e.visible}function bn(e,t,n){for(var r=rn.empty(),o=0;o<e.length;++o){var a=e[o];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ie(n,s)?r=on(r,u=Se(n,s),a.snap):Ie(s,n)&&(u=Se(s,n),r=on(r,ge(),a.snap.getChild(u)));else{if(!a.children)throw Object(i.assertionError)("WriteRecord should have .snap or .children");if(Ie(n,s))r=an(r,u=Se(n,s),a.children);else if(Ie(s,n))if(ke(u=Se(s,n)))r=an(r,ge(),a.children);else{var c=Object(i.safeGet)(a.children,ye(u));if(c){var l=c.getChild(we(u));r=on(r,ge(),l)}}}}}return r}function wn(e,t,n,r,o){if(r||o){var i=fn(e.visibleWrites,t);if(!o&&dn(i))return n;if(o||null!=n||un(i,ge())){return hn(bn(e.allWrites,(function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(Ie(e.path,t)||Ie(t,e.path))}),t),n||ct.EMPTY_NODE)}return null}var a=cn(e.visibleWrites,t);if(null!=a)return a;var s=fn(e.visibleWrites,t);return dn(s)?n:null!=n||un(s,ge())?hn(s,n||ct.EMPTY_NODE):null}function _n(e,t,n,r){return wn(e.writeTree,e.treePath,t,n,r)}function xn(e,t){return function(e,t,n){var r=ct.EMPTY_NODE,o=cn(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(rt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var i=fn(e.visibleWrites,t);return n.forEachChild(rt,(function(e,t){var n=hn(fn(i,new me(e)),t);r=r.updateImmediateChild(e,n)})),ln(i).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ln(fn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function En(e,t,n,r){return function(e,t,n,r,o){Object(i.assert)(r||o,"Either existingEventSnap or existingServerSnap must exist");var a=Ce(t,n);if(un(e.visibleWrites,a))return null;var s=fn(e.visibleWrites,a);return dn(s)?o.getChild(n):hn(s,o.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Cn(e,t){return function(e,t){return cn(e.visibleWrites,t)}(e.writeTree,Ce(e.treePath,t))}function kn(e,t,n,r,o,i){return function(e,t,n,r,o,i,a){var s,u=fn(e.visibleWrites,t),c=cn(u,ge());if(null!=c)s=c;else{if(null==n)return[];s=hn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),d=i?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=d.getNext();h&&l.length<o;)0!==f(h,r)&&l.push(h),h=d.getNext();return l}(e.writeTree,e.treePath,t,n,r,o,i)}function Sn(e,t,n){return function(e,t,n,r){var o=Ce(t,n),i=cn(e.visibleWrites,o);return null!=i?i:r.isCompleteForChild(n)?hn(fn(e.visibleWrites,o),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Tn(e,t){return On(Ce(e.treePath,t),e.writeTree)}function On(e,t){return{treePath:e,writeTree:t}}var In=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(i.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,Et(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,xt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,_t(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Object(i.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Et(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Nn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Rn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Yt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tn(this.viewCache_),o=kn(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]},e}();function An(e,t,n,r,o){var a,s,u=new In;if(n.type===Bt.OVERWRITE){var c=n;c.source.fromUser?a=Mn(e,t,c.path,c.snap,r,o,u):(Object(i.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!ke(c.path),a=Dn(e,t,c.path,c.snap,r,o,s,u))}else if(n.type===Bt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,o,i,a){var s=t;return r.foreach((function(r,u){var c=Ce(n,r);jn(t,ye(c))&&(s=Mn(e,s,c,u,o,i,a))})),r.foreach((function(r,u){var c=Ce(n,r);jn(t,ye(c))||(s=Mn(e,s,c,u,o,i,a))})),s}(e,t,l.path,l.children,r,o,u):(Object(i.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Fn(e,t,l.path,l.children,r,o,s,u))}else if(n.type===Bt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,o,a){var s;if(null!=Cn(r,n))return t;var u=new Rn(r,t,o),c=t.eventCache.getNode(),l=void 0;if(ke(n)||".priority"===ye(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=_n(r,tn(t));else{var d=t.serverCache.getNode();Object(i.assert)(d instanceof ct,"serverChildren would be complete if leaf node"),f=xn(r,d)}l=e.filter.updateFullNode(c,f,a)}else{var h=ye(n),p=Sn(r,h,t.serverCache);null==p&&t.serverCache.isCompleteForChild(h)&&(p=c.getImmediateChild(h)),(l=null!=p?e.filter.updateChild(c,h,p,we(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,ct.EMPTY_NODE,we(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=_n(r,tn(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Cn(r,ge()),Jt(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,o,u):function(e,t,n,r,o,i,a){if(null!=Cn(o,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ke(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dn(e,t,n,u.getNode().getChild(n),o,i,s,a);if(ke(n)){var c=new nn(null);return u.getNode().forEachChild(Ve,(function(e,t){c=c.set(new me(e),t)})),Fn(e,t,n,c,o,i,s,a)}return t}var l=new nn(null);return r.foreach((function(e,t){var r=Ce(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Fn(e,t,n,l,o,i,s,a)}(e,t,f.path,f.affectedTree,r,o,u)}else{if(n.type!==Bt.LISTEN_COMPLETE)throw Object(i.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,o){var i=t.serverCache,a=Zt(t,i.getNode(),i.isFullyInitialized()||ke(n),i.isFiltered());return Pn(e,a,n,r,Nn,o)}(e,t,n.path,r,u)}var d=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=en(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(wt(en(t)))}}(t,a,d),{viewCache:a,changes:d}}function Pn(e,t,n,r,o,a){var s=t.eventCache;if(null!=Cn(r,n))return t;var u=void 0,c=void 0;if(ke(n))if(Object(i.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=tn(t),f=xn(r,l instanceof ct?l:ct.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=_n(r,tn(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var h=ye(n);if(".priority"===h){Object(i.assert)(1===be(n),"Can't have a priority with additional path components");var p=s.getNode(),v=En(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=we(n),g=void 0;if(s.isCompleteForChild(h)){c=t.serverCache.getNode();var y=En(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(h).updateChild(m,y):s.getNode().getImmediateChild(h)}else g=Sn(r,h,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),h,g,m,o,a):s.getNode()}}return Jt(t,u,s.isFullyInitialized()||ke(n),e.filter.filtersNodes())}function Dn(e,t,n,r,o,i,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(ke(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var d=ye(n);if(!c.isCompleteForPath(n)&&be(n)>1)return t;var h=we(n),p=c.getNode().getImmediateChild(d).updateChild(h,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,h,Nn,null)}var v=Zt(t,u,c.isFullyInitialized()||ke(n),l.filtersNodes());return Pn(e,v,n,o,new Rn(o,v,i),s)}function Mn(e,t,n,r,o,i,a){var s,u,c=t.eventCache,l=new Rn(o,t,i);if(ke(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Jt(t,u,!0,e.filter.filtersNodes());else{var f=ye(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Jt(t,u,c.isFullyInitialized(),c.isFiltered());else{var d=we(n),h=c.getNode().getImmediateChild(f),p=void 0;if(ke(d))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===_e(d)&&v.getChild(Ee(d)).isEmpty()?v:v.updateChild(d,r):ct.EMPTY_NODE}if(h.equals(p))s=t;else s=Jt(t,e.filter.updateChild(c.getNode(),f,p,d,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function jn(e,t){return e.eventCache.isCompleteForChild(t)}function Ln(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Fn(e,t,n,r,o,i,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=ke(n)?r:new nn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Ln(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new me(n),u,o,i,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Ln(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new me(n),f,o,i,a,s)}})),c}var Bn,Un=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,o=new Ct(r.getIndex()),i=(n=r).loadsAllData()?new Ct(n.getIndex()):n.hasLimit()?new St(n):new kt(n);this.processor_=function(e){return{filter:e}}(i);var a=t.serverCache,s=t.eventCache,u=o.updateFullNode(ct.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(ct.EMPTY_NODE,s.getNode(),null),l=new Yt(u,a.isFullyInitialized(),o.filtersNodes()),f=new Yt(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=Qt(f,l),this.eventGenerator_=new $t(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Vn(e,t){var n=tn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ke(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function zn(e){return 0===e.eventRegistrations_.length}function Wn(e,t,n){var r=[];if(n){Object(i.assert)(null==t,"A cancel should cancel all event registrations.");var o=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,o);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function qn(e,t,n,r){t.type===Bt.MERGE&&null!==t.source.queryId&&(Object(i.assert)(tn(e.viewCache_),"We should always have a full cache before handling merges"),Object(i.assert)(en(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,a,s=e.viewCache_,u=An(e.processor_,s,t,n,r);return o=e.processor_,a=u.viewCache,Object(i.assert)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.assert)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Hn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Hn(e,t,n,r){var o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var o=[],i=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Xt(e,o,"child_removed",t,r,n),Xt(e,o,"child_added",t,r,n),Xt(e,o,"child_moved",i,r,n),Xt(e,o,"child_changed",t,r,n),Xt(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}var Gn,Kn=function(){this.views=new Map};function Yn(e,t,n,r){var o,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(i.assert)(null!=c,"SyncTree gave us an op for an invalid query."),qn(c,t,n,r)}var l=[];try{for(var f=Object(a.g)(e.views.values()),d=f.next();!d.done;d=f.next()){c=d.value;l=l.concat(qn(c,t,n,r))}}catch(h){o={error:h}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return l}function $n(e,t,n,r,o){var i=t._queryIdentifier,a=e.views.get(i);if(!a){var s=_n(n,o?r:null),u=!1;s?u=!0:r instanceof ct?(s=xn(n,r),u=!1):(s=ct.EMPTY_NODE,u=!1);var c=Qt(new Yt(s,u,!1),new Yt(r,o,!1));return new Un(t,c)}return a}function Xn(e,t,n,r,o,i){var a=$n(e,t,r,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rt,(function(e,t){r.push(_t(e,t))})),n.isFullyInitialized()&&r.push(wt(n.getNode())),Hn(e,r,n.getNode(),t)}(a,n)}function Qn(e,t,n,r){var o,s,u=t._queryIdentifier,c=[],l=[],f=nr(e);if("default"===u)try{for(var d=Object(a.g)(e.views.entries()),h=d.next();!h.done;h=d.next()){var p=Object(a.e)(h.value,2),v=p[0],m=p[1];l=l.concat(Wn(m,n,r)),zn(m)&&(e.views.delete(v),m.query._queryParams.loadsAllData()||c.push(m.query))}}catch(g){o={error:g}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}else(m=e.views.get(u))&&(l=l.concat(Wn(m,n,r)),zn(m)&&(e.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)));return f&&!nr(e)&&c.push(new(Object(i.assert)(Bn,"Reference.ts has not been loaded"),Bn)(t._repo,t._path)),{removed:c,events:l}}function Jn(e){var t,n,r=[];try{for(var o=Object(a.g)(e.views.values()),i=o.next();!i.done;i=o.next()){var s=i.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function Zn(e,t){var n,r,o=null;try{for(var i=Object(a.g)(e.views.values()),s=i.next();!s.done;s=i.next()){var u=s.value;o=o||Vn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}function er(e,t){if(t._queryParams.loadsAllData())return rr(e);var n=t._queryIdentifier;return e.views.get(n)}function tr(e,t){return null!=er(e,t)}function nr(e){return null!=rr(e)}function rr(e){var t,n;try{for(var r=Object(a.g)(e.views.values()),o=r.next();!o.done;o=r.next()){var i=o.value;if(i.query._queryParams.loadsAllData())return i}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var or=1,ir=function(e){this.listenProvider_=e,this.syncPointTree_=new nn(null),this.pendingWriteTree_={visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ar(e,t,n,r,o){return function(e,t,n,r,o){Object(i.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=on(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?pr(e,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sr(e,t,n,r){!function(e,t,n,r){Object(i.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=an(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var o=nn.fromObject(n);return pr(e,new Kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}function ur(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(mn(e.pendingWriteTree_,t)){var o=new nn(null);return null!=r.snap?o=o.set(ge(),!0):M(r.children,(function(e){o=o.set(new me(e),!0)})),pr(e,new qt(r.path,o,n))}return[]}function cr(e,t,n){return pr(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lr(e,t,n,r){var o=t._path,i=e.syncPointTree_.get(o),a=[];if(i&&("default"===t._queryIdentifier||tr(i,t))){var s=Qn(i,t,n,r);0===i.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(o,(function(e,t){return nr(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&nr(t))return[rr(t)];var r=[];return t&&(r=Jn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(f),h=0;h<d.length;++h){var p=d[h],v=p.query,m=gr(e,p);e.listenProvider_.startListening(Er(v),yr(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Er(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(br(t));e.listenProvider_.stopListening(Er(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var o=br(r),i=e.queryToTagMap.get(o);e.queryToTagMap.delete(o),e.tagToQueryMap.delete(i)}}}(e,u)}return a}function fr(e,t,n){var r=t._path,o=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Se(e,r);o=o||Zn(t,n),a=a||nr(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||nr(u),o=o||Zn(u,ge())):(u=new Kn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=o)?s=!0:(s=!1,o=ct.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Zn(t,ge());n&&(o=o.updateImmediateChild(e,n))})));var c=tr(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=br(t);Object(i.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=or++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var d=Xn(u,t,n,vn(e.pendingWriteTree_,r),o,s);if(!c&&!a){var h=er(u,t);d=d.concat(function(e,t,n){var r=t._path,o=yr(e,t),a=gr(e,n),s=e.listenProvider_.startListening(Er(t),o,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(o)Object(i.assert)(!nr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!ke(e)&&t&&nr(t))return[rr(t).query];var r=[];return t&&(r=r.concat(Jn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(Er(f),yr(e,f))}return s}(e,t,h))}return d}function dr(e,t,n){var r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Zn(n,Se(e,t));if(r)return r}));return wn(r,t,o,n,!0)}function hr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var o=Se(e,n);r=r||Zn(t,o)}));var o=e.syncPointTree_.get(n);o?r=r||Zn(o,ge()):(o=new Kn,e.syncPointTree_=e.syncPointTree_.set(n,o));var i=null!=r,a=i?new Yt(r,!0,!1):null;return function(e){return en(e.viewCache_)}($n(o,t,vn(e.pendingWriteTree_,t._path),i?a.getNode():ct.EMPTY_NODE,i))}function pr(e,t){return vr(t,e.syncPointTree_,null,vn(e.pendingWriteTree_,ge()))}function vr(e,t,n,r){if(ke(e.path))return mr(e,t,n,r);var o=t.get(ge());null==n&&null!=o&&(n=Zn(o,ge()));var i=[],a=ye(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Tn(r,a);i=i.concat(vr(s,u,c,l))}return o&&(i=i.concat(Yn(o,e,r,n))),i}function mr(e,t,n,r){var o=t.get(ge());null==n&&null!=o&&(n=Zn(o,ge()));var i=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,s=Tn(r,t),u=e.operationForChild(t);u&&(i=i.concat(mr(u,o,a,s)))})),o&&(i=i.concat(Yn(o,e,r,n))),i}function gr(e,t){var n=t.query,r=yr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ct.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=wr(e,n);if(r){var o=_r(r),i=o.path,a=o.queryId,s=Se(i,t);return xr(e,i,new Ht(zt(a),s))}return[]}(e,n._path,r):function(e,t){return pr(e,new Ht({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var o=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lr(e,n,null,o)}}}function yr(e,t){var n=br(t);return e.queryToTagMap.get(n)}function br(e){return e._path.toString()+"$"+e._queryIdentifier}function wr(e,t){return e.tagToQueryMap.get(t)}function _r(e){var t=e.indexOf("$");return Object(i.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new me(e.substr(0,t))}}function xr(e,t,n){var r=e.syncPointTree_.get(t);return Object(i.assert)(r,"Missing sync point for query tag that we're tracking"),Yn(r,n,vn(e.pendingWriteTree_,t),null)}function Er(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(i.assert)(Gn,"Reference.ts has not been loaded"),Gn)(e._repo,e._path):e}var Cr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),kr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ce(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return dr(this.syncTree_,this.path_)},e}(),Sr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Tr=function(e,t,n){return e&&"object"===typeof e?(Object(i.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Or(e[".sv"],t,n):"object"===typeof e[".sv"]?Ir(e[".sv"],t):void Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Or=function(e,t,n){if("timestamp"===e)return n.timestamp;Object(i.assert)(!1,"Unexpected server value: "+e)},Ir=function(e,t,n){e.hasOwnProperty("increment")||Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(i.assert)(!1,"Unexpected increment value: "+r);var o=t.node();if(Object(i.assert)(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var a=o.getValue();return"number"!==typeof a?r:a+r},Nr=function(e,t,n,r){return Ar(t,new kr(n,e),r)},Rr=function(e,t,n){return Ar(e,new Cr(t),n)};function Ar(e,t,n){var r,o=e.getPriority().val(),i=Tr(o,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Tr(a.getValue(),t,n);return s!==a.getValue()||i!==a.getPriority().val()?new Ze(s,dt(i)):e}var u=e;return r=u,i!==u.getPriority().val()&&(r=r.updatePriority(new Ze(i))),u.forEachChild(rt,(function(e,o){var i=Ar(o,t.getImmediateChild(e),n);i!==o&&(r=r.updateImmediateChild(e,i))})),r}var Pr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Dr(e,t){for(var n=t instanceof me?t:new me(t),r=e,o=ye(n);null!==o;){var a=Object(i.safeGet)(r.node.children,o)||{children:{},childCount:0};r=new Pr(o,r,a),o=ye(n=we(n))}return r}function Mr(e){return e.node.value}function jr(e,t){e.node.value=t,Vr(e)}function Lr(e){return e.node.childCount>0}function Fr(e,t){M(e.node.children,(function(n,r){t(new Pr(n,e,r))}))}function Br(e,t,n,r){n&&!r&&t(e),Fr(e,(function(e){Br(e,t,!0,r)})),n&&r&&t(e)}function Ur(e){return new me(null===e.parent?e.name:Ur(e.parent)+"/"+e.name)}function Vr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Mr(e)&&!Lr(e)}(n),o=Object(i.contains)(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,Vr(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,Vr(e))}(e.parent,e.name,e)}var zr=/[\[\].#$\/\u0000-\u001F\u007F]/,Wr=/[\[\].#$\u0000-\u001F\u007F]/,qr=10485760,Hr=function(e){return"string"===typeof e&&0!==e.length&&!zr.test(e)},Gr=function(e){return"string"===typeof e&&0!==e.length&&!Wr.test(e)},Kr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!T(e)||e&&"object"===typeof e&&Object(i.contains)(e,".sv")},Yr=function(e,t,n,r){r&&void 0===t||$r(Object(i.errorPrefix)(e,"value"),t,n)},$r=function e(t,n,r){var o=r instanceof me?new Ne(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ae(o));if("function"===typeof n)throw new Error(t+"contains a function "+Ae(o)+" with contents = "+n.toString());if(T(n))throw new Error(t+"contains "+n.toString()+" "+Ae(o));if("string"===typeof n&&n.length>qr/3&&Object(i.stringLength)(n)>qr)throw new Error(t+"contains a string greater than "+qr+" utf8 bytes "+Ae(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(M(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Hr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ae(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(i.stringLength)(t),Re(e)}(o,n),e(t,r,o),function(e){var t=e.parts_.pop();e.byteLength_-=Object(i.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(o)})),a&&s)throw new Error(t+' contains ".value" child '+Ae(o)+" in addition to actual children.")}},Xr=function(e,t,n,r){if(!r||void 0!==t){var o=Object(i.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new me(e);if($r(o,t,Ce(n,r)),".priority"===_e(r)&&!Kr(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var o=xe(r=t[n]),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!Hr(o[i]))throw new Error(e+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Te);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ie(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},Qr=function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Kr(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Jr=function(e,t,n,r){if((!r||void 0!==n)&&!Hr(n))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&!Gr(n))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},eo=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zr(e,t,n,r)},to=function(e,t){if(".info"===ye(t))throw new Error(e+" failed = Can't modify data under /.info/")},no=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Hr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Gr(e)}(n))throw new Error(Object(i.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ro=function(){this.eventLists_=[],this.recursionDepth_=0};function oo(e,t){for(var n=null,r=0;r<t.length;r++){var o=t[r],i=o.getPath();null===n||Oe(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function io(e,t,n){oo(e,n),so(e,(function(e){return Oe(e,t)}))}function ao(e,t,n){oo(e,n),so(e,(function(e){return Ie(e,t)||Ie(t,e)}))}function so(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var o=e.eventLists_[r];if(o)t(o.path)?(uo(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function uo(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&x("event: "+n.toString()),V(r)}}}var co="repo_interrupt",lo=25,fo=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ro,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mt(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ho(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pt(e.repoInfo_,(function(t,n,r,o){mo(e,t,n,r,o)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return go(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Le(e.repoInfo_,t,(function(t,n,r,o){mo(e,t,n,r,o)}),(function(t){go(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){yo(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(function(){return new Vt(e.stats_,e.server_)})),e.infoData_=new Dt,e.infoSyncTree_=new ir({startListening:function(t,n,r,o){var i=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(i=cr(e.infoSyncTree_,t._path,a),setTimeout((function(){o("ok")}),0)),i},stopListening:function(){}}),yo(e,"connected",!1),e.serverSyncTree_=new ir({startListening:function(t,n,r,o){return e.server_.listen(t,r,n,(function(n,r){var i=o(n,r);ao(e.eventQueue_,t._path,i)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function po(e){var t=e.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function vo(e){return Sr({timestamp:po(e)})}function mo(e,t,n,r,o){e.dataUpdateCount++;var a=new me(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(o)if(r){var u=Object(i.map)(n,(function(e){return dt(e)}));s=function(e,t,n,r){var o=wr(e,r);if(o){var i=_r(o),a=i.path,s=i.queryId,u=Se(a,t),c=nn.fromObject(n);return xr(e,a,new Kt(zt(s),u,c))}return[]}(e.serverSyncTree_,a,u,o)}else{var c=dt(n);s=function(e,t,n,r){var o=wr(e,r);if(null!=o){var i=_r(o),a=i.path,s=i.queryId,u=Se(a,t);return xr(e,a,new Gt(zt(s),u,n))}return[]}(e.serverSyncTree_,a,c,o)}else if(r){var l=Object(i.map)(n,(function(e){return dt(e)}));s=function(e,t,n){var r=nn.fromObject(n);return pr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=dt(n);s=cr(e.serverSyncTree_,a,f)}var d=a;s.length>0&&(d=Io(e,a)),ao(e.eventQueue_,d,s)}function go(e,t){yo(e,"connected",t),!1===t&&function(e){ko(e,"onDisconnectEvents");var t=vo(e),n=Mt();Ft(e.onDisconnect_,ge(),(function(r,o){var i=Nr(r,o,e.serverSyncTree_,t);jt(n,r,i)}));var r=[];Ft(n,ge(),(function(t,n){r=r.concat(cr(e.serverSyncTree_,t,n));var o=Do(e,t);Io(e,o)})),e.onDisconnect_=Mt(),ao(e.eventQueue_,ge(),r)}(e)}function yo(e,t,n){var r=new me("/.info/"+t),o=dt(n);e.infoData_.updateSnapshot(r,o);var i=cr(e.infoSyncTree_,r,o);ao(e.eventQueue_,r,i)}function bo(e){return e.nextWriteId_++}function wo(e,t,n,r,o){ko(e,"set",{path:t.toString(),value:n,priority:r});var i=vo(e),a=dt(n,r),s=dr(e.serverSyncTree_,t),u=Rr(a,s,i),c=bo(e),l=ar(e.serverSyncTree_,t,u,c,!0);oo(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var i="ok"===n;i||S("set at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,c,!i);ao(e.eventQueue_,t,a),So(e,o,n,r)}));var f=Do(e,t);Io(e,f),ao(e.eventQueue_,f,[])}function _o(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,o){"ok"===r&&Lt(e.onDisconnect_,t),So(e,n,r,o)}))}function xo(e,t,n,r){var o=dt(n);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,i){"ok"===n&&jt(e.onDisconnect_,t,o),So(e,r,n,i)}))}function Eo(e,t,n){var r;r=".info"===ye(t._path)?lr(e.infoSyncTree_,t,n):lr(e.serverSyncTree_,t,n),io(e.eventQueue_,t._path,r)}function Co(e){e.persistentConnection_&&e.persistentConnection_.interrupt(co)}function ko(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,Object(a.f)([r],Object(a.e)(t)))}function So(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),o=e;r&&(o+=": "+r);var i=new Error(o);i.code=e,t(i)}}))}function To(e,t,n){return dr(e.serverSyncTree_,t,n)||ct.EMPTY_NODE}function Oo(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Po(e,t),Mr(t)){var n=Ro(e,t);Object(i.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),o=To(e,t,r),a=o,s=o.hash(),u=0;u<n.length;u++){var c=n[u];Object(i.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Se(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),d=t;e.server_.put(d.toString(),f,(function(r){ko(e,"transaction put response",{path:d.toString(),status:r});var o=[];if("ok"===r){for(var i=[],a=function(t){n[t].status=2,o=o.concat(ur(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Po(e,Dr(e.transactionQueueTree_,t)),Oo(e,e.transactionQueueTree_),ao(e.eventQueue_,t,o);for(s=0;s<i.length;s++)V(i[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{S("transaction at "+d.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Io(e,t)}}),s)}(e,Ur(t),n)}else Lr(t)&&Fr(t,(function(t){Oo(e,t)}))}function Io(e,t){var n=No(e,t),r=Ur(n);return function(e,t,n){if(0===t.length)return;for(var r=[],o=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Se(n,l.path),d=!1;if(Object(i.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,u=l.abortReason,o=o.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=lo)d=!0,u="maxretry",o=o.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else{var h=To(e,l.path,a);l.currentInputSnapshot=h;var p=t[s].update(h.val());if(void 0!==p){$r("transaction failed: Data returned ",p,l.path);var v=dt(p);"object"===typeof p&&null!=p&&Object(i.contains)(p,".priority")||(v=v.updatePriority(h.getPriority()));var m=l.currentWriteId,g=vo(e),y=Rr(v,h,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=bo(e),a.splice(a.indexOf(m),1),o=(o=o.concat(ar(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(ur(e.serverSyncTree_,m,!0))}else d=!0,u="nodata",o=o.concat(ur(e.serverSyncTree_,l.currentWriteId,!0))}ao(e.eventQueue_,n,o),o=[],d&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Po(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);Oo(e,e.transactionQueueTree_)}(e,Ro(e,n),r),r}function No(e,t){var n,r=e.transactionQueueTree_;for(n=ye(t);null!==n&&void 0===Mr(r);)r=Dr(r,n),n=ye(t=we(t));return r}function Ro(e,t){var n=[];return Ao(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ao(e,t,n){var r=Mr(t);if(r)for(var o=0;o<r.length;o++)n.push(r[o]);Fr(t,(function(t){Ao(e,t,n)}))}function Po(e,t){var n=Mr(t);if(n){for(var r=0,o=0;o<n.length;o++)2!==n[o].status&&(n[r]=n[o],r++);n.length=r,jr(t,n.length>0?n:void 0)}Fr(t,(function(t){Po(e,t)}))}function Do(e,t){var n=Ur(No(e,t)),r=Dr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Mo(e,t)})),Mo(e,r),Br(r,(function(t){Mo(e,t)})),n}function Mo(e,t){var n=Mr(t);if(n){for(var r=[],o=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(i.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(i.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(ur(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?jr(t,void 0):n.length=a+1,ao(e.eventQueue_,Ur(t),o);for(s=0;s<r.length;s++)V(r[s])}}var jo=function(e,t){var n=Lo(e),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Q(n.host,n.secure,r,t,o,"",r!==n.subdomain),path:new me(n.pathString)}},Lo=function(e){var t="",n="",r="",o="",i="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(f,d)),f<d&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(i){}t+="/"+o}return t}(e.substring(f,d)));var h=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=Object(a.g)(e.split("&")),i=o.next();!i.done;i=o.next()){var s=i.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:i}},Fo=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.stringify)(this.snapshot.exportVal())},e}(),Bo=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Uo=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Vo=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new i.Deferred;return _o(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){to("OnDisconnect.remove",this._path);var e=new i.Deferred;return xo(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){to("OnDisconnect.set",this._path),Yr("OnDisconnect.set",e,this._path,!1);var t=new i.Deferred;return xo(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){to("OnDisconnect.setWithPriority",this._path),Yr("OnDisconnect.setWithPriority",e,this._path,!1),Qr("OnDisconnect.setWithPriority",t,!1);var n=new i.Deferred;return function(e,t,n,r,o){var i=dt(n,r);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,r){"ok"===n&&jt(e.onDisconnect_,t,i),So(0,o,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){to("OnDisconnect.update",this._path),Xr("OnDisconnect.update",e,this._path,!1);var t=new i.Deferred;return function(e,t,n,r){if(Object(i.isEmpty)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void So(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(o,i){"ok"===o&&M(n,(function(n,r){var o=dt(r);jt(e.onDisconnect_,Ce(t,n),o)})),So(0,r,o,i)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),zo=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ke(this._path)?null:_e(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=At(this._queryParams),t=P(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return At(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(i.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Oe(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return n&&r&&o},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Wo(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function qo(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ve){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==O)throw new Error(r);if("string"!==typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==I)throw new Error(r);if("string"!==typeof n)throw new Error(o)}}else if(e.getIndex()===rt){if(null!=t&&!Kr(t)||null!=n&&!Kr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.assert)(e.getIndex()instanceof ht||e.getIndex()===vt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ho(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Go=function(e){function t(t,n){return e.call(this,t,n,new Tt,!1)||this}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ee(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(zo),Ko=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new me(t),r=Xo(this.ref,t);return new e(this._node.getChild(n),r,rt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,o){return t(new e(o,Xo(n.ref,r),rt))}))},e.prototype.hasChild=function(e){var t=new me(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Yo(e,t){return(e=Object(i.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Xo(e._root,t):e._root}function $o(e,t){(e=Object(i.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=jo(t,e._repo.repoInfo_.nodeAdmin);no("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Yo(e,n.path.toString())}function Xo(e,t){return null===ye((e=Object(i.getModularInstance)(e))._path)?eo("child","path",t,!1):Zr("child","path",t,!1),new Go(e._repo,Ce(e._path,t))}function Qo(e,t){e=Object(i.getModularInstance)(e),to("set",e._path),Yr("set",t,e._path,!1);var n=new i.Deferred;return wo(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Jo(e,t){Xr("update",t,e._path,!1);var n=new i.Deferred;return function(e,t,n,r){ko(e,"update",{path:t.toString(),value:n});var o=!0,i=vo(e),a={};if(M(n,(function(n,r){o=!1,a[n]=Nr(Ce(t,n),dt(r),e.serverSyncTree_,i)})),o)x("update() called with empty data.  Don't do anything."),So(0,r,"ok",void 0);else{var s=bo(e),u=sr(e.serverSyncTree_,t,a,s);oo(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,o){var i="ok"===n;i||S("update at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,s,!i),u=a.length>0?Io(e,t):t;ao(e.eventQueue_,u,a),So(0,r,n,o)})),M(n,(function(n){var r=Do(e,Ce(t,n));Io(e,r)})),ao(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Zo(e){return function(e,t){var n=hr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=dt(n).withIndex(t._queryParams.getIndex()),o=cr(e.serverSyncTree_,t._path,r);return io(e.eventQueue_,t._path,o),Promise.resolve(r)}),(function(n){return ko(e,"get for query "+Object(i.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(i.getModularInstance)(e))._repo,e).then((function(t){return new Ko(t,new Go(e._repo,e._path),e._queryParams.getIndex())}))}var ei=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Fo("value",this,new Ko(e.snapshotNode,new Go(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Bo(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),ti=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Bo(this,e,t):null},e.prototype.createEvent=function(e,t){Object(i.assert)(null!=e.childName,"Child events should have a childName.");var n=Xo(new Go(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Fo(e.type,this,new Ko(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function ni(e,t,n,r,o){var i;if("object"===typeof r&&(i=void 0,o=r),"function"===typeof r&&(i=r),o&&o.onlyOnce){var a=n,s=function(t,n){Eo(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Uo(n,i||void 0),c="value"===t?new ei(u):new ti(t,u);return function(e,t,n){var r;r=".info"===ye(t._path)?fr(e.infoSyncTree_,t,n):fr(e.serverSyncTree_,t,n),io(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Eo(e._repo,e,c)}}function ri(e,t,n,r){return ni(e,"value",t,n,r)}function oi(e,t,n,r){return ni(e,"child_added",t,n,r)}function ii(e,t,n,r){return ni(e,"child_changed",t,n,r)}function ai(e,t,n,r){return ni(e,"child_moved",t,n,r)}function si(e,t,n,r){return ni(e,"child_removed",t,n,r)}function ui(e,t,n){var r=null,o=n?new Uo(n):null;"value"===t?r=new ei(o):t&&(r=new ti(t,o)),Eo(e._repo,e,r)}var ci=function(){},li=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Yr("endAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Ho(t),qo(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zo(e._repo,e._path,t,e._orderByCalled)},t}(ci);var fi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Yr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ve?("string"===typeof t&&(t=bt(t)),r=It(e,t,n)):r=It(e,t,null==n?O:bt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Ho(t),qo(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zo(e._repo,e._path,t,e._orderByCalled)},t}(ci);var di=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Yr("startAt",this._value,e._path,!0);var t=Ot(e._queryParams,this._value,this._key);if(Ho(t),qo(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zo(e._repo,e._path,t,e._orderByCalled)},t}(ci);var hi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Yr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ve?("string"===typeof t&&(t=yt(t)),r=Ot(e,t,n)):r=Ot(e,t,null==n?I:yt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ho(t),qo(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new zo(e._repo,e._path,t,e._orderByCalled)},t}(ci);var pi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new zo(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(ci);var vi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new zo(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(ci);var mi=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){Wo(e,"orderByChild");var t=new me(this._path);if(ke(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ht(t),r=Nt(e._queryParams,n);return qo(r),new zo(e._repo,e._path,r,!0)},t}(ci);var gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){Wo(e,"orderByKey");var t=Nt(e._queryParams,Ve);return qo(t),new zo(e._repo,e._path,t,!0)},t}(ci);var yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){Wo(e,"orderByPriority");var t=Nt(e._queryParams,rt);return qo(t),new zo(e._repo,e._path,t,!0)},t}(ci);var bi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){Wo(e,"orderByValue");var t=Nt(e._queryParams,vt);return qo(t),new zo(e._repo,e._path,t,!0)},t}(ci);var wi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){if(Yr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new li(this._value,this._key)._apply(new di(this._value,this._key)._apply(e))},t}(ci);function _i(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=Object(i.getModularInstance)(e);try{for(var u=Object(a.g)(r),c=u.next();!c.done;c=u.next()){s=c.value._apply(s)}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(i.assert)(!Bn,"__referenceConstructor has already been defined"),Bn=e}(Go),function(e){Object(i.assert)(!Gn,"__referenceConstructor has already been defined"),Gn=e}(Go);var xi="FIREBASE_DATABASE_EMULATOR_HOST",Ei={},Ci=!1;function ki(t,n,r,o,i){var a=o||t.options.databaseURL;void 0===a&&(t.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",t.options.projectId),a=t.options.projectId+"-default-rtdb.firebaseio.com");var s,u=jo(a,i),c=u.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/FYP-FrontEnd",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})[xi]),l?(s=!0,a="http://"+l+"?ns="+c.namespace,c=(u=jo(a,i)).repoInfo):s=!u.repoInfo.secure;var f=i&&s?new H(H.OWNER):new q(t.name,t.options,n);no("Invalid Firebase Database URL",u),ke(u.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var o=Ei[t.name];o||(o={},Ei[t.name]=o);var i=o[e.toURLString()];i&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new fo(e,Ci,n,r),o[e.toURLString()]=i,i}(c,t,f,new W(t.name,r));return new Si(d,t)}var Si=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ho(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Go(this._repo,ge())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Ei[t];n&&n[e.key]===e||k("Database "+t+"("+e.repoInfo_+") has already been deleted."),Co(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&k("Cannot call "+e+" on a deleted database.")},e}();function Ti(e,t,n,r){void 0===r&&(r={}),(e=Object(i.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var o=e._repoInternal,a=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:Object(i.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new H(s)}!function(e,t,n,r){e.repoInfo_=new Q(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(o,t,n,a)}function Oi(e){var t;(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(co)}var Ii={".sv":"timestamp"};var Ni=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Ri(e,t,n){var r;if(e=Object(i.getModularInstance)(e),to("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var o=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new i.Deferred,s=ri(e,(function(){}));return function(e,t,n,r,o,a){ko(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=To(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{$r("transaction failed: Data returned ",c,s.path),s.status=0;var l=Dr(e.transactionQueueTree_,t),f=Mr(l)||[];f.push(s),jr(l,f);var d=void 0;"object"===typeof c&&null!==c&&Object(i.contains)(c,".priority")?(d=Object(i.safeGet)(c,".priority"),Object(i.assert)(Kr(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(dr(e.serverSyncTree_,t)||ct.EMPTY_NODE).getPriority().val();var h=vo(e),p=dt(c,d),v=Rr(p,u,h);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=bo(e);var g=ar(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ao(e.eventQueue_,t,g),Oo(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var o=null;t?a.reject(t):(o=new Ko(r,new Go(e._repo,e._path),rt),a.resolve(new Ni(n,o)))}),s,o),a.promise}var Ai=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(i.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(i.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(i.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(i.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(i.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.validateCallback)("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},e}(),Pi=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(i.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Di=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(i.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(i.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(i.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(i.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Zr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(i.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Zr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(i.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(i.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(i.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(i.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(i.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(i.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ji(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Mi=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,o){var a,s=this;Object(i.validateArgCount)("Query.on",2,4,arguments.length),Object(i.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,o),c=function(e,t){n.call(u.context,new Di(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return ri(this._delegate,c,l),n;case"child_added":return oi(this._delegate,c,l),n;case"child_removed":return si(this._delegate,c,l),n;case"child_changed":return ii(this._delegate,c,l),n;case"child_moved":return ai(this._delegate,c,l),n;default:throw new Error(Object(i.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(i.validateArgCount)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Object(i.validateCallback)("Query.off","callback",t,!0),Object(i.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,ui(this._delegate,e,r)}else ui(this._delegate,e)},e.prototype.get=function(){var e=this;return Zo(this._delegate).then((function(t){return new Di(e.database,t)}))},e.prototype.once=function(t,n,r,o){var a=this;Object(i.validateArgCount)("Query.once",1,4,arguments.length),Object(i.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,o),u=new i.Deferred,c=function(e,t){var r=new Di(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":ri(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":oi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":si(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":ii(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ai(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(i.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(i.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,_i(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pi(e)}(t)))},e.prototype.limitToLast=function(t){return Object(i.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,_i(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vi(e)}(t)))},e.prototype.orderByChild=function(t){return Object(i.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,_i(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zr("orderByChild","path",e,!1),new mi(e)}(t)))},e.prototype.orderByKey=function(){return Object(i.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,_i(this._delegate,new gi))},e.prototype.orderByPriority=function(){return Object(i.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,_i(this._delegate,new yi))},e.prototype.orderByValue=function(){return Object(i.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,_i(this._delegate,new bi))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,_i(this._delegate,function(e,t){return void 0===e&&(e=null),Jr("startAt","key",t,!0),new di(e,t)}(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,_i(this._delegate,function(e,t){return Jr("startAfter","key",t,!0),new hi(e,t)}(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,_i(this._delegate,function(e,t){return Jr("endAt","key",t,!0),new li(e,t)}(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,_i(this._delegate,function(e,t){return Jr("endBefore","key",t,!0),new fi(e,t)}(t,n)))},e.prototype.equalTo=function(t,n){return Object(i.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,_i(this._delegate,function(e,t){return Jr("equalTo","key",t,!0),new wi(e,t)}(t,n)))},e.prototype.toString=function(){return Object(i.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(i.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(i.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,Object(i.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(i.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new ji(this.database,new Go(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ji=function(e){function t(t,n){var r=e.call(this,t,new zo(n._repo,n._path,new Tt,!1))||this;return r.database=t,r._delegate=n,r}return Object(a.c)(t,e),t.prototype.getKey=function(){return Object(i.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(i.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Xo(this._delegate,e))},t.prototype.getParent=function(){Object(i.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(i.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(i.validateArgCount)("Reference.set",1,2,arguments.length),Object(i.validateCallback)("Reference.set","onComplete",t,!0);var n=Qo(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(i.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}to("Reference.update",this._delegate._path),Object(i.validateCallback)("Reference.update","onComplete",t,!0);var o=Jo(this._delegate,e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},t.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(to("setWithPriority",e._path),Yr("setWithPriority",t,e._path,!1),Qr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new i.Deferred;return wo(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(i.validateArgCount)("Reference.remove",0,1,arguments.length),Object(i.validateCallback)("Reference.remove","onComplete",e,!0);var t=function(e){return to("remove",e._path),Qo(e,null)}(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(i.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(i.validateCallback)("Reference.transaction","transactionUpdate",e,!1),Object(i.validateCallback)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(i.errorPrefix)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var o=Ri(this._delegate,e,{applyLocally:n}).then((function(e){return new Pi(e.committed,new Di(r.database,e.snapshot))}));return t&&o.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),o},t.prototype.setPriority=function(e,t){Object(i.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(i.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=Object(i.getModularInstance)(e),to("setPriority",e._path),Qr("setPriority",t,!1);var n=new i.Deferred;return wo(e._repo,Ce(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(i.validateArgCount)("Reference.push",0,2,arguments.length),Object(i.validateCallback)("Reference.push","onComplete",n,!0);var o=function(e,t){e=Object(i.getModularInstance)(e),to("push",e._path),Yr("push",t,e._path,!0);var n,r=po(e._repo),o=gt(r),a=Xo(e,o),s=Xo(e,o);return n=null!=t?Qo(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=o.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,o);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return to("Reference.onDisconnect",this._delegate._path),new Ai(new Vo(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Mi),Li=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Ti(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(i.validateArgCount)("database.ref",0,1,arguments.length),e instanceof ji){var t=$o(this._delegate,e.toString());return new ji(this,t)}t=Yo(this._delegate,e);return new ji(this,t)},e.prototype.refFromURL=function(e){Object(i.validateArgCount)("database.refFromURL",1,1,arguments.length);var t=$o(this._delegate,e);return new ji(this,t)},e.prototype.goOffline=function(){return Object(i.validateArgCount)("database.goOffline",0,0,arguments.length),e=this._delegate,(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOffline"),void Co(e._repo);var e},e.prototype.goOnline=function(){return Object(i.validateArgCount)("database.goOnline",0,0,arguments.length),Oi(this._delegate)},e.ServerValue={TIMESTAMP:Ii,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Fi=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),ie.forceAllow()},forceWebSockets:function(){ie.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Ut(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,o=e.length;o<r+2;o++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new o.Provider("auth-internal",new o.ComponentContainer("database-standalone"));return l.setComponent(new o.Component("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Li(ki(t,l,void 0,n,u),t),namespace:a}}}),Bi=Le;Le.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Le.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ui=le,Vi=Q,zi=Object.freeze({__proto__:null,DataConnection:Bi,RealTimeConnection:Ui,hijackHash:function(e){var t=Le.prototype.put;return Le.prototype.put=function(n,r,o,i){void 0!==i&&(i=e()),t.call(this,n,r,o,i)},function(){Le.prototype.put=t}},ConnectionTarget:Vi,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Ci=e}(e)}}),Wi=Li.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new o.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Li(ki(r,o,i,n),r)}),"PUBLIC").setServiceProps({Reference:ji,Query:Mi,Database:Li,DataSnapshot:Di,enableLogging:_,INTERNAL:Fi,ServerValue:Wi,TEST_ACCESS:zi}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),Object(i.isNodeSdk)()&&(t.exports=n)}(r.default)}).call(this,n(66),n(144)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(13),o=n(25),i=n(146),a=n(4),s=n(24);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),d=new a.ErrorFactory("appCheck","AppCheck",f),h=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function m(e){return h.get(e)||p}function g(e,t){h.set(e,t)}function y(){return v}var b="https://content-firebaseappcheck.googleapis.com/v1beta",w="exchangeDebugToken",_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},x=function(){function e(e,t,n,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function E(){return self.grecaptcha}function C(e){if(!m(e).activated)throw d.create("use-before-activation",{appName:e.name})}function k(e){return a.base64.encodeString(JSON.stringify(e),!1)}function S(e,t){var n=e.url,r=e.body;return i.__awaiter(this,void 0,void 0,(function(){var e,o,a,s,u,c,l,f,h,p;return i.__generator(this,(function(i){switch(i.label){case 0:e={"Content-Type":"application/json"},(o=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=i.sent(),[3,4];case 3:throw u=i.sent(),d.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw d.create("fetch-status-error",{httpStatus:s.status});i.label=5;case 5:return i.trys.push([5,7,,8]),[4,s.json()];case 6:return c=i.sent(),[3,8];case 7:throw l=i.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return h=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+h,issuedAtTimeMillis:p}]}}))}))}function T(e,t){var n=e.options,r=n.projectId,o=n.appId,i=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+o+":exchangeRecaptchaToken?key="+i,body:{recaptcha_token:t}}}function O(e,t){var n=e.options,r=n.projectId,o=n.appId,i=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+o+":"+w+"?key="+i,body:{debug_token:t}}}var I="firebase-app-check-database",N=1,R="firebase-app-check-store",A="debug-token",P=null;function D(){return P||(P=new Promise((function(e,t){try{var n=indexedDB.open(I,N);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(d.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(R,{keyPath:"compositeKey"})}}catch(r){t(d.create("storage-open",{originalErrorMessage:r.message}))}})),P)}function M(e){return L(F(e))}function j(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,D()];case 1:return n=i.sent(),r=n.transaction(R,"readwrite"),o=r.objectStore(R),a=o.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(d.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,D()];case 1:return t=i.sent(),n=t.transaction(R,"readonly"),r=n.objectStore(R),o=r.get(e),[2,new Promise((function(e,t){o.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(d.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function F(e){return e.options.appId+"-"+e.name}var B=new s.Logger("@firebase/app-check");function U(e,t){return a.isIndexedDBAvailable()?function(e,t){return j(F(e),t)}(e,t).catch((function(e){B.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function V(){return i.__awaiter(this,void 0,void 0,(function(){var e,t;return i.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,L(A)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,j(A,r)).catch((function(e){return B.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function z(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var W={error:"UNKNOWN_ERROR"};function q(e,t,n){return void 0===n&&(n=!1),i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u,c,l,f,d,h;return i.__generator(this,(function(p){switch(p.label){case 0:return C(e),r=m(e),o=r.token,a=void 0,o?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&Y(s)&&(o=s,g(e,i.__assign(i.__assign({},r),{token:o})),K(e,{token:o.token})),p.label=2;case 2:return!n&&o&&Y(o)?[2,{token:o.token}]:y().enabled?(c=S,l=O,f=[e],[4,z()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,U(e,u)];case 5:return p.sent(),g(e,i.__assign(i.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return o=p.sent(),[3,9];case 8:return d=p.sent(),B.error(d),a=d,[3,9];case 9:return o?[3,10]:(h=function(e){return{token:k(W),error:e}}(a),[3,12]);case 10:return h={token:o.token},g(e,i.__assign(i.__assign({},r),{token:o})),[4,U(e,o)];case 11:p.sent(),p.label=12;case 12:return K(e,h),[2,h]}}))}))}function H(e,t,n,r,o){var a=m(e),s={next:r,error:o,type:n},u=i.__assign(i.__assign({},a),{tokenObservers:i.__spreadArray(i.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new x((function(){return i.__awaiter(n,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return m(e).token?[3,2]:[4,q(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,q(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=m(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),_.RETRIAL_MIN_WAIT,_.RETRIAL_MAX_WAIT)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&Y(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&Y(e)&&r({token:e.token})})).catch((function(){}));g(e,u)}function G(e,t){var n=m(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),g(e,i.__assign(i.__assign({},n),{tokenObservers:r}))}function K(e,t){for(var n=0,r=m(e).tokenObservers;n<r.length;n++){var o=r[n];try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(i){}}}function Y(e){return e.expireTimeMillis-Date.now()>0}var $="https://www.google.com/recaptcha/api.js";function X(e,t){var n=m(e),r=new a.Deferred;g(e,i.__assign(i.__assign({},n),{reCAPTCHAState:{initialized:r}}));var o="fire_app_check_"+e.name,s=document.createElement("div");s.id=o,s.style.display="none",document.body.appendChild(s);var u=E();return u?u.ready((function(){J(e,t,u,o),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+$,t.onload=e,document.head.appendChild(t)}((function(){var n=E();if(!n)throw new Error("no recaptcha");n.ready((function(){J(e,t,n,o),r.resolve(n)}))})),r.promise}function Q(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return C(e),[4,m(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var o=m(e).reCAPTCHAState;t.ready((function(){n(t.execute(o.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function J(e,t,n,r){var o=n.render(r,{sitekey:t,size:"invisible"}),a=m(e);g(e,i.__assign(i.__assign({},a),{reCAPTCHAState:i.__assign(i.__assign({},a.reCAPTCHAState),{widgetId:o})}))}var Z=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw d.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Q(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),d.create("recaptcha-error");case 4:return[2,S(T(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,X(e,this._siteKey).catch((function(){}))},e}(),ee=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n;return i.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw d.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,i.__assign(i.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function te(e,t,n,r){var o=m(e);if(o.activated)throw d.create("already-activated",{appName:e.name});var s=i.__assign(i.__assign({},o),{activated:!0});s.cachedTokenPromise=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,M(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),B.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&Y(t)&&g(e,i.__assign(i.__assign({},m(e)),{token:t})),t})),s.provider="string"===typeof t?new Z(t):t instanceof Z||t instanceof ee?t:new ee({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,g(e,s),s.provider.initialize(e,n)}function ne(e,t){return{app:e,activate:function(n,r){return te(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=m(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),g(e,i.__assign(i.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(o){switch(o.label){case 0:return[4,q(e,t,n)];case 1:if((r=o.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,o){return function(e,t,n,r,o){var i=function(){},a=function(){};return i=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),H(e,t,"EXTERNAL",i,a),function(){return G(e,i)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++){var r=n[t];G(e,r.next)}return Promise.resolve()}}}}var re="app-check-internal";!function(e){e.INTERNAL.registerComponent(new o.Component("appCheck",(function(e){return ne(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:Z,CustomProvider:ee}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(re).initialize()}))),e.INTERNAL.registerComponent(new o.Component(re,(function(e){return function(e,t){return{getToken:function(n){return q(e,t,n)},addTokenListener:function(n){return H(e,t,"INTERNAL",n)},removeTokenListener:function(t){return G(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(V())}}()},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__esDecorate",(function(){return c})),n.d(t,"__runInitializers",(function(){return l})),n.d(t,"__propKey",(function(){return f})),n.d(t,"__setFunctionName",(function(){return d})),n.d(t,"__metadata",(function(){return h})),n.d(t,"__awaiter",(function(){return p})),n.d(t,"__generator",(function(){return v})),n.d(t,"__createBinding",(function(){return m})),n.d(t,"__exportStar",(function(){return g})),n.d(t,"__values",(function(){return y})),n.d(t,"__read",(function(){return b})),n.d(t,"__spread",(function(){return w})),n.d(t,"__spreadArrays",(function(){return _})),n.d(t,"__spreadArray",(function(){return x})),n.d(t,"__await",(function(){return E})),n.d(t,"__asyncGenerator",(function(){return C})),n.d(t,"__asyncDelegator",(function(){return k})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return T})),n.d(t,"__importStar",(function(){return I})),n.d(t,"__importDefault",(function(){return N})),n.d(t,"__classPrivateFieldGet",(function(){return R})),n.d(t,"__classPrivateFieldSet",(function(){return A})),n.d(t,"__classPrivateFieldIn",(function(){return P})),n.d(t,"__addDisposableResource",(function(){return D})),n.d(t,"__disposeResources",(function(){return j}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,h=n.length-1;h>=0;h--){var p={};for(var v in r)p[v]="access"===v?{}:r[v];for(var v in r.access)p.access[v]=r.access[v];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,n[h])("accessor"===u?{get:f.get,set:f.set}:f[c],p);if("accessor"===u){if(void 0===m)continue;if(null===m||"object"!==typeof m)throw new TypeError("Object expected");(s=a(m.get))&&(f.get=s),(s=a(m.set))&&(f.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===u?o.unshift(s):f[c]=s)}l&&Object.defineProperty(l,r.name,f),d=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function f(e){return"symbol"===typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function v(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var m=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function g(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function y(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function x(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function C(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof E?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function k(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return O(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function A(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function P(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function D(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function j(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(i){t(i)}}if(e.hasError)throw e.error}()}t.default={__extends:o,__assign:i,__rest:a,__decorate:s,__param:u,__metadata:h,__awaiter:p,__generator:v,__createBinding:m,__exportStar:g,__values:y,__read:b,__spread:w,__spreadArrays:_,__spreadArray:x,__await:E,__asyncGenerator:C,__asyncDelegator:k,__asyncValues:S,__makeTemplateObject:T,__importStar:I,__importDefault:N,__classPrivateFieldGet:R,__classPrivateFieldSet:A,__classPrivateFieldIn:P,__addDisposableResource:D,__disposeResources:j}},function(e,t,n){"use strict";n(65);var r=n(1),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:a.current}}t.jsx=c,t.jsxs=c},,function(e,t,n){"use strict";var r=n(150);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(153)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return x(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||x(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===b||e.$$typeof===w||e.$$typeof===_||e.$$typeof===y)},t.typeOf=x},function(e,t,n){"use strict";e.exports=n(155)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return x(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||x(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===b||e.$$typeof===w||e.$$typeof===_||e.$$typeof===y)},t.typeOf=x},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=16383,s=0,u=n-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(160),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(38))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},u.clearImmediate=c}function c(e){delete i[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(38),n(66))},,,,function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,i,a){var s=o||"<<anonymous>>",u=a||r;if(null==n[r])return t?new Error("Required "+i+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,i,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){"use strict";var r=60103,o=60106,i=60107,a=60108,s=60114,u=60109,c=60110,l=60112,f=60113,d=60120,h=60115,p=60116,v=60121,m=60122,g=60117,y=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),o=w("react.portal"),i=w("react.fragment"),a=w("react.strict_mode"),s=w("react.profiler"),u=w("react.provider"),c=w("react.context"),l=w("react.forward_ref"),f=w("react.suspense"),d=w("react.suspense_list"),h=w("react.memo"),p=w("react.lazy"),v=w("react.block"),m=w("react.server.block"),g=w("react.fundamental"),y=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case f:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case h:case u:return e;default:return t}}case o:return t}}}var x=u,E=r,C=l,k=i,S=p,T=h,O=o,I=s,N=a,R=f;t.ContextConsumer=c,t.ContextProvider=x,t.Element=E,t.ForwardRef=C,t.Fragment=k,t.Lazy=S,t.Memo=T,t.Portal=O,t.Profiler=I,t.StrictMode=N,t.Suspense=R,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===l},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===p},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===y||e===a||e===f||e===d||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===l||e.$$typeof===g||e.$$typeof===v||e[0]===m)},t.typeOf=_},function(e,t,n){"use strict";var r=n(65),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;o=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case i:u=!0}}if(u)return a=a(u=e),e=""===r?"."+S(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),T(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=T(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+S(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(h(321));return e}var A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var r=n(169);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){t=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],o=e.length;for(n=0;n<o;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function g(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function y(e){var t=p(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],w=!1;function _(e,t){var n,r,o,i=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)c(o=t[r=b[n]])||(e[r]=o);return e}function x(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function E(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var o,i,a,u=[],c=arguments.length;for(i=0;i<c;i++){if(o="","object"===typeof arguments[i]){for(a in o+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];u.push(o)}C(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,T={};function O(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(C(t),T[e]=!0)}function I(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)s(e,n)&&(I(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=h({},r[n]));return r}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return I(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function U(e,t,n,r){var o=r;"string"===typeof r&&(o=function(){return this[r]()}),e&&(B[e]=o),t&&(B[t[0]]=function(){return M(o.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(j);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=V(r[t]);return function(t){var o,i="";for(o=0;o<n;o++)i+=I(r[o])?r[o].call(t,e):r[o];return i}}function W(e,t){return e.isValid()?(t=q(t,e.localeData()),F[t]=F[t]||z(t),F[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(j).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var $="%d",X=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var o=this._relativeTime[n];return I(o)?o(e,t,n,r):o.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return I(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function oe(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ie={};function ae(e,t){ie[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return I(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=oe(e)),o=r.length;for(n=0;n<o;n++)this[r[n].unit](e[r[n].unit])}else if(I(this[e=re(e)]))return this[e](t);return this}var me,ge=/\d/,ye=/\d\d/,be=/\d{3}/,we=/\d{4}/,_e=/[+-]?\d{6}/,xe=/\d\d?/,Ee=/\d\d\d\d?/,Ce=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Se=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Oe=/\d+/,Ie=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,Re=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){me[e]=I(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(je(e))}function je(e){return Le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o})))}function Le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Fe={};function Be(e,t){var n,r,o=t;for("string"===typeof e&&(e=[e]),l(t)&&(o=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=o}function Ue(e,t){Be(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function Ve(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var ze,We=0,qe=1,He=2,Ge=3,Ke=4,Ye=5,$e=6,Xe=7,Qe=8;function Je(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}ze=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),De("M",xe),De("MM",xe,ye),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Be(["M","MM"],(function(e,t){t[qe]=le(e)-1})),Be(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[qe]=o:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,ot=Pe;function it(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function at(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=ze.call(this._shortMonthsParse,a))?o:null:-1!==(o=ze.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=ze.call(this._shortMonthsParse,a))||-1!==(o=ze.call(this._longMonthsParse,a))?o:null:-1!==(o=ze.call(this._longMonthsParse,a))||-1!==(o=ze.call(this._shortMonthsParse,a))?o:null}function ut(e,t,n){var r,o,i;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ft(){return Ze(this.year(),this.month())}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=Le(r[t]),o[t]=Le(o[t]);for(t=0;t<24;t++)i[t]=Le(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}U("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),De("Y",Ie),De("YY",xe,ye),De("YYYY",Se,we),De("YYYYY",Te,_e),De("YYYYYY",Te,_e),Be(["YYYYY","YYYYYY"],We),Be("YYYY",(function(e,t){t[We]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Be("YY",(function(e,t){t[We]=r.parseTwoDigitYear(e)})),Be("Y",(function(e,t){t[We]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function gt(){return ue(this.year())}function yt(e,t,n,r,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,i,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,o);return s<=0?a=vt(i=e-1)+s:s>vt(e)?(i=e+1,a=s-vt(e)):(i=e,a=s),{year:i,dayOfYear:a}}function xt(e,t,n){var r,o,i=wt(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+Et(o=e.year()-1,t,n):a>Et(e.year(),t,n)?(r=a-Et(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function Et(e,t,n){var r=wt(e,t,n),o=wt(e+1,t,n);return(vt(e)-r+o)/7}function Ct(e){return xt(e,this._week.dow,this._week.doy).week}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),De("w",xe),De("ww",xe,ye),De("W",xe),De("WW",xe,ye),Ue(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var kt={dow:0,doy:6};function St(){return this._week.dow}function Tt(){return this._week.doy}function Ot(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function It(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Nt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Rt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),De("d",xe),De("e",xe),De("E",xe),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ue(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:m(n).invalidWeekday=e})),Ue(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jt=Pe,Lt=Pe,Ft=Pe;function Bt(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?At(n,this._week.dow):e?n[e.day()]:n}function Ut(e){return!0===e?At(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Vt(e){return!0===e?At(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zt(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=ze.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ze.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=ze.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=ze.call(this._weekdaysParse,a))||-1!==(o=ze.call(this._shortWeekdaysParse,a))||-1!==(o=ze.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ze.call(this._shortWeekdaysParse,a))||-1!==(o=ze.call(this._weekdaysParse,a))||-1!==(o=ze.call(this._minWeekdaysParse,a))?o:null:-1!==(o=ze.call(this._minWeekdaysParse,a))||-1!==(o=ze.call(this._weekdaysParse,a))||-1!==(o=ze.call(this._shortWeekdaysParse,a))?o:null}function Wt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return zt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Rt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=jt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $t(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Le(this.weekdaysMin(n,"")),o=Le(this.weekdaysShort(n,"")),i=Le(this.weekdays(n,"")),a.push(r),s.push(o),u.push(i),c.push(r),c.push(o),c.push(i);a.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Qt),U("k",["kk",2],0,Jt),U("hmm",0,0,(function(){return""+Qt.apply(this)+M(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+Qt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),ae("hour",13),De("a",en),De("A",en),De("H",xe),De("h",xe),De("k",xe),De("HH",xe,ye),De("hh",xe,ye),De("kk",xe,ye),De("hmm",Ee),De("hmmss",Ce),De("Hmm",Ee),De("Hmmss",Ce),Be(["H","HH"],Ge),Be(["k","kk"],(function(e,t,n){var r=le(e);t[Ge]=24===r?0:r})),Be(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Be(["h","hh"],(function(e,t,n){t[Ge]=le(e),m(n).bigHour=!0})),Be("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),m(n).bigHour=!0})),Be("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(o)),m(n).bigHour=!0})),Be("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),Be("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(o))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:P,longDateFormat:H,invalidDate:K,ordinal:$,dayOfMonthOrdinalParse:X,relativeTime:J,months:et,monthsShort:tt,week:kt,weekdays:Pt,weekdaysMin:Mt,weekdaysShort:Dt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=fn(e[i]).split("-")).length,n=(n=fn(e[i+1]))?n.split("-"):null;t>0;){if(r=pn(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(o,n)>=t-1)break;t--}i++}return an}function hn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&"undefined"!==typeof e&&e&&e.exports&&hn(t))try{n=an._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?yn(e):mn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function mn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new A(R(r,t)),cn[e]&&cn[e].forEach((function(e){mn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function gn(e,t){if(null!=t){var n,r,o=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(R(un[e]._config,t)):(null!=(r=pn(e))&&(o=r._config),t=R(o,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!i(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function bn(){return S(un)}function wn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[qe]<0||n[qe]>11?qe:n[He]<1||n[He]>Ze(n[We],n[qe])?He:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ke]||0!==n[Ye]||0!==n[$e])?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[$e]<0||n[$e]>999?$e:-1,m(e)._overflowDayOfYear&&(t<We||t>He)&&(t=He),m(e)._overflowWeeks&&-1===t&&(t=Xe),m(e)._overflowWeekday&&-1===t&&(t=Qe),m(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,On={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function In(e){var t,n,r,o,i,a,s=e._i,u=_n.exec(s)||xn.exec(s),c=Cn.length,l=kn.length;if(u){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(Cn[t][1].exec(u[1])){o=Cn[t][0],r=!1!==Cn[t][2];break}if(null==o)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(kn[t][1].exec(u[3])){i=(u[2]||" ")+kn[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(u[4]){if(!En.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),Vn(e)}else e._isValid=!1}function Nn(e,t,n,r,o,i){var a=[Rn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}function Rn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return On[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}function Mn(e){var t,n=Tn.exec(An(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function jn(e){var t=Sn.exec(e._i);null===t?(In(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,o,i,a=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[He]&&null==e._a[qe]&&Un(e),null!=e._dayOfYear&&(i=Ln(e._a[We],r[We]),(e._dayOfYear>vt(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=bt(i,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[$e]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?bt:yt).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==o&&(m(e).weekdayMismatch=!0)}}function Un(e){var t,n,r,o,i,a,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,a=4,n=Ln(t.GG,e._a[We],xt($n(),1,4).year),r=Ln(t.W,1),((o=Ln(t.E,1))<1||o>7)&&(u=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,c=xt($n(),i,a),n=Ln(t.gg,e._a[We],c.year),r=Ln(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(u=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(u=!0)):o=i),r<1||r>Et(n,i,a)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=_t(n,r,o,i,a),e._a[We]=s.year,e._dayOfYear=s.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,o,i,a,s,u,c=""+e._i,l=c.length,f=0;for(u=(o=q(e._f,e._locale).match(j)||[]).length,t=0;t<u;t++)i=o[t],(n=(c.match(Me(i,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),f+=n.length),B[i]?(n?m(e).empty=!1:m(e).unusedTokens.push(i),Ve(i,n,e)):e._strict&&!n&&m(e).unusedTokens.push(i);m(e).charsLeftOver=l-f,c.length>0&&m(e).unusedInput.push(c),e._a[Ge]<=12&&!0===m(e).bigHour&&e._a[Ge]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ge]=zn(e._locale,e._a[Ge],e._meridiem),null!==(s=m(e).era)&&(e._a[We]=e._locale.erasConvertYear(s,e._a[We])),Bn(e),wn(e)}else Mn(e);else In(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Wn(e){var t,n,r,o,i,a,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<u;o++)i=0,a=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Vn(t),g(t)&&(a=!0),i+=m(t).charsLeftOver,i+=10*m(t).unusedTokens.length,m(t).score=i,s?i<r&&(r=i,n=t):(null==r||i<r||a)&&(r=i,n=t,a&&(s=!0));h(e,n||t)}function qn(e){if(!e._d){var t=oe(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bn(e)}}function Hn(e){var t=new x(wn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new x(wn(t)):(f(t)?e._d=t:i(n)?Wn(e):n?Vn(e):Kn(e),g(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?jn(e):i(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Bn(e)):a(t)?qn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,o){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=e,s._f=t,s._strict=r,Hn(s)}function $n(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Xn=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=$n.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Qn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=$n.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return $n();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,o=nr.length;for(t in e)if(s(e,t)&&(-1===ze.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<o;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function or(){return this._isValid}function ir(){return Or(NaN)}function ar(e){var t=oe(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function sr(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&a++;return a+i}function lr(e,t){U(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),De("Z",Re),De("ZZ",Re),Be(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=dr(Re,e)}));var fr=/([\+\-]|\d\d)/gi;function dr(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(E(e)||f(e)?e.valueOf():$n(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):$n(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=dr(Re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=pr(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Pr(this,Or(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=dr(Ne,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?$n(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):$n(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Or(e,t){var n,r,o,i=e,a=null;return sr(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=Sr.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:le(a[He])*n,h:le(a[Ge])*n,m:le(a[Ke])*n,s:le(a[Ye])*n,ms:le(ur(1e3*a[$e]))*n}):(a=Tr.exec(e))?(n="-"===a[1]?-1:1,i={y:Ir(a[2],n),M:Ir(a[3],n),w:Ir(a[4],n),d:Ir(a[5],n),h:Ir(a[6],n),m:Ir(a[7],n),s:Ir(a[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(o=Rr($n(i.from),$n(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new ar(i),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Ir(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Rr(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Pr(this,Or(n,r),e),this}}function Pr(e,t,n,o){var i=t._milliseconds,a=ur(t._days),s=ur(t._months);e.isValid()&&(o=null==o||o,s&&ct(e,de(e,"Month")+s*n),a&&he(e,"Date",de(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,a||s))}Or.fn=ar.prototype,Or.invalid=ir;var Dr=Ar(1,"add"),Mr=Ar(-1,"subtract");function jr(e){return"string"===typeof e||e instanceof String}function Lr(e){return E(e)||f(e)||jr(e)||l(e)||Br(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=a(e)&&!u(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=i.length;for(t=0;t<c;t+=1)n=i[t],o=o||s(e,n);return r&&o}function Br(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&jr(e)})).length),t&&n}function Ur(e){var t,n,r=a(e)&&!u(e),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)n=i[t],o=o||s(e,n);return r&&o}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Ur(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||$n(),o=hr(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",a=t&&(I(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,$n(n)))}function Wr(){return new x(this)}function qr(e,t){var n=E(e)?e:$n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=E(e)?e:$n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var o=E(e)?e:$n(e),i=E(t)?t:$n(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))}function Kr(e,t){var n,r=E(e)?e:$n(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $r(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Xr(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":i=Qr(this,r)/12;break;case"month":i=Qr(this,r);break;case"quarter":i=Qr(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:ce(i)}function Qr(e,t){if(e.date()<t.date())return-Qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,o="moment",i="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=i+'[")]',this.format(e+t+n+r)}function to(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function no(e,t){return this.isValid()&&(E(e)&&e.isValid()||$n(e).isValid())?Or({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ro(e){return this.from($n(),e)}function oo(e,t){return this.isValid()&&(E(e)&&e.isValid()||$n(e).isValid())?Or({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function io(e){return this.to($n(),e)}function ao(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var so=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function uo(){return this._locale}var co=1e3,lo=60*co,fo=60*lo,ho=3506328*fo;function po(e,t){return(e%t+t)%t}function vo(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ho:new Date(e,t,n).valueOf()}function mo(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ho:Date.UTC(e,t,n)}function go(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mo:vo,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=po(t+(this._isUTC?0:this.utcOffset()*lo),fo);break;case"minute":t=this._d.valueOf(),t-=po(t,lo);break;case"second":t=this._d.valueOf(),t-=po(t,co)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yo(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mo:vo,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fo-po(t+(this._isUTC?0:this.utcOffset()*lo),fo)-1;break;case"minute":t=this._d.valueOf(),t+=lo-po(t,lo)-1;break;case"second":t=this._d.valueOf(),t+=co-po(t,co)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function bo(){return this._d.valueOf()-6e4*(this._offset||0)}function wo(){return Math.floor(this.valueOf()/1e3)}function _o(){return new Date(this.valueOf())}function xo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Eo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Co(){return this.isValid()?this.toISOString():null}function ko(){return g(this)}function So(){return h({},m(this))}function To(){return m(this).overflow}function Oo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Io(e,t){var n,o,i,a=this._eras||yn("en")._eras;for(n=0,o=a.length;n<o;++n)switch("string"===typeof a[n].since&&(i=r(a[n].since).startOf("day"),a[n].since=i.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=r(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf()}return a}function No(e,t,n){var r,o,i,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,o=u.length;r<o;++r)if(i=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(i===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([i,a,s].indexOf(e)>=0)return u[r]}function Ro(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ao(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Po(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Do(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Mo(){var e,t,n,o,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return(this.year()-r(i[e].since).year())*n+i[e].offset;return this.year()}function jo(e){return s(this,"_erasNameRegex")||Wo.call(this),e?this._erasNameRegex:this._erasRegex}function Lo(e){return s(this,"_erasAbbrRegex")||Wo.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fo(e){return s(this,"_erasNarrowRegex")||Wo.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bo(e,t){return t.erasAbbrRegex(e)}function Uo(e,t){return t.erasNameRegex(e)}function Vo(e,t){return t.erasNarrowRegex(e)}function zo(e,t){return t._eraYearOrdinalRegex||Oe}function Wo(){var e,t,n=[],r=[],o=[],i=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(Le(a[e].name)),n.push(Le(a[e].abbr)),o.push(Le(a[e].narrow)),i.push(Le(a[e].name)),i.push(Le(a[e].abbr)),i.push(Le(a[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function qo(e,t){U(0,[e,e.length],0,t)}function Ho(e){return Qo.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Go(e){return Qo.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ko(){return Et(this.year(),1,4)}function Yo(){return Et(this.isoWeekYear(),1,4)}function $o(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Xo(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Qo(e,t,n,r,o){var i;return null==e?xt(this,r,o).year:(t>(i=Et(e,r,o))&&(t=i),Jo.call(this,e,t,n,r,o))}function Jo(e,t,n,r,o){var i=_t(e,t,n,r,o),a=bt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Zo(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),De("N",Bo),De("NN",Bo),De("NNN",Bo),De("NNNN",Uo),De("NNNNN",Vo),Be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?m(n).era=o:m(n).invalidEra=e})),De("y",Oe),De("yy",Oe),De("yyy",Oe),De("yyyy",Oe),De("yo",zo),Be(["y","yy","yyy","yyyy"],We),Be(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[We]=n._locale.eraYearOrdinalParse(e,o):t[We]=parseInt(e,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qo("gggg","weekYear"),qo("ggggg","weekYear"),qo("GGGG","isoWeekYear"),qo("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),De("G",Ie),De("g",Ie),De("GG",xe,ye),De("gg",xe,ye),De("GGGG",Se,we),De("gggg",Se,we),De("GGGGG",Te,_e),De("ggggg",Te,_e),Ue(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ue(["gg","GG"],(function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),De("Q",ge),Be("Q",(function(e,t){t[qe]=3*(le(e)-1)})),U("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),De("D",xe),De("DD",xe,ye),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Be(["D","DD"],He),Be("Do",(function(e,t){t[He]=le(e.match(xe)[0])}));var ei=fe("Date",!0);function ti(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}U("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),De("DDD",ke),De("DDDD",be),Be(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),U("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),De("m",xe),De("mm",xe,ye),Be(["m","mm"],Ke);var ni=fe("Minutes",!1);U("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),De("s",xe),De("ss",xe,ye),Be(["s","ss"],Ye);var ri,oi,ii=fe("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),De("S",ke,ge),De("SS",ke,ye),De("SSS",ke,be),ri="SSSS";ri.length<=9;ri+="S")De(ri,Oe);function ai(e,t){t[$e]=le(1e3*("0."+e))}for(ri="S";ri.length<=9;ri+="S")Be(ri,ai);function si(){return this._isUTC?"UTC":""}function ui(){return this._isUTC?"Coordinated Universal Time":""}oi=fe("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var ci=x.prototype;function li(e){return $n(1e3*e)}function fi(){return $n.apply(null,arguments).parseZone()}function di(e){return e}ci.add=Dr,ci.calendar=zr,ci.clone=Wr,ci.diff=Xr,ci.endOf=yo,ci.format=to,ci.from=no,ci.fromNow=ro,ci.to=oo,ci.toNow=io,ci.get=pe,ci.invalidAt=To,ci.isAfter=qr,ci.isBefore=Hr,ci.isBetween=Gr,ci.isSame=Kr,ci.isSameOrAfter=Yr,ci.isSameOrBefore=$r,ci.isValid=ko,ci.lang=so,ci.locale=ao,ci.localeData=uo,ci.max=Qn,ci.min=Xn,ci.parsingFlags=So,ci.set=ve,ci.startOf=go,ci.subtract=Mr,ci.toArray=xo,ci.toObject=Eo,ci.toDate=_o,ci.toISOString=Zr,ci.inspect=eo,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ci[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ci.toJSON=Co,ci.toString=Jr,ci.unix=wo,ci.valueOf=bo,ci.creationData=Oo,ci.eraName=Ao,ci.eraNarrow=Po,ci.eraAbbr=Do,ci.eraYear=Mo,ci.year=mt,ci.isLeapYear=gt,ci.weekYear=Ho,ci.isoWeekYear=Go,ci.quarter=ci.quarters=Zo,ci.month=lt,ci.daysInMonth=ft,ci.week=ci.weeks=Ot,ci.isoWeek=ci.isoWeeks=It,ci.weeksInYear=$o,ci.weeksInWeekYear=Xo,ci.isoWeeksInYear=Ko,ci.isoWeeksInISOWeekYear=Yo,ci.date=ei,ci.day=ci.days=qt,ci.weekday=Ht,ci.isoWeekday=Gt,ci.dayOfYear=ti,ci.hour=ci.hours=rn,ci.minute=ci.minutes=ni,ci.second=ci.seconds=ii,ci.millisecond=ci.milliseconds=oi,ci.utcOffset=vr,ci.utc=gr,ci.local=yr,ci.parseZone=br,ci.hasAlignedHourOffset=wr,ci.isDST=_r,ci.isLocal=Er,ci.isUtcOffset=Cr,ci.isUtc=kr,ci.isUTC=kr,ci.zoneAbbr=si,ci.zoneName=ui,ci.dates=k("dates accessor is deprecated. Use date instead.",ei),ci.months=k("months accessor is deprecated. Use month instead",lt),ci.years=k("years accessor is deprecated. Use year instead",mt),ci.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),ci.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var hi=A.prototype;function pi(e,t,n,r){var o=yn(),i=p().set(r,t);return o[n](i,e)}function vi(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return pi(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=pi(e,r,n,"month");return o}function mi(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var o,i=yn(),a=e?i._week.dow:0,s=[];if(null!=n)return pi(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=pi(t,(o+a)%7,r,"day");return s}function gi(e,t){return vi(e,t,"months")}function yi(e,t){return vi(e,t,"monthsShort")}function bi(e,t,n){return mi(e,t,n,"weekdays")}function wi(e,t,n){return mi(e,t,n,"weekdaysShort")}function _i(e,t,n){return mi(e,t,n,"weekdaysMin")}hi.calendar=D,hi.longDateFormat=G,hi.invalidDate=Y,hi.ordinal=Q,hi.preparse=di,hi.postformat=di,hi.relativeTime=Z,hi.pastFuture=ee,hi.set=N,hi.eras=Io,hi.erasParse=No,hi.erasConvertYear=Ro,hi.erasAbbrRegex=Lo,hi.erasNameRegex=jo,hi.erasNarrowRegex=Fo,hi.months=it,hi.monthsShort=at,hi.monthsParse=ut,hi.monthsRegex=ht,hi.monthsShortRegex=dt,hi.week=Ct,hi.firstDayOfYear=Tt,hi.firstDayOfWeek=St,hi.weekdays=Bt,hi.weekdaysMin=Vt,hi.weekdaysShort=Ut,hi.weekdaysParse=Wt,hi.weekdaysRegex=Kt,hi.weekdaysShortRegex=Yt,hi.weekdaysMinRegex=$t,hi.isPM=tn,hi.meridiem=on,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",yn);var xi=Math.abs;function Ei(){var e=this._data;return this._milliseconds=xi(this._milliseconds),this._days=xi(this._days),this._months=xi(this._months),e.milliseconds=xi(e.milliseconds),e.seconds=xi(e.seconds),e.minutes=xi(e.minutes),e.hours=xi(e.hours),e.months=xi(e.months),e.years=xi(e.years),this}function Ci(e,t,n,r){var o=Or(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function ki(e,t){return Ci(this,e,t,1)}function Si(e,t){return Ci(this,e,t,-1)}function Ti(e){return e<0?Math.floor(e):Math.ceil(e)}function Oi(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,u=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*Ti(Ni(s)+a),a=0,s=0),u.milliseconds=i%1e3,e=ce(i/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,a+=ce(n/24),s+=o=ce(Ii(a)),a-=Ti(Ni(o)),r=ce(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Ii(e){return 4800*e/146097}function Ni(e){return 146097*e/4800}function Ri(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ii(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ni(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ai(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Pi(e){return function(){return this.as(e)}}var Di=Pi("ms"),Mi=Pi("s"),ji=Pi("m"),Li=Pi("h"),Fi=Pi("d"),Bi=Pi("w"),Ui=Pi("M"),Vi=Pi("Q"),zi=Pi("y");function Wi(){return Or(this)}function qi(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Hi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Gi=Hi("milliseconds"),Ki=Hi("seconds"),Yi=Hi("minutes"),$i=Hi("hours"),Xi=Hi("days"),Qi=Hi("months"),Ji=Hi("years");function Zi(){return ce(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function ra(e,t,n,r){var o=Or(e).abs(),i=ea(o.as("s")),a=ea(o.as("m")),s=ea(o.as("h")),u=ea(o.as("d")),c=ea(o.as("M")),l=ea(o.as("w")),f=ea(o.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||l<=1&&["w"]||l<n.w&&["ww",l]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,na.apply(null,d)}function oa(e){return void 0===e?ea:"function"===typeof e&&(ea=e,!0)}function ia(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=ta;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(o=e),"object"===typeof t&&(i=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=ra(this,!o,i,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function ua(e){return(e>0)-(e<0)||+e}function ca(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,a,s,u=sa(this._milliseconds)/1e3,c=sa(this._days),l=sa(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",o=f<0?"-":"",i=ua(this._months)!==ua(f)?"-":"",a=ua(this._days)!==ua(f)?"-":"",s=ua(this._milliseconds)!==ua(f)?"-":"",o+"P"+(n?i+n+"Y":"")+(l?i+l+"M":"")+(c?a+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var la=ar.prototype;return la.isValid=or,la.abs=Ei,la.add=ki,la.subtract=Si,la.as=Ri,la.asMilliseconds=Di,la.asSeconds=Mi,la.asMinutes=ji,la.asHours=Li,la.asDays=Fi,la.asWeeks=Bi,la.asMonths=Ui,la.asQuarters=Vi,la.asYears=zi,la.valueOf=Ai,la._bubble=Oi,la.clone=Wi,la.get=qi,la.milliseconds=Gi,la.seconds=Ki,la.minutes=Yi,la.hours=$i,la.days=Xi,la.weeks=Zi,la.months=Qi,la.years=Ji,la.humanize=aa,la.toISOString=ca,la.toString=ca,la.toJSON=ca,la.locale=ao,la.localeData=uo,la.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ca),la.lang=so,U("X",0,0,"unix"),U("x",0,0,"valueOf"),De("x",Ie),De("X",Ae),Be("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Be("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",o($n),r.fn=ci,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=li,r.months=gi,r.isDate=f,r.locale=vn,r.invalid=y,r.duration=Or,r.isMoment=E,r.weekdays=bi,r.parseZone=fi,r.localeData=yn,r.isDuration=sr,r.monthsShort=yi,r.weekdaysMin=_i,r.defineLocale=mn,r.updateLocale=gn,r.locales=bn,r.weekdaysShort=wi,r.normalizeUnits=re,r.relativeTimeRounding=oa,r.relativeTimeThreshold=ia,r.calendarFormat=Vr,r.prototype=ci,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(171)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(2),o=n(65),i=n(105);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,C=60107,k=60108,S=60114,T=60109,O=60110,I=60112,N=60113,R=60120,A=60115,P=60116,D=60121,M=60128,j=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;x=B("react.element"),E=B("react.portal"),C=B("react.fragment"),k=B("react.strict_mode"),S=B("react.profiler"),T=B("react.provider"),O=B("react.context"),I=B("react.forward_ref"),N=B("react.suspense"),R=B("react.suspense_list"),A=B("react.memo"),P=B("react.lazy"),D=B("react.block"),B("react.scope"),M=B("react.opaque.id"),j=B("react.debug_trace_mode"),L=B("react.offscreen"),F=B("react.legacy_hidden")}var U,V="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function W(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function G(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case S:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return K(e.type);case D:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var xe=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Oe=null;function Ie(e){if(e=no(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=oo(t),Se(e.stateNode,e.type,t))}}function Ne(e){Te?Oe?Oe.push(e):Oe=[e]:Te=e}function Re(){if(Te){var e=Te,t=Oe;if(Oe=Te=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ae(e,t){return e(t)}function Pe(e,t,n,r,o){return e(t,n,r,o)}function De(){}var Me=Ae,je=!1,Le=!1;function Fe(){null===Te&&null===Oe||(De(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Ue=!1}function ze(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,qe=null,He=!1,Ge=null,Ke={onError:function(e){We=!0,qe=e}};function Ye(e,t,n,r,o,i,a,s,u){We=!1,qe=null,ze.apply(Ke,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Qe(o),e;if(i===r)return Qe(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,ot=!1,it=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=ht(t,n,r,o,i),null!==t&&(null!==(t=no(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function mt(e){var t=to(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=no(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=no(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Ct={},kt={};function St(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Ct[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=St("animationend"),Ot=St("animationiteration"),It=St("animationstart"),Nt=St("transitionend"),Rt=new Map,At=new Map,Pt=["abort","abort",Tt,"animationEnd",Ot,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),At.set(r,t),Rt.set(r,o),c(o,[r])}}(0,i.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Lt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,o=Mt=15;else if(0!==(i=134217727&n)){var u=i&~a;0!==u?(r=jt(u),o=Mt):0!==(s&=i)&&(r=jt(s),o=Mt)}else 0!==(i=n&~a)?(r=jt(i),o=Mt):0!==s&&(r=jt(s),o=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(jt(t),o<=Mt)return t;Mt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Wt(t)),r|=e[n],t&=~o;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Ht|0)|0},qt=Math.log,Ht=Math.LN2;var Gt=i.unstable_UserBlockingPriority,Kt=i.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){je||De();var o=Qt,i=je;je=!0;try{Pe(o,e,t,n,r)}finally{(je=i)||Fe()}}function Xt(e,t,n,r){Kt(Gt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var o;if(Yt)if((o=0===(4&t))&&0<it.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var i=Jt(e,t,n,r);if(null===i)o&&pt(e,r);else{if(o){if(-1<dt.indexOf(e))return e=ht(i,e,t,n,r),void it.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return at=vt(at,e,t,n,r,o),!0;case"dragenter":return st=vt(st,e,t,n,r,o),!0;case"mouseover":return ut=vt(ut,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ct.set(i,vt(ct.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,lt.set(i,vt(lt.get(i)||null,e,t,n,r,o)),!0}return!1}(i,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var o=ke(r);if(null!==(o=to(o))){var i=$e(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=Xe(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Dr(e,t,r,o,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),hn=o({},fn,{view:0,detail:0}),pn=sn(hn),vn=o({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),gn=sn(o({},vn,{dataTransfer:0})),yn=sn(o({},hn,{relatedTarget:0})),bn=sn(o({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=o({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),xn=sn(o({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Sn}var On=o({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(On),Nn=sn(o({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(o({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(o({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=o({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Ln=null;f&&"documentMode"in document&&(Ln=document.documentMode);var Fn=f&&"TextEvent"in window&&!Ln,Bn=f&&(!jn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ne(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Or(e,0)}function Qn(e){if(Q(ro(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",or),$n=Yn=null)}function or(e){if("value"===e.propertyName&&Qn($n)){var t=[];if(Kn(t,$n,e,ke(e)),e=Xn,je)e(t);else{je=!0;try{Ae(e,t)}finally{je=!1,Fe()}}}}function ir(e,t,n){"focusin"===e?(rr(),$n=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function sr(e,t){if("click"===e)return Qn(t)}function ur(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)At.set(Er[Cr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,u,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(a(198));var l=qe;We=!1,qe=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Tr(o,s,c),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Tr(o,s,c),i=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ir(e,t){var n=io(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){Sr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;o|=2,i=r}var a=io(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),Pr(i,e,o,t),a.add(s))}function Pr(e,t,n,r){var o=At.get(t);switch(void 0===o?2:o){case 0:o=$t;break;case 1:o=Xt;break;default:o=Qt}n=o.bind(null,t,n,e),o=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=to(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Le)return e(t,n);Le=!0;try{return Me(e,t,n)}finally{Le=!1,Fe()}}((function(){var r=i,o=ke(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Tt:case Ot:case It:u=bn;break;case Nt:u=An;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Be(p,d))&&l.push(Mr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!to(c)&&!c[Zr])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?to(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ro(u),h=null==c?s:ro(c),(s=new l(v,p+"leave",u,n,o)).target=f,s.relatedTarget=h,v=null,to(o)===r&&((l=new l(d,p+"enter",c,n,o)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Lr(h))p++;for(h=0,v=d;v;v=Lr(v))h++;for(;0<p-h;)l=Lr(l),p--;for(;0<h-p;)d=Lr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Lr(l),d=Lr(d)}l=null}else l=null;null!==u&&Fr(a,s,u,l,!1),null!==c&&null!==f&&Fr(a,f,c,l,!0)}if("select"===(u=(s=r?ro(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Gn(s))if(Zn)m=ur;else{m=ar;var g=ir}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Kn(a,m,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&oe(s,"number",s.value)),g=r?ro(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(yr=g,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(a,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(a,n,o)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=nn()):(en="value"in(Zt=o)?Zt.value:Zt.textContent,qn=!0)),0<(g=jr(r,b)).length&&(b=new xn(b,e,null,n,o),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!jn&&zn(e,t)?(e=nn(),tn=en=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Or(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Be(e,n))&&r.unshift(Mr(e,i,o)),null!=(i=Be(e,t))&&r.push(Mr(e,i,o))),e=e.return}return r}function Lr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=Be(n,i))&&a.unshift(Mr(n,u,s)):o||null!=(u=Be(n,i))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Ur=null,Vr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Xr,Jr="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,eo="__reactEvents$"+Xr;function to(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Qr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function no(e){return!(e=e[Qr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ro(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oo(e){return e[Jr]||null}function io(e){var t=e[eo];return void 0===t&&(t=e[eo]=new Set),t}var ao=[],so=-1;function uo(e){return{current:e}}function co(e){0>so||(e.current=ao[so],ao[so]=null,so--)}function lo(e,t){so++,ao[so]=e.current,e.current=t}var fo={},ho=uo(fo),po=uo(!1),vo=fo;function mo(e,t){var n=e.type.contextTypes;if(!n)return fo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function go(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yo(){co(po),co(ho)}function bo(e,t,n){if(ho.current!==fo)throw Error(a(168));lo(ho,t),lo(po,n)}function wo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,K(t)||"Unknown",i));return o({},n,r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,vo=ho.current,lo(ho,e),lo(po,po.current),!0}function xo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wo(e,t,vo),r.__reactInternalMemoizedMergedChildContext=e,co(po),co(ho),lo(ho,e)):co(po),lo(po,n)}var Eo=null,Co=null,ko=i.unstable_runWithPriority,So=i.unstable_scheduleCallback,To=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,Io=i.unstable_requestPaint,No=i.unstable_now,Ro=i.unstable_getCurrentPriorityLevel,Ao=i.unstable_ImmediatePriority,Po=i.unstable_UserBlockingPriority,Do=i.unstable_NormalPriority,Mo=i.unstable_LowPriority,jo=i.unstable_IdlePriority,Lo={},Fo=void 0!==Io?Io:function(){},Bo=null,Uo=null,Vo=!1,zo=No(),Wo=1e4>zo?No:function(){return No()-zo};function qo(){switch(Ro()){case Ao:return 99;case Po:return 98;case Do:return 97;case Mo:return 96;case jo:return 95;default:throw Error(a(332))}}function Ho(e){switch(e){case 99:return Ao;case 98:return Po;case 97:return Do;case 96:return Mo;case 95:return jo;default:throw Error(a(332))}}function Go(e,t){return e=Ho(e),ko(e,t)}function Ko(e,t,n){return e=Ho(e),So(e,t,n)}function Yo(){if(null!==Uo){var e=Uo;Uo=null,To(e)}$o()}function $o(){if(!Vo&&null!==Bo){Vo=!0;var e=0;try{var t=Bo;Go(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bo=null}catch(n){throw null!==Bo&&(Bo=Bo.slice(e+1)),So(Ao,Yo),n}finally{Vo=!1}}}var Xo=_.ReactCurrentBatchConfig;function Qo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Jo=uo(null),Zo=null,ei=null,ti=null;function ni(){ti=ei=Zo=null}function ri(e){var t=Jo.current;co(Jo),e.type._context._currentValue=t}function oi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ii(e,t){Zo=e,ti=ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function ai(e,t){if(ti!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ti=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ei){if(null===Zo)throw Error(a(308));ei=t,Zo.dependencies={lanes:0,firstContext:t,responders:null}}else ei=ei.next=t;return e._currentValue}var si=!1;function ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ci(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function di(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var i=e.updateQueue;si=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=i.baseState,s=0,f=l=c=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,d,u):p)||void 0===u)break e;d=o({},d,u);break e;case 2:si=!0}}null!==a.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=i.shared.pending))break;a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Vs|=s,e.lanes=s,e.memoizedState=d}}function pi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var vi=(new r.Component).refs;function mi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),o=hu(e),i=li(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),o=hu(e),i=li(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),o=li(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),fi(e,o),pu(e,r,n)}};function yi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(o,i))}function bi(e,t,n){var r=!1,o=fo,i=t.contextType;return"object"===typeof i&&null!==i?i=ai(i):(o=go(t)?vo:ho.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?mo(e,o):fo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function _i(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=vi,ui(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=ai(i):(i=go(t)?vo:ho.current,o.context=mo(e,i)),hi(e,n,o,r),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gi.enqueueReplaceState(o,o.state,null),hi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var xi=Array.isArray;function Ei(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===vi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ci(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ki(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Ei(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=Ei(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=Ei(e,null,t),n.return=e,n;case E:return(t=Qu(t,e.mode,n)).return=e,t}if(xi(t)||z(t))return(t=Yu(t,e.mode,n,null)).return=e,t;Ci(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?n.type===C?f(e,t,n.props.children,r,o):c(e,t,n,r):null;case E:return n.key===o?l(e,t,n,r):null}if(xi(n)||z(n))return null!==o?null:f(e,t,n,r,null);Ci(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===C?f(t,e,r.props.children,o,r.key):c(t,e,r,o);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(xi(r)||z(r))return f(t,e=e.get(n)||null,r,o,null);Ci(t,r)}return null}function v(o,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(o,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(o,f),a=i(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(o,f),c;if(null===f){for(;v<s.length;v++)null!==(f=d(o,s[v],u))&&(a=i(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(o,f);v<s.length;v++)null!==(m=p(f,o,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=i(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(o,e)})),c}function m(o,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(o,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(o,v),s=i(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(o,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(o,y.value,c))&&(s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(o,v);!y.done;m++,y=u.next())null!==(y=p(v,o,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(o,e)})),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===C&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case x:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(i.type===C){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=Ei(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===C?((r=Yu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Ku(i.type,i.key,i.props,null,e.mode,u)).ref=Ei(e,r,i),u.return=e,e=u)}return s(e);case E:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qu(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Xu(i,e.mode,u)).return=e,e=r),s(e);if(xi(i))return v(e,r,i,u);if(z(i))return m(e,r,i,u);if(l&&Ci(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Si=ki(!0),Ti=ki(!1),Oi={},Ii=uo(Oi),Ni=uo(Oi),Ri=uo(Oi);function Ai(e){if(e===Oi)throw Error(a(174));return e}function Pi(e,t){switch(lo(Ri,t),lo(Ni,e),lo(Ii,Oi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}co(Ii),lo(Ii,t)}function Di(){co(Ii),co(Ni),co(Ri)}function Mi(e){Ai(Ri.current);var t=Ai(Ii.current),n=he(t,e.type);t!==n&&(lo(Ni,e),lo(Ii,n))}function ji(e){Ni.current===e&&(co(Ii),co(Ni))}var Li=uo(0);function Fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=null,Ui=null,Vi=!1;function zi(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qi(e){if(Vi){var t=Ui;if(t){var n=t;if(!Wi(e,t)){if(!(t=Kr(n.nextSibling))||!Wi(e,t))return e.flags=-1025&e.flags|2,Vi=!1,void(Bi=e);zi(Bi,n)}Bi=e,Ui=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Vi=!1,Bi=e}}function Hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bi=e}function Gi(e){if(e!==Bi)return!1;if(!Vi)return Hi(e),Vi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Ui;t;)zi(e,t),t=Kr(t.nextSibling);if(Hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ui=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ui=null}}else Ui=Bi?Kr(e.stateNode.nextSibling):null;return!0}function Ki(){Ui=Bi=null,Vi=!1}var Yi=[];function $i(){for(var e=0;e<Yi.length;e++)Yi[e]._workInProgressVersionPrimary=null;Yi.length=0}var Xi=_.ReactCurrentDispatcher,Qi=_.ReactCurrentBatchConfig,Ji=0,Zi=null,ea=null,ta=null,na=!1,ra=!1;function oa(){throw Error(a(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,o,i){if(Ji=i,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=null===e||null===e.memoizedState?Aa:Pa,e=n(r,o),ra){i=0;do{if(ra=!1,!(25>i))throw Error(a(301));i+=1,ta=ea=null,t.updateQueue=null,Xi.current=Da,e=n(r,o)}while(ra)}if(Xi.current=Ra,t=null!==ea&&null!==ea.next,Ji=0,ta=ea=Zi=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zi.memoizedState=ta=e:ta=ta.next=e,ta}function ua(){if(null===ea){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zi.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zi.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=s=i=null,c=o;do{var l=c.lane;if((Ji&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,Zi.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==o);null===u?i=r:u.next=s,cr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);cr(i,t.memoizedState)||(ja=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Ji&e)===e)&&(t._workInProgressVersionPrimary=r,Yi.push(t))),e)return n(t._source);throw Yi.push(t),Error(a(350))}function ha(e,t,n,r){var o=Ps;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),u=Xi.current,c=u.useState((function(){return da(o,t,n)})),l=c[1],f=c[0];c=ta;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Zi;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=hu(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,a=e;0<a;){var u=31-Wt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(m);o.mutableReadLanes|=r&o.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=l=Na.bind(null,Zi,e),c.queue=e,c.baseQueue=null,f=da(o,t,n),c.memoizedState=c.baseState=f),f}function pa(e,t,n){return ha(ua(),e,t,n)}function va(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Na.bind(null,Zi,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zi.updateQueue)?(t={lastEffect:null},Zi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ya(){return ua().memoizedState}function ba(e,t,n,r){var o=sa();Zi.flags|=e,o.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var o=ua();r=void 0===r?null:r;var i=void 0;if(null!==ea){var a=ea.memoizedState;if(i=a.destroy,null!==r&&ia(r,a.deps))return void ma(t,n,i,r)}Zi.flags|=e,o.memoizedState=ma(1|t,n,i,r)}function _a(e,t){return ba(516,4,e,t)}function xa(e,t){return wa(516,4,e,t)}function Ea(e,t){return wa(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ca.bind(null,t,e),n)}function Sa(){}function Ta(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=qo();Go(98>n?98:n,(function(){e(!0)})),Go(97<n?97:n,(function(){var n=Qi.transition;Qi.transition=1;try{e(!1),t()}finally{Qi.transition=n}}))}function Na(e,t,n){var r=du(),o=hu(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Zi||null!==a&&a===Zi)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(i.eagerReducer=a,i.eagerState=u,cr(u,s))return}catch(c){}pu(e,o,r)}}var Ra={readContext:ai,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Aa={readContext:ai,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ai,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,Zi,e),[r.memoizedState,e]},useRef:ga,useState:va,useDebugValue:Sa,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return _a((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ga(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(Vi){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&Zi.mode)&&(Zi.flags|=516,ma(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return va(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:ai,useCallback:Ta,useContext:ai,useEffect:xa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Oa,useReducer:la,useRef:ya,useState:function(){return la(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return xa((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ai,useCallback:Ta,useContext:ai,useEffect:xa,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Oa,useReducer:fa,useRef:ya,useState:function(){return fa(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return xa((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ma=_.ReactCurrentOwner,ja=!1;function La(e,t,n,r){t.child=null===e?Ti(t,null,n,r):Si(t,e.child,n,r)}function Fa(e,t,n,r,o){n=n.render;var i=t.ref;return ii(t,o),r=aa(e,t,n,r,i,o),null===e||ja?(t.flags|=1,La(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function Ba(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,o,i))}return a=e.child,0===(o&i)&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(o,r)&&e.ref===t.ref)?is(e,t,i):(t.flags|=1,(e=Gu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ua(e,t,n,r,o,i){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(ja=!1,0===(i&o))return t.lanes=e.lanes,is(e,t,i);0!==(16384&e.flags)&&(ja=!0)}return Wa(e,t,n,r,i)}function Va(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return La(e,t,o,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,o){var i=go(n)?vo:ho.current;return i=mo(t,i),ii(t,o),n=aa(e,t,n,r,i,o),null===e||ja?(t.flags|=1,La(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function qa(e,t,n,r,o){if(go(n)){var i=!0;_o(t)}else i=!1;if(ii(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bi(t,n,r),_i(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ai(c):c=mo(t,c=go(n)?vo:ho.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wi(t,a,r,c),si=!1;var d=t.memoizedState;a.state=d,hi(t,r,a,o),u=t.memoizedState,s!==r||d!==u||po.current||si?("function"===typeof l&&(mi(t,n,l,r),u=t.memoizedState),(s=si||yi(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ci(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qo(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ai(u):u=mo(t,u=go(n)?vo:ho.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wi(t,a,r,u),si=!1,d=t.memoizedState,a.state=d,hi(t,r,a,o);var p=t.memoizedState;s!==f||d!==p||po.current||si?("function"===typeof h&&(mi(t,n,h,r),p=t.memoizedState),(c=si||yi(t,n,c,r,d,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,i,o)}function Ha(e,t,n,r,o,i){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return o&&xo(t,n,!1),is(e,t,i);r=t.stateNode,Ma.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,s,i)):La(e,t,s,i),t.memoizedState=r.state,o&&xo(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bo(0,t.context,!1),Pi(e,t.containerInfo)}var Ka,Ya,$a,Xa,Qa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,o=t.pendingProps,i=Li.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),lo(Li,1&i),null===e?(void 0!==o.fallback&&qi(t),e=o.children,i=o.fallback,a?(e=Za(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"===typeof o.unstable_expectedLoadTime?(e=Za(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=ts(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,o):(n=es(e,t,o.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=$u(t,o,0,null),n=Yu(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function es(e,t,n,r){var o=e.child;return e=o.sibling,n=Gu(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(a,s),null!==e?r=Gu(e,r):(r=Yu(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),oi(e.return,t)}function rs(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function os(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(La(e,t,r.children,n),0!==(2&(r=Li.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lo(Li,r),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Fi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),rs(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Fi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}rs(t,!0,n,null,i,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return go(t.type)&&yo(),null;case 3:return Di(),co(po),co(ho),$i(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Gi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ya(t),null;case 5:ji(t);var i=Ai(Ri.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ai(Ii.current),Gi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Jr]=s,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Ir(kr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,s),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ir("invalid",r);break;case"textarea":ue(r,s),Ir("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe.html&&(e=de(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Jr]=r,Ka(e,t,!1,!1),t.stateNode=e,c=Ce(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),i=r;break;case"iframe":case"object":case"embed":Ir("load",e),i=r;break;case"video":case"audio":for(i=0;i<kr.length;i++)Ir(kr[i],e);i=r;break;case"source":Ir("error",e),i=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),i=r;break;case"details":Ir("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),Ir("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ue(e,r),i=se(e,r),Ir("invalid",e);break;default:i=r}Ee(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ir("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Br)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ai(Ri.current),Ai(Ii.current),Gi(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return co(Li),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Gi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Li.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ps||0===(134217727&Vs)&&0===(134217727&zs)||yu(Ps,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Di(),Ya(t),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ri(t),null;case 19:if(co(Li),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fi(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lo(Li,1&Li.current|2),t.child}e=e.sibling}null!==r.tail&&Wo()>Gs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fi(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wo()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wo(),n.sibling=null,t=Li.current,lo(Li,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:go(e.type)&&yo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Di(),co(po),co(ho),$i(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return ji(e),null;case 13:return co(Li),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return co(Li),null;case 4:return Di(),null;case 10:return ri(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(){},$a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ai(Ii.current);var a,s=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(f in Ee(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ir("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Qs=r),ls(0,t)},n}function hs(e,t,n){(n=li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return ls(0,t),r(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(Lu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=we("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Co&&"function"===typeof Co.onCommitFiberUnmount)try{Co.onCommitFiberUnmount(Eo,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!==(4&r))Lu(t,n);else{r=t;try{o()}catch(i){Uu(r,i)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Uu(t,i)}break;case 5:vs(t);break;case 4:ks(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Cs(e,n,t)}function Es(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Cs(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Cs(e,t,n),e=e.sibling;null!==e;)Cs(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var s=e,u=o,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(bs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,o),t=Ce(e,r),o=0;o<i.length;o+=2){var s=i[o],u=i[o+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?ae(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Wo(),ys(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,Ns=_.ReactCurrentDispatcher,Rs=_.ReactCurrentOwner,As=0,Ps=null,Ds=null,Ms=0,js=0,Ls=uo(0),Fs=0,Bs=null,Us=0,Vs=0,zs=0,Ws=0,qs=null,Hs=0,Gs=1/0;function Ks(){Gs=Wo()+500}var Ys,$s=null,Xs=!1,Qs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],ou=null,iu=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&As)?Wo():-1!==su?su:su=Wo()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qo()?1:2;if(0===uu&&(uu=Us),0!==Xo.transition){0!==cu&&(cu=null!==qs?qs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qo(),0!==(4&As)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<iu)throw iu=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Ps&&(zs|=t,4===Fs&&yu(e,Ms));var r=qo();1===t?0!==(8&As)&&0===(48&As)?bu(e):(mu(e,n),0===As&&(Ks(),Yo())):(0===(4&As)||98!==r&&99!==r||(null===ou?ou=new Set([e]):ou.add(e)),mu(e,n)),qs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&o)){l=t,jt(c);var f=Mt;i[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Lt(e,e===Ps?Ms:0),t=Mt,0===r)null!==n&&(n!==Lo&&To(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Lo&&To(n)}15===t?(n=bu.bind(null,e),null===Bo?(Bo=[n],Uo=So(Ao,$o)):Bo.push(n),n=Lo):14===t?n=Ko(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ko(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(a(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=Lt(e,e===Ps?Ms:0);if(0===n)return null;var r=n,o=As;As|=16;var i=Su();for(Ps===e&&Ms===r||(Ks(),Cu(e,r));;)try{Iu();break}catch(u){ku(e,u)}if(ni(),Ns.current=i,As=o,null!==Ds?r=0:(Ps=null,Ms=0,r=Fs),0!==(Us&zs))Cu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tu(e,n))),1===r)throw t=Bs,Cu(e,0),yu(e,n),mu(e,Wo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Au(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Hs+500-Wo())){if(0!==Lt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=qr(Au.bind(null,e),r);break}Au(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Wt(n);i=1<<s,(s=r[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Wo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=qr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(a(329))}}return mu(e,Wo()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Ws,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(a(327));if(Mu(),e===Ps&&0!==(e.expiredLanes&Ms)){var t=Ms,n=Tu(e,t);0!==(Us&zs)&&(n=Tu(e,t=Lt(e,t)))}else n=Tu(e,t=Lt(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tu(e,t))),1===n)throw n=Bs,Cu(e,0),yu(e,t),mu(e,Wo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),mu(e,Wo()),null}function wu(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Ks(),Yo())}}function _u(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Ks(),Yo())}}function xu(e,t){lo(Ls,js),js|=t,Us|=t}function Eu(){js=Ls.current,co(Ls)}function Cu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yo();break;case 3:Di(),co(po),co(ho),$i();break;case 5:ji(r);break;case 4:Di();break;case 13:case 19:co(Li);break;case 10:ri(r);break;case 23:case 24:Eu()}n=n.return}Ps=e,Ds=Gu(e.current,null),Ms=js=Us=t,Fs=0,Bs=null,Ws=zs=Vs=0}function ku(e,t){for(;;){var n=Ds;try{if(ni(),Xi.current=Ra,na){for(var r=Zi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}na=!1}if(Ji=0,ta=ea=Zi=null,ra=!1,Rs.current=null,null===n||null===n.return){Fs=1,Bs=t,Ds=null;break}e:{var i=e,a=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Li.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=li(-1,1);y.tag=2,fi(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Vu.bind(null,i,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),d=a;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,di(d,ds(0,i,t));break e;case 1:i=u;var _=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,di(d,hs(d,i,t));break e}}d=d.return}while(null!==d)}Ru(n)}catch(E){t=E,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Su(){var e=Ns.current;return Ns.current=Ra,null===e?Ra:e}function Tu(e,t){var n=As;As|=16;var r=Su();for(Ps===e&&Ms===t||Cu(e,t);;)try{Ou();break}catch(o){ku(e,o)}if(ni(),As=n,Ns.current=r,null!==Ds)throw Error(a(261));return Ps=null,Ms=0,Fs}function Ou(){for(;null!==Ds;)Nu(Ds)}function Iu(){for(;null!==Ds&&!Oo();)Nu(Ds)}function Nu(e){var t=Ys(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Au(e){var t=qo();return Go(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Mu()}while(null!==eu);if(0!==(48&As))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-Wt(i),l=1<<c;o[c]=0,s[c]=-1,u[c]=-1,i&=~l}if(null!==ou&&0===(24&r)&&ou.has(e)&&ou.delete(e),e===Ps&&(Ds=Ps=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=As,As|=32,Rs.current=null,Ur=Yt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==i&&3!==m.nodeType||(d=f+i),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===i&&(d=f),g===c&&++v===l&&(h=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(S){if(null===$s)throw Error(a(330));Uu($s,S),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ge($s.stateNode,""),128&b){var w=$s.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Ss($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ss($s.alternate,$s);break;case 4:Ss($s.alternate,$s);break;case 8:ks(s,u=$s);var x=u.alternate;ws(u),null!==x&&ws(x)}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));Uu($s,S),$s=$s.nextEffect}}while(null!==$s);if(_=Vr,w=vr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!_.extend&&x>s&&(u=s,s=x,x=u),u=hr(b,x),i=hr(b,s),u&&i&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==i.node||_.focusOffset!==i.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),x>s?(_.addRange(w),_.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Yt=!!Ur,Vr=Ur=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var E=$s.flags;if(36&E&&gs(b,$s.alternate,$s),128&E){w=void 0;var C=$s.ref;if(null!==C){var k=$s.stateNode;$s.tag,w=k,"function"===typeof C?C(w):C.current=w}}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));Uu($s,S),$s=$s.nextEffect}}while(null!==$s);$s=null,Fo(),As=o}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((E=$s).sibling=null,E.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?iu++:(iu=0,au=e):iu=0,n=n.stateNode,Co&&"function"===typeof Co.onCommitFiberRoot)try{Co.onCommitFiberRoot(Eo,n,void 0,64===(64&n.current.flags))}catch(S){}if(mu(e,Wo()),Xs)throw Xs=!1,e=Qs,Qs=null,e;return 0!==(8&As)||Yo(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?Ze($s,lu)&&(fu=!0):13===$s.tag&&Os(e,$s)&&Ze($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Ko(97,(function(){return Mu(),null}))),$s=$s.nextEffect}}function Mu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Go(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Ko(97,(function(){return Mu(),null})))}function Lu(e,t){ru.push(t,e),Zs||(Zs=!0,Ko(97,(function(){return Mu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(a(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===i)throw Error(a(330));Uu(i,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var u=o.create;o.destroy=u()}catch(c){if(null===i)throw Error(a(330));Uu(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Yo(),!0}function Bu(e,t,n){fi(e,t=ds(0,t=cs(n,t),1)),t=du(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Uu(e,t){if(3===e.tag)Bu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var o=hs(n,e=cs(t,e),1);if(fi(n,o),o=du(),null!==(n=vu(n,1)))zt(n,1,o),mu(n,o);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ms&n)===n&&(4===Fs||3===Fs&&(62914560&Ms)===Ms&&500>Wo()-Hs?Cu(e,0):Ws|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qo()?1:2:(0===uu&&(uu=Us),0===(t=Ut(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function Wu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new Wu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Yu(n.children,o,i,t);case j:s=8,o|=16;break;case k:s=8,o|=1;break;case S:return(e=qu(12,n,t,8|o)).elementType=S,e.type=S,e.lanes=i,e;case N:return(e=qu(13,n,t,o)).type=N,e.elementType=N,e.lanes=i,e;case R:return(e=qu(19,n,t,o)).elementType=R,e.lanes=i,e;case L:return $u(n,o,i,t);case F:return(e=qu(24,n,t,o)).elementType=F,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case O:s=9;break e;case I:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=qu(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Yu(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=qu(23,e,r,t)).elementType=L,e.lanes=n,e}function Xu(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Qu(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var o=t.current,i=du(),s=hu(o);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(go(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(go(c)){n=wo(n,c,u);break e}}n=u}else n=fo;return null===t.context?t.context=n:t.pendingContext=n,(t=li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fi(o,t),pu(o,s,i),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ui(t),e[Zr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=ec(a);s.call(e)}}Zu(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"===typeof o){var u=o;o=function(){var e=ec(a);u.call(e)}}_u((function(){Zu(t,a,e,o)}))}return ec(a)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||po.current)ja=!0;else{if(0===(n&r)){switch(ja=!1,t.tag){case 3:Ga(t),Ki();break;case 5:Mi(t);break;case 1:go(t.type)&&_o(t);break;case 4:Pi(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;lo(Jo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(lo(Li,1&Li.current),null!==(t=is(e,t,n))?t.sibling:null);lo(Li,1&Li.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return os(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),lo(Li,Li.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return is(e,t,n)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=mo(t,ho.current),ii(t,n),o=aa(null,t,r,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(r)){var i=!0;_o(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ui(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mi(t,r,s,e),o.updater=gi,t.stateNode=o,o._reactInternals=t,_i(t,r,e,n),t=Ha(null,t,r,!0,i,n)}else t.tag=0,La(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(o),e=Qo(o,e),i){case 0:t=Wa(null,t,o,e,n);break e;case 1:t=qa(null,t,o,e,n);break e;case 11:t=Fa(null,t,o,e,n);break e;case 14:t=Ba(null,t,o,Qo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Wa(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 1:return r=t.type,o=t.pendingProps,qa(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ci(e,t),hi(t,r,null,n),(r=t.memoizedState.element)===o)Ki(),t=is(e,t,n);else{if((i=(o=t.stateNode).hydrate)&&(Ui=Kr(t.stateNode.containerInfo.firstChild),Bi=t,i=Vi=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],Yi.push(i);for(n=Ti(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else La(e,t,r,n),Ki();t=t.child}return t;case 5:return Mi(t),null===e&&qi(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Wr(r,o)?s=null:null!==i&&Wr(r,i)&&(t.flags|=16),za(e,t),La(e,t,s,n),t.child;case 6:return null===e&&qi(t),null;case 13:return Ja(e,t,n);case 4:return Pi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Si(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Fa(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var u=t.type._context;if(lo(Jo,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=cr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===o.children&&!po.current){t=is(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=li(-1,n&-n)).tag=2,fi(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),oi(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}La(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ii(t,n),r=r(o=ai(o,i.unstable_observedBits)),t.flags|=1,La(e,t,r,n),t.child;case 14:return i=Qo(o=t.type,t.pendingProps),Ba(e,t,o,i=Qo(o.type,i),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,go(r)?(e=!0,_o(t)):e=!1,ii(t,n),bi(t,r,o),_i(t,r,o,n),Ha(null,t,r,!0,e,n);case 19:return os(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,du()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,du()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=oo(r);if(!o)throw Error(a(90));Q(r),ne(r,o)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ae=wu,Pe=function(e,t,n,r,o){var i=As;As|=4;try{return Go(98,e.bind(null,t,n,r,o))}finally{0===(As=i)&&(Ks(),Yo())}},De=function(){0===(49&As)&&(function(){if(null!==ou){var e=ou;ou=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Wo())}))}Yo()}(),Mu())},Me=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Ks(),Yo())}};var sc={Events:[no,ro,oo,Ne,Re,Mu,{current:!1}]},uc={findFiberByHostInstance:to,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Eo=lc.inject(cc),Co=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Go(99,e.bind(null,t))}finally{As=n,Yo()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ic(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ic(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ic(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){var r=n(174),o=n(175),i=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},deactivateTrap:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}}}();function a(e){return setTimeout(e,0)}e.exports=function(e,t){var n=document,s="string"===typeof e?n.querySelector(e):e,u=o({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),c={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},l={activate:function(e){if(c.active)return;w(),c.active=!0,c.paused=!1,c.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:u.onActivate;t&&t();return d(),l},deactivate:f,pause:function(){if(c.paused||!c.active)return;c.paused=!0,h()},unpause:function(){if(!c.paused||!c.active)return;c.paused=!1,d()}};return l;function f(e){if(c.active){h(),c.active=!1,c.paused=!1,i.deactivateTrap(l);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:u.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:u.returnFocusOnDeactivate)&&a((function(){_(c.nodeFocusedBeforeActivation)})),l}}function d(){if(c.active)return i.activateTrap(l),w(),a((function(){_(v())})),n.addEventListener("focusin",g,!0),n.addEventListener("mousedown",m,!0),n.addEventListener("touchstart",m,!0),n.addEventListener("click",b,!0),n.addEventListener("keydown",y,!0),l}function h(){if(c.active)return n.removeEventListener("focusin",g,!0),n.removeEventListener("mousedown",m,!0),n.removeEventListener("touchstart",m,!0),n.removeEventListener("click",b,!0),n.removeEventListener("keydown",y,!0),l}function p(e){var t=u[e],r=t;if(!t)return null;if("string"===typeof t&&!(r=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"===typeof t&&!(r=t()))throw new Error("`"+e+"` did not return a node");return r}function v(){var e;if(!(e=null!==p("initialFocus")?p("initialFocus"):s.contains(n.activeElement)?n.activeElement:c.firstTabbableNode||p("fallbackFocus")))throw new Error("You can't have a focus-trap without at least one focusable element");return e}function m(e){s.contains(e.target)||(u.clickOutsideDeactivates?f({returnFocus:!r.isFocusable(e.target)}):e.preventDefault())}function g(e){s.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),_(c.mostRecentlyFocusedNode||v()))}function y(e){if(!1!==u.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void f();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(w(),e.shiftKey&&e.target===c.firstTabbableNode)return e.preventDefault(),void _(c.lastTabbableNode);if(!e.shiftKey&&e.target===c.lastTabbableNode)e.preventDefault(),_(c.firstTabbableNode)}(e)}function b(e){u.clickOutsideDeactivates||s.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function w(){var e=r(s);c.firstTabbableNode=e[0]||v(),c.lastTabbableNode=e[e.length-1]||v()}function _(e){e!==n.activeElement&&(e&&e.focus?(e.focus(),c.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(e)&&e.select()):_(v()))}}},function(e,t){var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],r=n.join(","),o="undefined"===typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function i(e,t){t=t||{};var n,i,s,u=[],f=[],h=new d(e.ownerDocument||e),p=e.querySelectorAll(r);for(t.includeContainer&&o.call(e,r)&&(p=Array.prototype.slice.apply(p)).unshift(e),n=0;n<p.length;n++)a(i=p[n],h)&&(0===(s=c(i))?u.push(i):f.push({documentOrder:n,tabIndex:s,node:i}));return f.sort(l).map((function(e){return e.node})).concat(u)}function a(e,t){return!(!s(e,t)||function(e){return function(e){return f(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),n=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(t);return!n||n===e}(e)}(e)||c(e)<0)}function s(e,t){return t=t||new d(e.ownerDocument||e),!(e.disabled||function(e){return f(e)&&"hidden"===e.type}(e)||t.isUntouchable(e))}i.isTabbable=function(e,t){if(!e)throw new Error("No node provided");return!1!==o.call(e,r)&&a(e,t)},i.isFocusable=function(e,t){if(!e)throw new Error("No node provided");return!1!==o.call(e,u)&&s(e,t)};var u=n.concat("iframe").join(",");function c(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function l(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function f(e){return"INPUT"===e.tagName}function d(e){this.doc=e,this.cache=[]}d.prototype.hasDisplayNone=function(e,t){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var n=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return e[n]}(this.cache,(function(t){return t===e}));if(n)return n[1];var r=!1;return"none"===(t=t||this.doc.defaultView.getComputedStyle(e)).display?r=!0:e.parentNode&&(r=this.hasDisplayNone(e.parentNode)),this.cache.push([e,r]),r},d.prototype.isUntouchable=function(e){if(e===this.doc.documentElement)return!1;var t=this.doc.defaultView.getComputedStyle(e);return!!this.hasDisplayNone(e,t)||"hidden"===t.visibility},e.exports=i},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(109).default,o=n(178);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(109).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=(a(r),a(n(16))),i=a(n(180));a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;t.default=function(e,t){var n,a,f="__create-react-context-"+(0,i.default)()+"__",d=function(e){function n(){var t,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(i))),r.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(r.props.value),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)?o=0:(o="function"===typeof t?t(n,r):l,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);d.childContextTypes=((n={})[f]=o.default.object.isRequired,n);var h=function(t){function n(){var e,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((a={})[f]=o.default.object,a),{Provider:d,Consumer:h}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(38))},function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(111),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(s&&e.length>0&&!o.call(e,0))for(var v=0;v<e.length;++v)d.push(String(v));if(r&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)p&&"prototype"===g||!o.call(e,g)||d.push(String(g));if(u)for(var y=function(e){if("undefined"===typeof window||!h)return f(e);try{return f(e)}catch(t){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!o.call(e,l[b])||d.push(l[b]);return d}}e.exports=r},function(e,t,n){"use strict";var r=n(91)(),o=n(113)("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,o=n(112);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},function(e,t,n){"use strict";var r={foo:{}},o=Object;e.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof o)}},function(e,t,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!==typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=r.call(arguments,1),a=Math.max(0,t.length-i.length),s=[],u=0;u<a;u++)s.push("$"+u);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var o=t.apply(this,i.concat(r.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(r.call(arguments)))})),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n}},function(e,t,n){"use strict";var r=n(93);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(67),o=n(94),i=n(114),a=n(115),s=n(189),u=o(a(),Object);r(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=n(92)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},function(e,t,n){"use strict";var r=n(115),o=n(67);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,n){"use strict";var r,o,i,a,s=n(113),u=n(91)();if(u){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var l=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!==typeof e)return!1;var t=f(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{o(e,a)}catch(n){return n===i}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===l(e)}},function(e,t,n){"use strict";var r=n(67),o=n(94),i=n(116),a=n(117),s=n(193),u=o(a());r(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=function(){return"string"===typeof function(){}.name},o=Object.getOwnPropertyDescriptor;if(o)try{o([],"length")}catch(a){o=null}r.functionsHaveConfigurableNames=function(){if(!r()||!o)return!1;var e=o((function(){}),"name");return!!e&&!!e.configurable};var i=Function.prototype.bind;r.boundFunctionsHaveNames=function(){return r()&&"function"===typeof i&&""!==function(){}.bind().name},e.exports=r},function(e,t,n){"use strict";var r=n(67).supportsDescriptors,o=n(117),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(c),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(91)();e.exports=function(e){return"object"===typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(16)),o=l(n(1)),i=l(n(196)),a=l(n(197)),s=l(n(199)),u=n(95),c=n(72);function l(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e){var t=e.url,n=e.network,r=e.bgColor,l=e.fgColor,h=e.className,v=e.label,m=p(e,["url","network","bgColor","fgColor","className","label"]),g=function(e){return e.network||(0,u.keyFor)(e.url)}({url:t,network:n});return o.default.createElement("a",f({},m,{href:t,className:"social-icon"+(h?" "+h:""),style:d({},c.socialIcon,e.style),"aria-label":v||g}),o.default.createElement("div",{className:"social-container",style:c.socialContainer},o.default.createElement("svg",{className:"social-svg",style:c.socialSvg,viewBox:"0 0 64 64"},o.default.createElement(i.default,null),o.default.createElement(a.default,{networkKey:g,fgColor:l}),o.default.createElement(s.default,{networkKey:g,bgColor:r}))))}v.propTypes={className:r.default.string,bgColor:r.default.string,label:r.default.string,network:r.default.string,url:r.default.string};var m=v;t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},i=n(72);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=function(e){e.networkKey;var t=s(e,["networkKey"]);return o.default.createElement("g",a({},t,{className:"social-svg-background",style:i.socialSvgContent}),o.default.createElement("circle",{cx:"32",cy:"32",r:"31"}))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(16)),o=s(n(1)),i=n(95),a=n(72);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.fgColor;e.networkKey;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},a.socialSvgContent,{fill:t||"transparent"})}function d(e){var t=e.fgColor,n=e.networkKey,r=c(e,["fgColor","networkKey"]);return o.default.createElement("g",u({},r,{className:"social-svg-icon",style:f({fgColor:t})}),o.default.createElement("path",{d:(0,i.iconFor)(n)}))}d.propTypes={fgColor:r.default.string,networkKey:r.default.string.isRequired};var h=d;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={icon:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z",mask:"M41.1,25H22.9l9.1,7.1L41.1,25z M44,26.6l-12,9.3l-12-9.3V39h24V26.6z M0,0v64h64V0H0z M47,42H17V22h30V42z",color:"#7f7f7f"},o={fivehundredpix:{icon:"M42.9,27.6c-2.1,0-3.6,1-5.8,3.5c-1.9-2.5-3.8-3.5-5.8-3.5c-1.7,0-3.7,0.7-4.7,3.2 c-1-2-2.7-2.6-4.1-2.6c-1,0-2,0.2-2.9,1.1l0.6-3.3h6.2v-2.5h-8.4l-1.5,8v0.2h2.7c0.6-1,1.5-1.2,2.3-1.2c1.2,0,2.3,0.6,2.6,2.4v0.7 c-0.2,1.6-1.3,2.6-2.6,2.6c-1.1,0-2.3-0.6-2.4-2.2h-3v0.7c0,0.3,0.5,1.5,0.5,1.6c1.3,2.1,3.4,2.5,5,2.5c1.8,0,3.9-0.7,5.1-3.2 c1.1,2.4,3,3.1,4.8,3.1c2.1,0,3.5-0.9,5.7-3.3c1.9,2.3,3.7,3.3,5.7,3.3c3.4,0,5.1-2.6,5.1-5.6C48,30,46.2,27.6,42.9,27.6z  M34.7,33.7c-0.4,0.4-1,0.9-1.4,1.1c-0.7,0.4-1.3,0.6-1.9,0.6c-0.6,0-1.7-0.4-2.1-1.3c-0.1-0.2-0.2-0.6-0.2-0.7v-0.9 c0.3-1.5,1.1-2.1,2.2-2.1c0.1,0,0.6,0,0.9,0.1c0.4,0.1,0.7,0.3,1.1,0.6c0.4,0.3,2,1.6,2,1.8C35.3,33.2,34.9,33.5,34.7,33.7z  M42.9,35.5c-1.3,0-2.6-0.9-3.9-2.3c1.4-1.5,2.5-2.6,3.8-2.6c1.5,0,2.3,1.1,2.3,2.5C45.2,34.4,44.4,35.5,42.9,35.5z",mask:"M33.3,31.3c-0.4-0.2-0.7-0.4-1.1-0.6c-0.3-0.1-0.8-0.1-0.9-0.1c-1.1,0-1.9,0.6-2.2,2.1v0.9c0,0.1,0.1,0.4,0.2,0.7 c0.3,0.9,1.4,1.3,2.1,1.3s1.2-0.2,1.9-0.6c0.5-0.3,1-0.7,1.4-1.1c0.2-0.2,0.5-0.5,0.5-0.6C35.3,32.8,33.7,31.6,33.3,31.3z  M42.8,30.6c-1.3,0-2.4,1-3.8,2.6c1.3,1.5,2.6,2.3,3.9,2.3c1.5,0,2.2-1.1,2.2-2.4C45.2,31.7,44.3,30.6,42.8,30.6z M0,0v64h64V0H0z  M42.9,38.5c-2,0-3.8-1-5.7-3.3c-2.2,2.4-3.7,3.3-5.7,3.3c-1.8,0-3.7-0.7-4.8-3.1c-1.2,2.5-3.3,3.2-5.1,3.2c-1.6,0-3.8-0.4-5-2.5 C16.5,36,16,34.8,16,34.5v-0.7h3c0.1,1.6,1.3,2.2,2.4,2.2c1.3,0,2.4-0.9,2.6-2.6v-0.7c-0.2-1.8-1.3-2.4-2.6-2.4 c-0.8,0-1.6,0.2-2.3,1.2h-2.7v-0.2l1.5-8h8.4v2.5h-6.2l-0.6,3.3c1-0.9,2-1.1,2.9-1.1c1.4,0,3.2,0.6,4.1,2.6c1-2.4,3-3.2,4.7-3.2 c2,0,3.9,1,5.8,3.5c2.1-2.6,3.7-3.5,5.8-3.5c3.3,0,5.1,2.4,5.1,5.4C48,35.9,46.2,38.5,42.9,38.5z",color:"#222222"},bandsintown:{icon:"M25.8,39.3h13.4v1.1H24.7V18h-5.6v28h25.8V33.7h-19V39.3z M31.4,24.7h-5.6v7.8h5.6V24.7z M38.2,24.7h-5.6v7.8h5.6V24.7z M39.3,18v14.6h5.6V18H39.3z",mask:"M0,0v64h64V0H0z M32.6,24.7h5.6v7.8h-5.6V24.7z M25.8,24.7h5.6v7.8h-5.6V24.7z M44.9,46H19.1V18h5.6v22.4h14.6 v-1.1H25.8v-5.6h19V46z M44.9,32.6h-5.6V18h5.6V32.6z",color:"#1B8793"},behance:{icon:"M29.1,31c0.8-0.4,1.5-0.9,1.9-1.5c0.4-0.6,0.6-1.4,0.6-2.3c0-0.9-0.1-1.6-0.4-2.2 c-0.3-0.6-0.7-1.1-1.2-1.4c-0.5-0.4-1.1-0.6-1.9-0.8c-0.7-0.2-1.5-0.2-2.4-0.2H17v18.5h8.9c0.8,0,1.6-0.1,2.4-0.3 c0.8-0.2,1.5-0.5,2.1-1c0.6-0.4,1.1-1,1.5-1.7c0.4-0.7,0.5-1.5,0.5-2.4c0-1.2-0.3-2.1-0.8-3C31.1,31.9,30.2,31.3,29.1,31z  M21.1,25.7h3.8c0.4,0,0.7,0,1,0.1c0.3,0.1,0.6,0.2,0.9,0.3c0.3,0.2,0.5,0.4,0.6,0.6c0.2,0.3,0.2,0.6,0.2,1.1c0,0.8-0.2,1.3-0.7,1.7 c-0.5,0.3-1.1,0.5-1.8,0.5h-4.1V25.7z M28.2,36.7c-0.2,0.3-0.4,0.6-0.7,0.7c-0.3,0.2-0.6,0.3-1,0.4c-0.4,0.1-0.7,0.1-1.1,0.1h-4.3 v-5.1h4.4c0.9,0,1.6,0.2,2.1,0.6c0.5,0.4,0.8,1.1,0.8,2C28.4,36,28.3,36.4,28.2,36.7z M46.7,32.3c-0.2-0.9-0.6-1.8-1.2-2.5 C45,29,44.3,28.4,43.5,28c-0.8-0.4-1.8-0.7-3-0.7c-1,0-1.9,0.2-2.8,0.5c-0.8,0.4-1.6,0.9-2.2,1.5c-0.6,0.6-1.1,1.4-1.4,2.2 c-0.3,0.9-0.5,1.8-0.5,2.8c0,1,0.2,2,0.5,2.8c0.3,0.9,0.8,1.6,1.4,2.2c0.6,0.6,1.3,1.1,2.2,1.4c0.9,0.3,1.8,0.5,2.9,0.5 c1.5,0,2.8-0.3,3.9-1c1.1-0.7,1.9-1.8,2.4-3.4h-3.2c-0.1,0.4-0.4,0.8-1,1.2c-0.5,0.4-1.2,0.6-1.9,0.6c-1,0-1.8-0.3-2.4-0.8 c-0.6-0.5-0.9-1.5-0.9-2.6H47C47,34.2,47,33.2,46.7,32.3z M37.3,32.9c0-0.3,0.1-0.6,0.2-0.9c0.1-0.3,0.3-0.6,0.5-0.9 c0.2-0.3,0.5-0.5,0.9-0.7c0.4-0.2,0.9-0.3,1.5-0.3c0.9,0,1.6,0.3,2.1,0.7c0.4,0.5,0.8,1.2,0.8,2.1H37.3z M44.1,23.8h-7.5v1.8h7.5 V23.8z",mask:"M40.4,30.1c-0.6,0-1.1,0.1-1.5,0.3c-0.4,0.2-0.7,0.4-0.9,0.7c-0.2,0.3-0.4,0.6-0.5,0.9c-0.1,0.3-0.2,0.6-0.2,0.9 h6c-0.1-0.9-0.4-1.6-0.8-2.1C42,30.3,41.3,30.1,40.4,30.1z M25.5,32.8h-4.4v5.1h4.3c0.4,0,0.8,0,1.1-0.1c0.4-0.1,0.7-0.2,1-0.4 c0.3-0.2,0.5-0.4,0.7-0.7c0.2-0.3,0.2-0.7,0.2-1.2c0-1-0.3-1.6-0.8-2C27.1,33,26.4,32.8,25.5,32.8z M27,29.5 c0.5-0.3,0.7-0.9,0.7-1.7c0-0.4-0.1-0.8-0.2-1.1c-0.2-0.3-0.4-0.5-0.6-0.6c-0.3-0.2-0.6-0.3-0.9-0.3c-0.3-0.1-0.7-0.1-1-0.1h-3.8 v4.3h4.1C25.9,30.1,26.5,29.9,27,29.5z M0,0v64h64V0H0z M36.6,23.8h7.5v1.8h-7.5V23.8z M31.9,38.1c-0.4,0.7-0.9,1.2-1.5,1.7 c-0.6,0.4-1.3,0.8-2.1,1c-0.8,0.2-1.6,0.3-2.4,0.3H17V22.6h8.7c0.9,0,1.7,0.1,2.4,0.2c0.7,0.2,1.3,0.4,1.9,0.8 c0.5,0.4,0.9,0.8,1.2,1.4c0.3,0.6,0.4,1.3,0.4,2.2c0,0.9-0.2,1.7-0.6,2.3c-0.4,0.6-1,1.1-1.9,1.5c1.1,0.3,2,0.9,2.5,1.7 c0.6,0.8,0.8,1.8,0.8,3C32.5,36.6,32.3,37.4,31.9,38.1z M47,35.3h-9.6c0,1.1,0.4,2.1,0.9,2.6c0.5,0.5,1.3,0.8,2.4,0.8 c0.7,0,1.4-0.2,1.9-0.6c0.5-0.4,0.9-0.8,1-1.2h3.2c-0.5,1.6-1.3,2.8-2.4,3.4c-1.1,0.7-2.4,1-3.9,1c-1.1,0-2-0.2-2.9-0.5 c-0.8-0.3-1.6-0.8-2.2-1.4c-0.6-0.6-1-1.4-1.4-2.2c-0.3-0.9-0.5-1.8-0.5-2.8c0-1,0.2-1.9,0.5-2.8c0.3-0.9,0.8-1.6,1.4-2.2 c0.6-0.6,1.3-1.1,2.2-1.5c0.8-0.4,1.8-0.5,2.8-0.5c1.1,0,2.1,0.2,3,0.7c0.8,0.4,1.5,1,2.1,1.8c0.5,0.7,0.9,1.6,1.2,2.5 C47,33.2,47,34.2,47,35.3z",color:"#007CFF"},codepen:{icon:"M24.4,35l6.8,4.5v-4L27.4,33L24.4,35z M23.8,30.6v2.7l2.1-1.4L23.8,30.6z M31.2,28.5v-4L24.4,29 l3,2L31.2,28.5z M39.6,29l-6.8-4.5v4l3.7,2.5L39.6,29z M32,30l-3,2l3,2l3-2L32,30z M32,16c-8.8,0-16,7.2-16,16c0,8.8,7.2,16,16,16 s16-7.2,16-16C48,23.2,40.8,16,32,16z M41.9,35.1c0,0.3-0.1,0.6-0.4,0.7l-9.1,5.9c-0.3,0.2-0.6,0.2-0.9,0l-9.1-5.9 c-0.2-0.2-0.4-0.4-0.4-0.7v-6.2c0-0.3,0.1-0.6,0.4-0.7l9.1-5.9c0.3-0.2,0.6-0.2,0.9,0l9.1,5.9c0.2,0.2,0.4,0.4,0.4,0.7V35.1z  M32.8,35.5v4l6.8-4.5l-3-2L32.8,35.5z M40.2,33.4v-2.7L38.1,32L40.2,33.4z",mask:"M0,0v64h64V0H0z M32,48c-8.8,0-16-7.2-16-16c0-8.8,7.2-16,16-16s16,7.2,16,16C48,40.8,40.8,48,32,48z M32.5,22.3 c-0.3-0.2-0.6-0.2-0.9,0l-9.1,5.9c-0.2,0.2-0.4,0.4-0.4,0.7v6.2c0,0.3,0.1,0.6,0.4,0.7l9.1,5.9c0.3,0.2,0.6,0.2,0.9,0l9.1-5.9 c0.2-0.2,0.4-0.4,0.4-0.7v-6.2c0-0.3-0.1-0.6-0.4-0.7L32.5,22.3z M32.8,24.5l6.8,4.5l-3,2l-3.7-2.5V24.5z M31.2,24.5v4L27.4,31l-3-2 L31.2,24.5z M23.8,30.6l2.1,1.4l-2.1,1.4V30.6z M31.2,39.5L24.4,35l3-2l3.7,2.5V39.5z M32,34l-3-2l3-2l3,2L32,34z M32.8,39.5v-4 l3.7-2.5l3,2L32.8,39.5z M40.2,33.4L38.1,32l2.1-1.4V33.4z",color:"##151515"},dribbble:{icon:"M32,48c-8.8,0-16-7.2-16-16s7.2-16,16-16 s16,7.2,16,16S40.8,48,32,48z M45.5,34.2C45,34,41.3,32.9,37,33.6c1.8,4.9,2.5,8.9,2.7,9.7C42.7,41.3,44.9,38,45.5,34.2z M37.3,44.6 c-0.2-1.2-1-5.4-2.9-10.4c0,0-0.1,0-0.1,0c-7.7,2.7-10.5,8-10.7,8.5c2.3,1.8,5.2,2.9,8.4,2.9C33.9,45.7,35.7,45.3,37.3,44.6z  M21.8,41.2c0.3-0.5,4.1-6.7,11.1-9c0.2-0.1,0.4-0.1,0.5-0.2c-0.3-0.8-0.7-1.6-1.1-2.3c-6.8,2-13.4,2-14,1.9c0,0.1,0,0.3,0,0.4 C18.3,35.5,19.7,38.7,21.8,41.2z M18.6,29.2c0.6,0,6.2,0,12.6-1.7c-2.3-4-4.7-7.4-5.1-7.9C22.4,21.5,19.5,25,18.6,29.2z M28.8,18.7 c0.4,0.5,2.9,3.9,5.1,8c4.9-1.8,6.9-4.6,7.2-4.9c-2.4-2.1-5.6-3.4-9.1-3.4C30.9,18.4,29.8,18.5,28.8,18.7z M42.6,23.4 c-0.3,0.4-2.6,3.3-7.6,5.4c0.3,0.7,0.6,1.3,0.9,2c0.1,0.2,0.2,0.5,0.3,0.7c4.5-0.6,9.1,0.3,9.5,0.4C45.6,28.7,44.5,25.7,42.6,23.4z",mask:"M34.3,34.3c-7.7,2.7-10.5,8-10.7,8.5c2.3,1.8,5.2,2.9,8.4,2.9c1.9,0,3.7-0.4,5.3-1.1 C37.1,43.4,36.3,39.2,34.3,34.3C34.4,34.2,34.4,34.3,34.3,34.3z M31.3,27.6c-2.3-4-4.7-7.4-5.1-7.9c-3.8,1.8-6.7,5.3-7.6,9.6 C19.2,29.2,24.9,29.3,31.3,27.6z M33,32.1c0.2-0.1,0.4-0.1,0.5-0.2c-0.3-0.8-0.7-1.6-1.1-2.3c-6.8,2-13.4,2-14,1.9 c0,0.1,0,0.3,0,0.4c0,3.5,1.3,6.7,3.5,9.1C22.2,40.6,25.9,34.4,33,32.1z M41.1,21.8c-2.4-2.1-5.6-3.4-9.1-3.4 c-1.1,0-2.2,0.1-3.2,0.4c0.4,0.5,2.9,3.9,5.1,8C38.8,24.9,40.8,22.1,41.1,21.8z M34.9,28.8c0.3,0.7,0.6,1.3,0.9,2 c0.1,0.2,0.2,0.5,0.3,0.7c4.5-0.6,9.1,0.3,9.5,0.4c0-3.2-1.2-6.2-3.1-8.5C42.3,23.8,40,26.7,34.9,28.8z M37,33.6 c1.8,4.9,2.5,8.9,2.7,9.7c3.1-2.1,5.2-5.4,5.9-9.2C45,34,41.3,32.9,37,33.6z M0,0v64h64V0H0z M32,48c-8.8,0-16-7.2-16-16 s7.2-16,16-16s16,7.2,16,16S40.8,48,32,48z",color:"#ea4c89"},dropbox:{icon:"M25.4,17.1L16,23.3l6.5,5.2l9.5-5.9L25.4,17.1z M16,33.7l9.4,6.1l6.6-5.5l-9.5-5.9L16,33.7z  M32,34.3l6.6,5.5l9.4-6.1l-6.5-5.2L32,34.3z M48,23.3l-9.4-6.1L32,22.6l9.5,5.9L48,23.3z M32,35.5L25.4,41l-2.8-1.8v2.1l9.4,5.7 l9.4-5.7v-2.1L38.6,41L32,35.5z",mask:"M0,0v64h64V0H0z M41.5,41.2L32,46.9l-9.4-5.7v-2.1l2.8,1.8l6.6-5.5l6.6,5.5l2.8-1.8V41.2z M48,33.7l-9.4,6.1 L32,34.3l-6.6,5.5L16,33.7l6.5-5.2L16,23.3l9.4-6.1l6.6,5.5l6.6-5.5l9.4,6.1l-6.5,5.2L48,33.7z M22.5,28.5l9.5,5.9l9.5-5.9L32,22.6 L22.5,28.5z",color:"#1081DE"},email:r,facebook:{icon:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z",mask:"M0,0v64h64V0H0z M39.6,22l-2.8,0c-2.2,0-2.6,1.1-2.6,2.6V28h5.3l-0.7,5.3h-4.6V47h-5.5V33.3H24V28h4.6V24 c0-4.6,2.8-7,6.9-7c2,0,3.6,0.1,4.1,0.2V22z",color:"#3b5998"},flickr:{icon:"M32,16c-8.8,0-16,7.2-16,16s7.2,16,16,16s16-7.2,16-16S40.8,16,32,16z M26,37c-2.8,0-5-2.2-5-5 s2.2-5,5-5s5,2.2,5,5S28.8,37,26,37z M38,37c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S40.8,37,38,37z",mask:"M38,27c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S40.8,27,38,27z M0,0v64h64V0H0z M32,48c-8.8,0-16-7.2-16-16 s7.2-16,16-16s16,7.2,16,16S40.8,48,32,48z M26,27c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S28.8,27,26,27z",color:"#0063db"},foursquare:{icon:"M41.5,17c0,0-14.3,0-16.5,0c-2.3,0-3,1.7-3,2.8c0,1.1,0,26.3,0,26.3c0,1.2,0.7,1.7,1,1.8 c0.4,0.1,1.4,0.3,2-0.4c0,0,7.8-9.1,7.9-9.2c0.2-0.2,0.2-0.2,0.4-0.2c0.4,0,3.4,0,5.1,0c2.1,0,2.5-1.5,2.7-2.4 c0.2-0.7,2.3-11.3,2.9-14.7C44.6,18.4,43.9,17,41.5,17z M41.1,35.7c0.2-0.7,2.3-11.3,2.9-14.7 M40.5,21.5l-0.7,3.6 c-0.1,0.4-0.6,0.8-1,0.8c-0.5,0-6.4,0-6.4,0c-0.7,0-1.2,0.5-1.2,1.2v0.8c0,0.7,0.5,1.2,1.2,1.2c0,0,5,0,5.5,0c0.5,0,1,0.6,0.9,1.1 c-0.1,0.5-0.6,3.3-0.7,3.6c-0.1,0.3-0.4,0.8-1,0.8c-0.5,0-4.5,0-4.5,0c-0.8,0-1.1,0.1-1.6,0.8c-0.5,0.7-5.4,6.5-5.4,6.5 c0,0.1-0.1,0-0.1,0V21.4c0-0.5,0.4-1,1-1c0,0,12.8,0,13.3,0C40.2,20.4,40.6,20.9,40.5,21.5z",mask:"M39.7,20.4c-0.5,0-13.3,0-13.3,0c-0.6,0-1,0.5-1,1v20.5c0,0.1,0,0.1,0.1,0c0,0,4.9-5.9,5.4-6.5 c0.5-0.7,0.8-0.8,1.6-0.8c0,0,3.9,0,4.5,0c0.6,0,1-0.5,1-0.8c0.1-0.3,0.6-3,0.7-3.6c0.1-0.5-0.4-1.1-0.9-1.1c-0.5,0-5.5,0-5.5,0 c-0.7,0-1.2-0.5-1.2-1.2v-0.8c0-0.7,0.5-1.2,1.2-1.2c0,0,6,0,6.4,0c0.5,0,0.9-0.4,1-0.8l0.7-3.6C40.6,20.9,40.2,20.4,39.7,20.4z  M0,0v64h64V0H0z M44,20.9l-1,5.2c-0.8,4.2-1.8,9-1.9,9.5c-0.2,0.9-0.6,2.4-2.7,2.4h-5.1c-0.2,0-0.2,0-0.4,0.2 c-0.1,0.1-7.9,9.2-7.9,9.2c-0.6,0.7-1.6,0.6-2,0.4c-0.4-0.1-1-0.6-1-1.8c0,0,0-25.2,0-26.3c0-1.1,0.7-2.8,3-2.8c2.3,0,16.5,0,16.5,0 C43.9,17,44.6,18.4,44,20.9z",color:"#0072b1"},github:{icon:"M32,16c-8.8,0-16,7.2-16,16c0,7.1,4.6,13.1,10.9,15.2 c0.8,0.1,1.1-0.3,1.1-0.8c0-0.4,0-1.4,0-2.7c-4.5,1-5.4-2.1-5.4-2.1c-0.7-1.8-1.8-2.3-1.8-2.3c-1.5-1,0.1-1,0.1-1 c1.6,0.1,2.5,1.6,2.5,1.6c1.4,2.4,3.7,1.7,4.7,1.3c0.1-1,0.6-1.7,1-2.1c-3.6-0.4-7.3-1.8-7.3-7.9c0-1.7,0.6-3.2,1.6-4.3 c-0.2-0.4-0.7-2,0.2-4.2c0,0,1.3-0.4,4.4,1.6c1.3-0.4,2.6-0.5,4-0.5c1.4,0,2.7,0.2,4,0.5c3.1-2.1,4.4-1.6,4.4-1.6 c0.9,2.2,0.3,3.8,0.2,4.2c1,1.1,1.6,2.5,1.6,4.3c0,6.1-3.7,7.5-7.3,7.9c0.6,0.5,1.1,1.5,1.1,3c0,2.1,0,3.9,0,4.4 c0,0.4,0.3,0.9,1.1,0.8C43.4,45.1,48,39.1,48,32C48,23.2,40.8,16,32,16z",mask:"M0,0v64h64V0H0z M37.1,47.2c-0.8,0.2-1.1-0.3-1.1-0.8c0-0.5,0-2.3,0-4.4c0-1.5-0.5-2.5-1.1-3 c3.6-0.4,7.3-1.7,7.3-7.9c0-1.7-0.6-3.2-1.6-4.3c0.2-0.4,0.7-2-0.2-4.2c0,0-1.3-0.4-4.4,1.6c-1.3-0.4-2.6-0.5-4-0.5 c-1.4,0-2.7,0.2-4,0.5c-3.1-2.1-4.4-1.6-4.4-1.6c-0.9,2.2-0.3,3.8-0.2,4.2c-1,1.1-1.6,2.5-1.6,4.3c0,6.1,3.7,7.5,7.3,7.9 c-0.5,0.4-0.9,1.1-1,2.1c-0.9,0.4-3.2,1.1-4.7-1.3c0,0-0.8-1.5-2.5-1.6c0,0-1.6,0-0.1,1c0,0,1,0.5,1.8,2.3c0,0,0.9,3.1,5.4,2.1 c0,1.3,0,2.3,0,2.7c0,0.4-0.3,0.9-1.1,0.8C20.6,45.1,16,39.1,16,32c0-8.8,7.2-16,16-16c8.8,0,16,7.2,16,16 C48,39.1,43.4,45.1,37.1,47.2z",color:"#4183c4"},google_play:{icon:"M24.4,45.6l16-8.8l-3.6-3.6L24.4,45.6z M22.2,18.5c-0.1,0.2-0.2,0.5-0.2,0.9v25.1 c0,0.4,0.1,0.6,0.2,0.9L35.6,32L22.2,18.5z M47.1,30.8L42.1,28L38.1,32l4,4l5-2.8C48.3,32.5,48.3,31.4,47.1,30.8z M40.4,27.1 l-15.9-8.8l12.3,12.3L40.4,27.1z",mask:"M0,0v64h64V0H0z M40.4,27.1l-3.6,3.6L24.5,18.4L40.4,27.1z M22,44.5V19.4c0-0.4,0.1-0.7,0.2-0.9L35.6,32 L22.2,45.4C22.1,45.2,22,44.9,22,44.5z M24.4,45.6l12.4-12.4l3.6,3.6L24.4,45.6z M47.1,33.2l-5,2.8l-4-4l3.9-3.9l5.1,2.8 C48.3,31.4,48.3,32.5,47.1,33.2z",color:"#40BBC1"},google:{icon:"M35.4,17h-8c-1.1,0-2.2,0.1-3.4,0.4 c-1.2,0.3-2.4,0.9-3.5,1.8c-1.7,1.6-2.5,3.4-2.5,5.4c0,1.6,0.6,3.1,1.8,4.3c1.1,1.3,2.7,2,4.9,2c0.4,0,0.8,0,1.3-0.1 c-0.1,0.2-0.2,0.4-0.2,0.7c-0.1,0.2-0.2,0.5-0.2,0.9c0,0.6,0.1,1.1,0.4,1.5c0.2,0.4,0.5,0.8,0.8,1.2c-0.9,0-2.1,0.1-3.5,0.4 c-1.4,0.2-2.8,0.7-4.1,1.5c-1.2,0.7-1.9,1.5-2.4,2.4c-0.5,0.9-0.7,1.7-0.7,2.5c0,1.5,0.7,2.8,2.1,3.9c1.4,1.2,3.5,1.8,6.3,1.8 c3.3-0.1,5.9-0.9,7.7-2.4c1.7-1.5,2.6-3.2,2.6-5.2c0-1.4-0.3-2.5-0.9-3.3c-0.6-0.8-1.4-1.6-2.2-2.3l-1.4-1.1 c-0.2-0.2-0.4-0.4-0.6-0.7c-0.2-0.3-0.4-0.6-0.4-1c0-0.4,0.1-0.8,0.4-1.1c0.2-0.3,0.4-0.6,0.7-0.8c0.4-0.4,0.8-0.7,1.2-1.1 c0.3-0.4,0.6-0.7,0.9-1.2c0.6-0.9,0.9-2,0.9-3.4c0-0.8-0.1-1.5-0.3-2.1c-0.2-0.6-0.5-1.1-0.7-1.5c-0.3-0.5-0.6-0.8-0.9-1.2 c-0.3-0.3-0.6-0.5-0.8-0.7H33L35.4,17z M31,38.9c0.7,0.8,1,1.6,1,2.7c0,1.3-0.5,2.3-1.5,3.1c-1,0.8-2.4,1.2-4.3,1.3 c-2.1,0-3.8-0.5-5-1.4c-1.3-0.9-1.9-2.1-1.9-3.5c0-0.7,0.1-1.3,0.4-1.8c0.3-0.5,0.6-0.9,0.9-1.2c0.4-0.3,0.8-0.6,1.1-0.7 c0.4-0.2,0.7-0.3,0.9-0.4c0.9-0.3,1.7-0.5,2.5-0.6c0.8-0.1,1.4-0.1,1.6-0.1c0.3,0,0.6,0,0.9,0C29.2,37.3,30.3,38.2,31,38.9z  M29.7,27.1c-0.1,0.5-0.3,1.1-0.7,1.6c-0.7,0.7-1.6,1.1-2.6,1.1c-0.8,0-1.6-0.3-2.2-0.8c-0.6-0.5-1.2-1.1-1.6-1.9 c-0.8-1.6-1.3-3.1-1.3-4.5c0-1.1,0.3-2.1,0.9-3c0.7-0.9,1.6-1.3,2.7-1.3c0.8,0,1.5,0.3,2.2,0.7c0.6,0.5,1.1,1.1,1.5,1.9 c0.8,1.6,1.2,3.2,1.2,4.8C29.8,26.1,29.8,26.5,29.7,27.1z M43.7,29.5v-4.3h-2.5v4.3H37V32h4.2v4.2h2.5V32H48v-2.5H43.7z",mask:"M0,0v64h64V0H0z M31.3,19.1c0.3,0.3,0.6,0.7,0.9,1.2c0.3,0.4,0.5,0.9,0.7,1.5c0.2,0.6,0.3,1.3,0.3,2.1 c0,1.4-0.3,2.6-0.9,3.4c-0.3,0.4-0.6,0.8-0.9,1.2c-0.4,0.4-0.8,0.7-1.2,1.1c-0.2,0.2-0.5,0.5-0.7,0.8c-0.2,0.3-0.4,0.7-0.4,1.1 c0,0.4,0.1,0.8,0.4,1c0.2,0.3,0.4,0.5,0.6,0.7l1.4,1.1c0.8,0.7,1.6,1.5,2.2,2.3c0.6,0.8,0.9,2,0.9,3.3c0,1.9-0.9,3.7-2.6,5.2 c-1.8,1.6-4.3,2.4-7.7,2.4c-2.8,0-4.9-0.6-6.3-1.8c-1.4-1.1-2.1-2.4-2.1-3.9c0-0.7,0.2-1.6,0.7-2.5c0.4-0.9,1.2-1.7,2.4-2.4 c1.3-0.7,2.7-1.2,4.1-1.5c1.4-0.2,2.6-0.3,3.5-0.4c-0.3-0.4-0.5-0.8-0.8-1.2c-0.3-0.4-0.4-0.9-0.4-1.5c0-0.4,0-0.6,0.2-0.9 c0.1-0.2,0.2-0.5,0.2-0.7c-0.5,0.1-0.9,0.1-1.3,0.1c-2.1,0-3.8-0.7-4.9-2c-1.2-1.2-1.8-2.7-1.8-4.3c0-2,0.8-3.8,2.5-5.4 c1.1-0.9,2.3-1.6,3.5-1.8c1.2-0.2,2.3-0.4,3.4-0.4h8L33,18.4h-2.5C30.7,18.6,31,18.8,31.3,19.1z M48,32h-4.3v4.2h-2.5V32H37v-2.5 h4.2v-4.3h2.5v4.3H48V32z M27.1,19.1c-0.6-0.5-1.4-0.7-2.2-0.7c-1.1,0-2,0.5-2.7,1.3c-0.6,0.9-0.9,1.9-0.9,3c0,1.5,0.4,3,1.3,4.5 c0.4,0.7,0.9,1.4,1.6,1.9c0.6,0.5,1.4,0.8,2.2,0.8c1.1,0,1.9-0.4,2.6-1.1c0.3-0.5,0.6-1,0.7-1.6c0.1-0.5,0.1-1,0.1-1.4 c0-1.6-0.4-3.2-1.2-4.8C28.2,20.2,27.7,19.5,27.1,19.1z M26.9,36.2c-0.2,0-0.7,0-1.6,0.1c-0.8,0.1-1.7,0.3-2.5,0.6 c-0.2,0.1-0.5,0.2-0.9,0.4c-0.4,0.2-0.7,0.4-1.1,0.7c-0.4,0.3-0.7,0.7-0.9,1.2c-0.3,0.5-0.4,1.1-0.4,1.8c0,1.4,0.6,2.6,1.9,3.5 c1.2,0.9,2.9,1.4,5,1.4c1.9,0,3.3-0.4,4.3-1.3c1-0.8,1.5-1.8,1.5-3.1c0-1-0.3-1.9-1-2.7c-0.7-0.7-1.8-1.6-3.3-2.6 C27.5,36.2,27.2,36.2,26.9,36.2z",color:"#dd4b39"},instagram:{icon:"M43.5,29.7h-2.6c0.2,0.7,0.3,1.5,0.3,2.3 c0,5.1-4.1,9.2-9.2,9.2c-5.1,0-9.2-4.1-9.2-9.2c0-0.8,0.1-1.6,0.3-2.3h-2.6v12.7c0,0.6,0.5,1.2,1.2,1.2h20.8c0.6,0,1.2-0.5,1.2-1.2 V29.7z M43.5,21.6c0-0.6-0.5-1.2-1.2-1.2h-3.5c-0.6,0-1.2,0.5-1.2,1.2v3.5c0,0.6,0.5,1.2,1.2,1.2h3.5c0.6,0,1.2-0.5,1.2-1.2V21.6z  M32,26.2c-3.2,0-5.8,2.6-5.8,5.8c0,3.2,2.6,5.8,5.8,5.8s5.8-2.6,5.8-5.8C37.8,28.8,35.2,26.2,32,26.2 M43.5,47H20.5 c-1.9,0-3.5-1.6-3.5-3.5V20.5c0-1.9,1.5-3.5,3.5-3.5h23.1c1.9,0,3.5,1.5,3.5,3.5v23.1C47,45.4,45.5,47,43.5,47",mask:"M41.2,32c0,5.1-4.1,9.2-9.2,9.2c-5.1,0-9.2-4.1-9.2-9.2c0-0.8,0.1-1.6,0.3-2.3h-2.6v12.7c0,0.6,0.5,1.2,1.2,1.2 h20.8c0.6,0,1.2-0.5,1.2-1.2V29.7h-2.6C41.1,30.4,41.2,31.2,41.2,32z M32,37.8c3.2,0,5.8-2.6,5.8-5.8c0-3.2-2.6-5.8-5.8-5.8 c-3.2,0-5.8,2.6-5.8,5.8C26.2,35.2,28.8,37.8,32,37.8z M42.4,20.5h-3.5c-0.6,0-1.2,0.5-1.2,1.2v3.5c0,0.6,0.5,1.2,1.2,1.2h3.5 c0.6,0,1.2-0.5,1.2-1.2v-3.5C43.5,21,43,20.5,42.4,20.5z M0,0v64h64V0H0z M47,43.5c0,1.9-1.5,3.5-3.5,3.5H20.5 c-1.9,0-3.5-1.6-3.5-3.5V20.5c0-1.9,1.5-3.5,3.5-3.5h23.1c1.9,0,3.5,1.5,3.5,3.5V43.5z",color:"#3f729b"},itunes:{icon:"M41.1,17c-0.1,0-0.2,0-0.3,0l-14.7,3c-0.6,0.1-1.1,0.7-1.1,1.4v17.6c0,0.8-0.6,1.4-1.4,1.4 h-2.8c-1.9,0-3.4,1.5-3.4,3.4c0,1.9,1.5,3.4,3.4,3.4h2c2.2,0,4-1.8,4-4V27.4c0-0.4,0.3-0.8,0.7-0.9l12.1-2.4c0.1,0,0.1,0,0.2,0 c0.5,0,0.9,0.4,0.9,0.9v11c0,0.8-0.6,1.4-1.4,1.4h-2.8c-1.9,0-3.4,1.5-3.4,3.4c0,1.9,1.5,3.4,3.4,3.4h2c2.2,0,4-1.8,4-4V18.4 C42.5,17.6,41.9,17,41.1,17z",mask:"M0,0v64h64V0H0z M42.5,40c0,2.2-1.8,4-4,4h-2c-1.9,0-3.4-1.5-3.4-3.4s1.5-3.4,3.4-3.4h2.8c0.8,0,1.4-0.6,1.4-1.4 v-11c0-0.5-0.4-0.9-0.9-0.9c-0.1,0-0.1,0-0.2,0l-12.1,2.4c-0.4,0.1-0.7,0.4-0.7,0.9V43c0,2.2-1.8,4-4,4h-2c-1.9,0-3.4-1.5-3.4-3.4 c0-1.9,1.5-3.4,3.4-3.4h2.8c0.8,0,1.4-0.6,1.4-1.4V21.3c0-0.7,0.5-1.2,1.1-1.4l14.7-3c0.1,0,0.2,0,0.3,0c0.8,0,1.4,0.6,1.4,1.4V40z",color:"#E049D1"},linkedin:{icon:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z",mask:"M0,0v64h64V0H0z M25.8,44h-5.4V26.6h5.4V44z M23.1,24.3c-1.7,0-3.1-1.4-3.1-3.1c0-1.7,1.4-3.1,3.1-3.1 c1.7,0,3.1,1.4,3.1,3.1C26.2,22.9,24.8,24.3,23.1,24.3z M46,44h-5.4v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.5V44h-5.4V26.6 h5.2V29h0.1c0.7-1.4,2.5-2.8,5.1-2.8c5.5,0,6.5,3.6,6.5,8.3V44z",color:"#007fb1"},mailto:r,medium:{icon:"M47,23.7h-1.2c-0.4,0-0.9,0.6-0.9,1v14.7c0,0.4,0.5,1,0.9,1H47v3.4H36.4v-3.4h2.1V24.9h-0.1 l-5.3,18.9h-4.1l-5.2-18.9h-0.1v15.5H26v3.4h-9v-3.4h1.2c0.5,0,1-0.6,1-1V24.7c0-0.4-0.5-1-1-1H17v-3.6h11.3l3.7,13.8h0.1l3.7-13.8 H47V23.7z",mask:"M0,0v64h64V0H0z M47,23.7h-1.2c-0.4,0-0.9,0.6-0.9,1v14.7c0,0.4,0.5,1,0.9,1H47v3.4H36.4v-3.4h2.1V24.9h-0.1 l-5.3,18.9h-4.1l-5.2-18.9h-0.1v15.5H26v3.4h-9v-3.4h1.2c0.5,0,1-0.6,1-1V24.7c0-0.4-0.5-1-1-1H17v-3.6h11.3l3.7,13.8h0.1l3.7-13.8 H47V23.7z",color:"#333332"},meetup:{icon:"M30.8,33.4c0-6.3,1.9-11.9,3.5-15.3c0.5-1.1,0.9-1.4,1.9-1.4c1.3,0,2.9,0.2,4.1,0.4 c1.1,0.2,1.5,1.6,1.7,2.5c1.2,4.5,4.7,18.7,5.5,22.4c0.2,0.8,0.6,2,0.1,2.3c-0.4,0.2-2.5,0.9-3.9,1c-0.6,0.1-1.1-0.6-1.4-1.5 c-1.5-4.6-3.5-11.8-5.2-16.6c0,3.7-0.3,10.8-0.4,12c-0.1,1.7-0.4,3.7-1.8,3.9c-1.1,0.2-2.4,0.4-4,0.4c-1.3,0-1.8-0.9-2.4-1.8 c-1-1.4-3.1-4.8-4.1-6.9c0.3,2.3,0.7,4.7,0.9,5.8c0.1,0.8,0,1.5-0.6,1.9c-1,0.7-3.2,1.4-4.1,1.4c-0.8,0-1.5-0.8-1.6-1.6 c-0.7-3.4-1.2-8-1.1-11.1c0-2.8,0-5.9,0.2-8.3c0-0.7,0.3-1.1,0.9-1.4c1.2-0.5,3-0.6,4.7-0.3c0.8,0.1,1,0.8,1.4,1.4 C26.9,25.5,28.9,29.5,30.8,33.4z",mask:"M0,0v64h64V0H0z M47.8,44.3c-0.4,0.2-2.5,0.9-3.9,1c-0.6,0.1-1.1-0.6-1.4-1.5c-1.5-4.6-3.5-11.8-5.2-16.6 c0,3.7-0.3,10.8-0.4,12c-0.1,1.7-0.4,3.7-1.8,3.9c-1.1,0.2-2.4,0.4-4,0.4c-1.3,0-1.8-0.9-2.4-1.8c-1-1.4-3.1-4.8-4.1-6.9 c0.3,2.3,0.7,4.7,0.9,5.8c0.1,0.8,0,1.5-0.6,1.9c-1,0.7-3.2,1.4-4.1,1.4c-0.8,0-1.5-0.8-1.6-1.6c-0.7-3.4-1.2-8-1.1-11.1 c0-2.8,0-5.9,0.2-8.3c0-0.7,0.3-1.1,0.9-1.4c1.2-0.5,3-0.6,4.7-0.3c0.8,0.1,1,0.8,1.4,1.4c1.7,2.8,3.8,6.7,5.7,10.6 c0-6.3,1.9-11.9,3.5-15.3c0.5-1.1,0.9-1.4,1.9-1.4c1.3,0,2.9,0.2,4.1,0.4c1.1,0.2,1.5,1.6,1.7,2.5c1.2,4.5,4.7,18.7,5.5,22.4 C47.8,42.8,48.3,44,47.8,44.3z",color:"#E51937"},pinterest:{icon:"M32,16c-8.8,0-16,7.2-16,16c0,6.6,3.9,12.2,9.6,14.7c0-1.1,0-2.5,0.3-3.7 c0.3-1.3,2.1-8.7,2.1-8.7s-0.5-1-0.5-2.5c0-2.4,1.4-4.1,3.1-4.1c1.5,0,2.2,1.1,2.2,2.4c0,1.5-0.9,3.7-1.4,5.7 c-0.4,1.7,0.9,3.1,2.5,3.1c3,0,5.1-3.9,5.1-8.5c0-3.5-2.4-6.1-6.7-6.1c-4.9,0-7.9,3.6-7.9,7.7c0,1.4,0.4,2.4,1.1,3.1 c0.3,0.3,0.3,0.5,0.2,0.9c-0.1,0.3-0.3,1-0.3,1.3c-0.1,0.4-0.4,0.6-0.8,0.4c-2.2-0.9-3.3-3.4-3.3-6.1c0-4.5,3.8-10,11.4-10 c6.1,0,10.1,4.4,10.1,9.2c0,6.3-3.5,11-8.6,11c-1.7,0-3.4-0.9-3.9-2c0,0-0.9,3.7-1.1,4.4c-0.3,1.2-1,2.5-1.6,3.4 c1.4,0.4,3,0.7,4.5,0.7c8.8,0,16-7.2,16-16C48,23.2,40.8,16,32,16z",mask:"M0,0v64h64V0H0z M32,48c-1.6,0-3.1-0.2-4.5-0.7c0.6-1,1.3-2.2,1.6-3.4c0.2-0.7,1.1-4.4,1.1-4.4 c0.6,1.1,2.2,2,3.9,2c5.1,0,8.6-4.7,8.6-11c0-4.7-4-9.2-10.1-9.2c-7.6,0-11.4,5.5-11.4,10c0,2.8,1,5.2,3.3,6.1 c0.4,0.1,0.7,0,0.8-0.4c0.1-0.3,0.2-1,0.3-1.3c0.1-0.4,0.1-0.5-0.2-0.9c-0.6-0.8-1.1-1.7-1.1-3.1c0-4,3-7.7,7.9-7.7 c4.3,0,6.7,2.6,6.7,6.1c0,4.6-2,8.5-5.1,8.5c-1.7,0-2.9-1.4-2.5-3.1c0.5-2,1.4-4.2,1.4-5.7c0-1.3-0.7-2.4-2.2-2.4 c-1.7,0-3.1,1.8-3.1,4.1c0,1.5,0.5,2.5,0.5,2.5s-1.8,7.4-2.1,8.7c-0.3,1.2-0.3,2.6-0.3,3.7C19.9,44.2,16,38.6,16,32 c0-8.8,7.2-16,16-16c8.8,0,16,7.2,16,16C48,40.8,40.8,48,32,48z",color:"#cb2128"},rdio:{icon:"M47.3,25.7c-3.2,0.1-7.1-2.4-8.7-3.4c-0.1-0.1-0.3-0.2-0.4-0.2c-0.2-0.1-0.3-0.2-0.5-0.3v9.3h0 c0,0.8-0.2,1.7-0.8,2.6l0,0.1c-1.5,2.4-4.7,3.9-7.7,2.9c-2.9-1-3.7-3.8-2.1-6.3l0-0.1c1.5-2.4,4.7-3.9,7.7-2.9 c0.2,0.1,0.4,0.2,0.6,0.3v-6.8c-1.1-0.3-2.2-0.5-3.4-0.5c-6.9,0-12,5.2-12,11.6v0.1c0,6.4,5.1,11.5,12,11.5c6.9,0,12-5.2,12-11.6 v-0.1c0-0.5,0-1-0.1-1.5C47.5,29.5,49,25.8,47.3,25.7z",mask:"M0,0v64h64V0H0z M43.9,30.5c0.1,0.5,0.1,1,0.1,1.5V32c0,6.4-5.1,11.6-12,11.6c-6.9,0-12-5.1-12-11.5V32 c0-6.4,5.1-11.6,12-11.6c1.2,0,2.3,0.2,3.4,0.5v6.8c-0.2-0.1-0.4-0.2-0.6-0.3c-3-1-6.2,0.4-7.7,2.9l0,0.1c-1.5,2.5-0.8,5.3,2.1,6.3 c3,1,6.2-0.4,7.7-2.9l0-0.1c0.5-0.8,0.8-1.7,0.8-2.6h0v-9.3c0.2,0.1,0.3,0.2,0.5,0.3c0.1,0.1,0.3,0.2,0.4,0.2c1.5,1,5.4,3.5,8.7,3.4 C49,25.8,47.5,29.5,43.9,30.5z",color:"#0475C5"},reddit:{icon:"M 53.34375 32 C 53.277344 30.160156 52.136719 28.53125 50.429688 27.839844 C 48.722656 27.148438 46.769531 27.523438 45.441406 28.800781 C 41.800781 26.324219 37.519531 24.957031 33.121094 24.863281 L 35.199219 14.878906 L 42.046875 16.320312 C 42.214844 17.882812 43.496094 19.09375 45.066406 19.171875 C 46.636719 19.253906 48.03125 18.183594 48.359375 16.644531 C 48.6875 15.105469 47.847656 13.558594 46.382812 12.992188 C 44.914062 12.425781 43.253906 13.007812 42.464844 14.367188 L 34.625 12.800781 C 34.363281 12.742188 34.09375 12.792969 33.871094 12.9375 C 33.648438 13.082031 33.492188 13.308594 33.441406 13.566406 L 31.070312 24.671875 C 26.617188 24.738281 22.277344 26.105469 18.59375 28.609375 C 17.242188 27.339844 15.273438 26.988281 13.570312 27.707031 C 11.863281 28.429688 10.746094 30.089844 10.71875 31.941406 C 10.691406 33.789062 11.757812 35.484375 13.441406 36.257812 C 13.402344 36.726562 13.402344 37.195312 13.441406 37.664062 C 13.441406 44.832031 21.792969 50.65625 32.097656 50.65625 C 42.398438 50.65625 50.753906 44.832031 50.753906 37.664062 C 50.789062 37.195312 50.789062 36.726562 50.753906 36.257812 C 52.363281 35.453125 53.371094 33.800781 53.34375 32 Z M 21.34375 35.199219 C 21.34375 33.433594 22.777344 32 24.542969 32 C 26.3125 32 27.742188 33.433594 27.742188 35.199219 C 27.742188 36.96875 26.3125 38.398438 24.542969 38.398438 C 22.777344 38.398438 21.34375 36.96875 21.34375 35.199219 Z M 39.9375 44 C 37.664062 45.710938 34.871094 46.582031 32.03125 46.464844 C 29.191406 46.582031 26.398438 45.710938 24.128906 44 C 23.847656 43.65625 23.871094 43.15625 24.183594 42.839844 C 24.5 42.527344 25 42.503906 25.34375 42.785156 C 27.269531 44.195312 29.617188 44.90625 32 44.800781 C 34.386719 44.929688 36.746094 44.242188 38.6875 42.847656 C 39.042969 42.503906 39.605469 42.511719 39.953125 42.863281 C 40.296875 43.21875 40.289062 43.785156 39.9375 44.128906 Z M 39.359375 38.527344 C 37.59375 38.527344 36.160156 37.09375 36.160156 35.328125 C 36.160156 33.5625 37.59375 32.128906 39.359375 32.128906 C 41.128906 32.128906 42.558594 33.5625 42.558594 35.328125 C 42.59375 36.203125 42.269531 37.054688 41.65625 37.6875 C 41.046875 38.316406 40.203125 38.664062 39.328125 38.65625 Z M 39.359375 38.527344",mask:"M0,0v64h64V0H0z M 53.34375 32 C 53.277344 30.160156 52.136719 28.53125 50.429688 27.839844 C 48.722656 27.148438 46.769531 27.523438 45.441406 28.800781 C 41.800781 26.324219 37.519531 24.957031 33.121094 24.863281 L 35.199219 14.878906 L 42.046875 16.320312 C 42.214844 17.882812 43.496094 19.09375 45.066406 19.171875 C 46.636719 19.253906 48.03125 18.183594 48.359375 16.644531 C 48.6875 15.105469 47.847656 13.558594 46.382812 12.992188 C 44.914062 12.425781 43.253906 13.007812 42.464844 14.367188 L 34.625 12.800781 C 34.363281 12.742188 34.09375 12.792969 33.871094 12.9375 C 33.648438 13.082031 33.492188 13.308594 33.441406 13.566406 L 31.070312 24.671875 C 26.617188 24.738281 22.277344 26.105469 18.59375 28.609375 C 17.242188 27.339844 15.273438 26.988281 13.570312 27.707031 C 11.863281 28.429688 10.746094 30.089844 10.71875 31.941406 C 10.691406 33.789062 11.757812 35.484375 13.441406 36.257812 C 13.402344 36.726562 13.402344 37.195312 13.441406 37.664062 C 13.441406 44.832031 21.792969 50.65625 32.097656 50.65625 C 42.398438 50.65625 50.753906 44.832031 50.753906 37.664062 C 50.789062 37.195312 50.789062 36.726562 50.753906 36.257812 C 52.363281 35.453125 53.371094 33.800781 53.34375 32 Z M 21.34375 35.199219 C 21.34375 33.433594 22.777344 32 24.542969 32 C 26.3125 32 27.742188 33.433594 27.742188 35.199219 C 27.742188 36.96875 26.3125 38.398438 24.542969 38.398438 C 22.777344 38.398438 21.34375 36.96875 21.34375 35.199219 Z M 39.9375 44 C 37.664062 45.710938 34.871094 46.582031 32.03125 46.464844 C 29.191406 46.582031 26.398438 45.710938 24.128906 44 C 23.847656 43.65625 23.871094 43.15625 24.183594 42.839844 C 24.5 42.527344 25 42.503906 25.34375 42.785156 C 27.269531 44.195312 29.617188 44.90625 32 44.800781 C 34.386719 44.929688 36.746094 44.242188 38.6875 42.847656 C 39.042969 42.503906 39.605469 42.511719 39.953125 42.863281 C 40.296875 43.21875 40.289062 43.785156 39.9375 44.128906 Z M 39.359375 38.527344 C 37.59375 38.527344 36.160156 37.09375 36.160156 35.328125 C 36.160156 33.5625 37.59375 32.128906 39.359375 32.128906 C 41.128906 32.128906 42.558594 33.5625 42.558594 35.328125 C 42.59375 36.203125 42.269531 37.054688 41.65625 37.6875 C 41.046875 38.316406 40.203125 38.664062 39.328125 38.65625 Z M 39.359375 38.527344",color:"#FF4500"},rss:{icon:"M24,36c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4s4-1.8,4-4C28,37.8,26.2,36,24,36z M23,18 c-1.1,0-2,0.9-2,2s0.9,2,2,2c10.5,0,19,8.5,19,19c0,1.1,0.9,2,2,2s2-0.9,2-2C46,28.3,35.7,18,23,18z M23,27c-1.1,0-2,0.9-2,2 s0.9,2,2,2c5.5,0,10,4.5,10,10c0,1.1,0.9,2,2,2s2-0.9,2-2C37,33.3,30.7,27,23,27z",mask:"M0,0v64h64V0H0z M24,44c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4s4,1.8,4,4C28,42.2,26.2,44,24,44z M35,43 c-1.1,0-2-0.9-2-2c0-5.5-4.5-10-10-10c-1.1,0-2-0.9-2-2s0.9-2,2-2c7.7,0,14,6.3,14,14C37,42.1,36.1,43,35,43z M44,43 c-1.1,0-2-0.9-2-2c0-10.5-8.5-19-19-19c-1.1,0-2-0.9-2-2s0.9-2,2-2c12.7,0,23,10.3,23,23C46,42.1,45.1,43,44,43z",color:"#EF8733"},sharethis:{icon:"M28.3875,32.0001C28.3875,32.0843 28.3683,32.1632 28.3633,32.2471L37.1647,36.6464C37.9182,36.0083 38.8823,35.61 39.9474,35.61C42.3418,35.6105 44.2821,37.5509 44.2821,39.945C44.2821,42.3418 42.3417,44.2821 39.9474,44.2821C37.551,44.2821 35.6127,42.3417 35.6127,39.945C35.6127,39.8587 35.6319,39.7816 35.6367,39.698L26.8353,35.2984C26.0795,35.9341 25.1177,36.3324 24.0526,36.3324C21.6584,36.3324 19.7179,34.3941 19.7179,32.0001C19.7179,29.6036 21.6584,27.6628 24.0526,27.6628C25.1176,27.6628 26.0798,28.0635 26.8353,28.6992L35.6367,24.2997C35.6319,24.2156 35.6127,24.1365 35.6127,24.0502C35.6127,21.6584 37.551,19.7179 39.9474,19.7179C42.3418,19.7179 44.2821,21.6584 44.2821,24.0502C44.2821,26.4466 42.3417,28.3875 39.9474,28.3875C38.88,28.3875 37.9178,27.9868 37.1647,27.3487L28.3633,31.7506C28.368,31.8347 28.3875,31.9138 28.3875,32.0001Z",mask:"M0,0L64,0L64,64L0,64L0,0ZM28.3875,32.0001C28.3875,32.0843 28.3683,32.1632 28.3633,32.2471L37.1647,36.6464C37.9182,36.0083 38.8823,35.61 39.9474,35.61C42.3418,35.6105 44.2821,37.5509 44.2821,39.945C44.2821,42.3418 42.3417,44.2821 39.9474,44.2821C37.551,44.2821 35.6127,42.3417 35.6127,39.945C35.6127,39.8587 35.6319,39.7816 35.6367,39.698L26.8353,35.2984C26.0795,35.9341 25.1177,36.3324 24.0526,36.3324C21.6584,36.3324 19.7179,34.3941 19.7179,32.0001C19.7179,29.6036 21.6584,27.6628 24.0526,27.6628C25.1176,27.6628 26.0798,28.0635 26.8353,28.6992L35.6367,24.2997C35.6319,24.2156 35.6127,24.1365 35.6127,24.0502C35.6127,21.6584 37.551,19.7179 39.9474,19.7179C42.3418,19.7179 44.2821,21.6584 44.2821,24.0502C44.2821,26.4466 42.3417,28.3875 39.9474,28.3875C38.88,28.3875 37.9178,27.9868 37.1647,27.3487L28.3633,31.7506C28.368,31.8347 28.3875,31.9138 28.3875,32.0001Z",color:"#00BF00"},smugmug:{icon:"M25.4,22.9c2.8,0,4.1-1.7,3.9-3.1 c-0.1-1.2-1.3-2.4-3.6-2.4c-1.9,0-3.1,1.4-3.3,2.8C22.3,21.6,23.1,23,25.4,22.9z M39.2,22.6c2.6-0.1,3.8-1.5,3.8-2.8 c0-1.5-1.4-3-3.8-2.8c-1.9,0.2-3,1.5-3.2,2.8C35.9,21.3,36.9,22.7,39.2,22.6z M40.9,28.5c-6.6,0.7-6.9,0.7-19,1 c-5.1,0-4,17.5,6.9,17.5C39.2,47,51.7,27.4,40.9,28.5z M29,43.9c-9.5,0-8.2-11.3-6.6-11.4c11.1-0.4,13.9-0.9,17.8-0.9 C44.3,31.6,36.6,43.9,29,43.9z",mask:"M0,0v64h64V0H0z M36.1,19.8c0.2-1.3,1.3-2.6,3.2-2.8c2.4-0.2,3.8,1.3,3.8,2.8c0,1.3-1.2,2.6-3.8,2.8 C36.9,22.7,35.9,21.3,36.1,19.8z M22.5,20.2c0.2-1.4,1.4-2.8,3.3-2.8c2.3,0,3.5,1.1,3.6,2.4c0.2,1.5-1.1,3.1-3.9,3.1 C23.1,23,22.3,21.6,22.5,20.2z M28.8,47c-10.9,0-12-17.5-6.9-17.5c12.1-0.3,12.5-0.3,19-1C51.7,27.4,39.2,47,28.8,47z M40.3,31.6 c-3.9,0-6.8,0.5-17.8,0.9c-1.6,0.1-2.9,11.4,6.6,11.4C36.6,43.9,44.3,31.6,40.3,31.6z",color:"#8cca1e"},snapchat:{icon:"M32.309,15.962h-0.001c-0.028,0-0.054,0-0.078,0.001l0,0c0,0-0.513,0.005-0.554,0.005c-1.32,0-5.794,0.368-7.905,5.1c-0.71,1.592-0.54,4.296-0.403,6.469c0.016,0.256,0.033,0.522,0.048,0.779c-0.109,0.06-0.309,0.136-0.622,0.136c-0.419,0-0.914-0.132-1.472-0.394c-0.148-0.069-0.319-0.104-0.507-0.104c-0.653,0-1.434,0.43-1.555,1.07c-0.088,0.461,0.119,1.134,1.601,1.719c0.134,0.053,0.294,0.104,0.464,0.158c0.612,0.194,1.538,0.488,1.789,1.08c0.13,0.306,0.078,0.701-0.154,1.172c-0.005,0.011-0.01,0.021-0.015,0.032c-0.081,0.19-2.04,4.655-6.389,5.371c-0.334,0.055-0.573,0.353-0.555,0.692c0.006,0.101,0.03,0.201,0.071,0.298c0.326,0.763,1.703,1.322,4.21,1.711c0.084,0.113,0.171,0.514,0.224,0.758c0.052,0.241,0.106,0.489,0.183,0.751c0.076,0.257,0.272,0.565,0.776,0.565c0.204,0,0.444-0.047,0.723-0.102c0.418-0.082,0.99-0.193,1.706-0.193c0.397,0,0.809,0.035,1.223,0.103c0.809,0.135,1.496,0.621,2.292,1.183c1.14,0.806,2.431,1.718,4.393,1.718c0.054,0,0.108-0.002,0.162-0.006c0.064,0.003,0.146,0.006,0.234,0.006c1.963,0,3.253-0.913,4.392-1.718c0.798-0.563,1.484-1.049,2.293-1.184c0.414-0.069,0.825-0.103,1.222-0.103c0.683,0,1.223,0.087,1.706,0.181c0.302,0.059,0.545,0.089,0.723,0.089l0.019,0h0.018c0.373,0,0.636-0.197,0.74-0.554c0.076-0.256,0.13-0.498,0.183-0.743c0.053-0.243,0.14-0.642,0.223-0.754c2.508-0.389,3.884-0.948,4.21-1.707c0.042-0.097,0.066-0.198,0.072-0.3c0.019-0.339-0.22-0.636-0.554-0.691c-4.351-0.717-6.308-5.181-6.389-5.371c-0.005-0.011-0.01-0.022-0.015-0.032c-0.232-0.471-0.284-0.865-0.154-1.172c0.251-0.592,1.176-0.885,1.788-1.079c0.171-0.054,0.332-0.106,0.465-0.158c1.085-0.428,1.629-0.954,1.617-1.564c-0.009-0.478-0.382-0.905-0.974-1.117l-0.002-0.001c-0.199-0.083-0.436-0.128-0.667-0.128c-0.158,0-0.393,0.022-0.613,0.124c-0.516,0.242-0.98,0.373-1.379,0.391c-0.265-0.012-0.439-0.079-0.537-0.134c0.013-0.22,0.027-0.447,0.042-0.685l0.006-0.092c0.137-2.174,0.307-4.881-0.403-6.474C38.117,16.33,33.633,15.962,32.309,15.962L32.309,15.962z",mask:"M0,0v64h64V0H0z M47.927,39.545c-0.326,0.76-1.702,1.318-4.21,1.707c-0.083,0.113-0.17,0.511-0.223,0.754c-0.054,0.245-0.108,0.487-0.183,0.743c-0.104,0.357-0.367,0.554-0.74,0.554h-0.018l-0.019,0c-0.177,0-0.421-0.03-0.723-0.089c-0.482-0.094-1.022-0.181-1.706-0.181c-0.397,0-0.809,0.034-1.222,0.103c-0.809,0.135-1.496,0.62-2.293,1.184c-1.139,0.805-2.43,1.718-4.392,1.718c-0.088,0-0.171-0.003-0.234-0.006c-0.054,0.004-0.108,0.006-0.162,0.006c-1.962,0-3.253-0.912-4.393-1.718c-0.796-0.562-1.483-1.048-2.292-1.183c-0.414-0.069-0.826-0.103-1.223-0.103c-0.716,0-1.288,0.112-1.706,0.193c-0.278,0.055-0.519,0.102-0.723,0.102c-0.505,0-0.701-0.308-0.776-0.565c-0.077-0.262-0.131-0.51-0.183-0.751c-0.053-0.244-0.14-0.644-0.224-0.758c-2.507-0.389-3.884-0.948-4.21-1.711c-0.041-0.097-0.065-0.197-0.071-0.298c-0.019-0.338,0.22-0.637,0.555-0.692c4.349-0.716,6.308-5.181,6.389-5.371c0.005-0.011,0.01-0.021,0.015-0.032c0.232-0.471,0.284-0.866,0.154-1.172c-0.251-0.592-1.177-0.885-1.789-1.08c-0.17-0.054-0.331-0.105-0.464-0.157c-1.482-0.585-1.688-1.258-1.601-1.719c0.122-0.64,0.903-1.07,1.555-1.07c0.189,0,0.359,0.035,0.507,0.104c0.557,0.261,1.053,0.394,1.472,0.394c0.314,0,0.513-0.075,0.622-0.136c-0.015-0.257-0.032-0.523-0.048-0.779c-0.136-2.173-0.307-4.877,0.403-6.469c2.111-4.732,6.585-5.1,7.905-5.1c0.041,0,0.554-0.005,0.554-0.005c0.025-0.001,0.051-0.001,0.078-0.001h0.001c1.324,0,5.807,0.368,7.919,5.103c0.711,1.593,0.54,4.299,0.403,6.474l-0.006,0.092c-0.015,0.237-0.029,0.464-0.042,0.685c0.099,0.055,0.272,0.121,0.537,0.134c0.4-0.018,0.863-0.149,1.379-0.391c0.219-0.103,0.454-0.124,0.613-0.124c0.232,0,0.468,0.045,0.667,0.128l0.002,0.001c0.592,0.212,0.965,0.638,0.974,1.117c0.011,0.609-0.533,1.135-1.617,1.564c-0.132,0.052-0.293,0.103-0.465,0.158c-0.612,0.194-1.538,0.488-1.788,1.079c-0.13,0.306-0.079,0.701,0.154,1.172c0.005,0.011,0.01,0.021,0.015,0.032c0.081,0.189,2.038,4.654,6.389,5.371c0.334,0.055,0.573,0.353,0.555,0.691C47.993,39.347,47.969,39.448,47.927,39.545z",color:"#FFC91B"},soundcloud:{icon:"M43.6,30c-0.6,0-1.2,0.1-1.7,0.3c-0.3-4-3.7-7.1-7.7-7.1c-1,0-2,0.2-2.8,0.5 C31.1,23.9,31,24,31,24.3v13.9c0,0.3,0.2,0.5,0.5,0.5c0,0,12.2,0,12.2,0c2.4,0,4.4-1.9,4.4-4.4C48,31.9,46,30,43.6,30z M27.2,25.1 c-0.7,0-1.2,0.5-1.2,1.1v11.3c0,0.7,0.6,1.2,1.2,1.2c0.7,0,1.2-0.6,1.2-1.2V26.2C28.4,25.6,27.8,25.1,27.2,25.1z M22.2,27.8 c-0.7,0-1.2,0.5-1.2,1.1v8.5c0,0.7,0.6,1.2,1.2,1.2s1.2-0.6,1.2-1.2V29C23.4,28.3,22.9,27.8,22.2,27.8z M17.2,30.2 c-0.7,0-1.2,0.5-1.2,1.1v4.9c0,0.7,0.6,1.2,1.2,1.2c0.7,0,1.2-0.6,1.2-1.2v-4.9C18.5,30.7,17.9,30.2,17.2,30.2z",mask:"M0,0v64h64V0H0z M18.5,36.3c0,0.7-0.6,1.2-1.2,1.2c-0.7,0-1.2-0.6-1.2-1.2v-4.9c0-0.6,0.6-1.1,1.2-1.1 c0.7,0,1.2,0.5,1.2,1.1V36.3z M23.4,37.5c0,0.7-0.6,1.2-1.2,1.2S21,38.2,21,37.5V29c0-0.6,0.6-1.1,1.2-1.1s1.2,0.5,1.2,1.1V37.5z  M28.4,37.5c0,0.7-0.6,1.2-1.2,1.2c-0.7,0-1.2-0.6-1.2-1.2V26.2c0-0.6,0.6-1.1,1.2-1.1c0.7,0,1.2,0.5,1.2,1.1V37.5z M43.6,38.7 c0,0-12.1,0-12.2,0c-0.3,0-0.5-0.2-0.5-0.5V24.3c0-0.3,0.1-0.4,0.4-0.5c0.9-0.3,1.8-0.5,2.8-0.5c4,0,7.4,3.1,7.7,7.1 c0.5-0.2,1.1-0.3,1.7-0.3c2.4,0,4.4,2,4.4,4.4C48,36.8,46,38.7,43.6,38.7z",color:"#FF5700"},spotify:{icon:"M32,16c-8.8,0-16,7.2-16,16c0,8.8,7.2,16,16,16c8.8,0,16-7.2,16-16C48,23.2,40.8,16,32,16 M39.3,39.1c-0.3,0.5-0.9,0.6-1.4,0.3c-3.8-2.3-8.5-2.8-14.1-1.5c-0.5,0.1-1.1-0.2-1.2-0.7c-0.1-0.5,0.2-1.1,0.8-1.2 c6.1-1.4,11.3-0.8,15.5,1.8C39.5,38,39.6,38.6,39.3,39.1 M41.3,34.7c-0.4,0.6-1.1,0.8-1.7,0.4c-4.3-2.6-10.9-3.4-15.9-1.9 c-0.7,0.2-1.4-0.2-1.6-0.8c-0.2-0.7,0.2-1.4,0.8-1.6c5.8-1.8,13-0.9,18,2.1C41.5,33.4,41.7,34.1,41.3,34.7 M41.5,30.2 c-5.2-3.1-13.7-3.3-18.6-1.9c-0.8,0.2-1.6-0.2-1.9-1c-0.2-0.8,0.2-1.6,1-1.9c5.7-1.7,15-1.4,21,2.1c0.7,0.4,0.9,1.3,0.5,2.1 C43.1,30.4,42.2,30.6,41.5,30.2",mask:"M39,37.7c-4.2-2.6-9.4-3.2-15.5-1.8c-0.5,0.1-0.9,0.7-0.8,1.2c0.1,0.5,0.7,0.9,1.2,0.7c5.6-1.3,10.3-0.8,14.1,1.5 c0.5,0.3,1.1,0.1,1.4-0.3C39.6,38.6,39.5,38,39,37.7z M40.9,33c-4.9-3-12.2-3.9-18-2.1c-0.7,0.2-1,0.9-0.8,1.6 c0.2,0.7,0.9,1,1.6,0.8c5.1-1.5,11.6-0.8,15.9,1.9c0.6,0.4,1.4,0.2,1.7-0.4C41.7,34.1,41.5,33.4,40.9,33z M0,0v64h64V0H0z M32,48 c-8.8,0-16-7.2-16-16c0-8.8,7.2-16,16-16c8.8,0,16,7.2,16,16C48,40.8,40.8,48,32,48z M43,27.6c-5.9-3.5-15.3-3.9-21-2.1 c-0.8,0.2-1.2,1.1-1,1.9c0.2,0.8,1.1,1.2,1.9,1c4.9-1.5,13.4-1.2,18.6,1.9c0.7,0.4,1.6,0.2,2.1-0.5C43.9,29,43.7,28,43,27.6z",color:"#2EBD59"},squarespace:{icon:"M46.2,27.6c-2.4-2.4-6.3-2.4-8.7,0l-9.8,9.8c-0.6,0.6-0.6,1.6,0,2.2c0.6,0.6,1.6,0.6,2.2,0 l9.8-9.8c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.6,9.6c1.2,1.2,3.2,1.2,4.4,0l7.5-7.5C48.6,34,48.6,30,46.2,27.6z  M42.9,30.9c-0.6-0.6-1.6-0.6-2.2,0l-9.8,9.8c-1.2,1.2-3.2,1.2-4.4,0c-0.6-0.6-1.6-0.6-2.2,0c-0.6,0.6-0.6,1.6,0,2.2 c2.4,2.4,6.3,2.4,8.7,0l9.8-9.8C43.5,32.5,43.5,31.5,42.9,30.9z M39.6,21.1c-2.4-2.4-6.3-2.4-8.7,0l-9.8,9.8c-0.6,0.6-0.6,1.6,0,2.2 c0.6,0.6,1.6,0.6,2.2,0l9.8-9.8c1.2-1.2,3.2-1.2,4.4,0c0.6,0.6,1.6,0.6,2.2,0C40.2,22.7,40.2,21.7,39.6,21.1z M36.4,24.4 c-0.6-0.6-1.6-0.6-2.2,0l-9.8,9.8c-1.2,1.2-3.2,1.2-4.4,0c-1.2-1.2-1.2-3.2,0-4.4l9.6-9.6c-1.2-1.2-3.2-1.2-4.4,0l-7.5,7.5 c-2.4,2.4-2.4,6.3,0,8.7c2.4,2.4,6.3,2.4,8.7,0l9.8-9.8C37,25.9,37,25,36.4,24.4z",mask:"M0,0v64h64V0H0z M39.6,21.1c0.6,0.6,0.6,1.6,0,2.2c-0.6,0.6-1.6,0.6-2.2,0c-1.2-1.2-3.2-1.2-4.4,0l-9.8,9.8 c-0.6,0.6-1.6,0.6-2.2,0c-0.6-0.6-0.6-1.6,0-2.2l9.8-9.8C33.3,18.7,37.2,18.7,39.6,21.1z M17.8,36.4c-2.4-2.4-2.4-6.3,0-8.7l7.5-7.5 c1.2-1.2,3.2-1.2,4.4,0L20,29.8c-1.2,1.2-1.2,3.2,0,4.4c1.2,1.2,3.2,1.2,4.4,0l9.8-9.8c0.6-0.6,1.6-0.6,2.2,0c0.6,0.6,0.6,1.6,0,2.2 l-9.8,9.8C24.1,38.8,20.2,38.8,17.8,36.4z M24.4,42.9c-0.6-0.6-0.6-1.6,0-2.2c0.6-0.6,1.6-0.6,2.2,0c1.2,1.2,3.2,1.2,4.4,0l9.8-9.8 c0.6-0.6,1.6-0.6,2.2,0c0.6,0.6,0.6,1.6,0,2.2l-9.8,9.8C30.7,45.3,26.8,45.3,24.4,42.9z M46.2,36.4l-7.5,7.5c-1.2,1.2-3.2,1.2-4.4,0 l9.6-9.6c1.2-1.2,1.2-3.2,0-4.4c-1.2-1.2-3.2-1.2-4.4,0l-9.8,9.8c-0.6,0.6-1.6,0.6-2.2,0c-0.6-0.6-0.6-1.6,0-2.2l9.8-9.8 c2.4-2.4,6.3-2.4,8.7,0C48.6,30,48.6,34,46.2,36.4z",color:"#1C1C1C"},tumblr:{icon:"M39.2,41c-0.6,0.3-1.6,0.5-2.4,0.5c-2.4,0.1-2.9-1.7-2.9-3v-9.3h6v-4.5h-6V17c0,0-4.3,0-4.4,0 c-0.1,0-0.2,0.1-0.2,0.2c-0.3,2.3-1.4,6.4-5.9,8.1v3.9h3V39c0,3.4,2.5,8.1,9,8c2.2,0,4.7-1,5.2-1.8L39.2,41z",mask:"M0,0v64h64V0H0z M35.4,47c-6.5,0.1-9-4.7-9-8v-9.8h-3v-3.9c4.6-1.6,5.6-5.7,5.9-8.1c0-0.2,0.1-0.2,0.2-0.2 c0.1,0,4.4,0,4.4,0v7.6h6v4.5h-6v9.3c0,1.3,0.5,3,2.9,3c0.8,0,1.9-0.3,2.4-0.5l1.4,4.3C40.1,46,37.6,47,35.4,47z",color:"#2c4762"},twitch:{icon:"M40,25.6h-2.5v7.6H40V25.6z M33,25.6h-2.5v7.6H33V25.6z M20.9,18L19,23.1v20.4h7v3.8h3.8l3.8-3.8h5.7l7.6-7.6V18H20.9z M44.5,34.5L40,39h-7l-3.8,3.8V39h-5.7V20.5h21V34.5z",mask:"M0,0v64h64V0H0z M47,35.8l-7.6,7.6h-5.7l-3.8,3.8H26v-3.8h-7V23.1l1.9-5.1H47V35.8z M29.2,42.8L33,39h7l4.5-4.5 v-14h-21V39h5.7V42.8z M37.5,25.6H40v7.6h-2.5V25.6z M30.5,25.6H33v7.6h-2.5V25.6z",color:"#6441A5"},twitter:{icon:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z",mask:"M0,0v64h64V0H0z M44.7,25.5c0,0.3,0,0.6,0,0.8C44.7,35,38.1,45,26.1,45c-3.7,0-7.2-1.1-10.1-2.9 c0.5,0.1,1,0.1,1.6,0.1c3.1,0,5.9-1,8.2-2.8c-2.9-0.1-5.3-2-6.1-4.6c0.4,0.1,0.8,0.1,1.2,0.1c0.6,0,1.2-0.1,1.7-0.2 c-3-0.6-5.3-3.3-5.3-6.4c0,0,0-0.1,0-0.1c0.9,0.5,1.9,0.8,3,0.8c-1.8-1.2-2.9-3.2-2.9-5.5c0-1.2,0.3-2.3,0.9-3.3 c3.2,4,8.1,6.6,13.5,6.9c-0.1-0.5-0.2-1-0.2-1.5c0-3.6,2.9-6.6,6.6-6.6c1.9,0,3.6,0.8,4.8,2.1c1.5-0.3,2.9-0.8,4.2-1.6 c-0.5,1.5-1.5,2.8-2.9,3.6c1.3-0.2,2.6-0.5,3.8-1C47.1,23.4,46,24.5,44.7,25.5z",color:"#00aced"},vevo:{icon:"M43,21c-4.5,0-5.4,2.7-6.8,4.6c0,0-3.7,5.6-5.1,7.7l-3-12.3H20l5.1,20.6c1.1,3.7,4.1,3.4,4.1,3.4 c2.1,0,3.6-1.1,5-3.1L48,21C48,21,43.2,21,43,21z",mask:"M0,0v64h64V0H0z M34.2,41.9c-1.4,2.1-2.9,3.1-5,3.1c0,0-3,0.2-4.1-3.4L20,21h8.1l3,12.3c1.4-2.1,5.1-7.7,5.1-7.7 c1.4-1.9,2.2-4.6,6.8-4.6c0.2,0,5,0,5,0L34.2,41.9z",color:"#ED1A3B"},vimeo:{icon:"M47,25c-0.1,2.9-2.2,6.9-6.1,12c-4.1,5.3-7.5,8-10.4,8c-1.7,0-3.2-1.6-4.4-4.8 c-0.8-3-1.6-5.9-2.4-8.9c-0.9-3.2-1.9-4.8-2.9-4.8c-0.2,0-1,0.5-2.4,1.4L17,26c1.5-1.3,2.9-2.6,4.4-3.9c2-1.7,3.5-2.6,4.4-2.7 c2.3-0.2,3.8,1.4,4.3,4.8c0.6,3.7,1,6,1.2,6.9c0.7,3.1,1.4,4.6,2.2,4.6c0.6,0,1.6-1,2.8-3c1.3-2,1.9-3.5,2-4.5 c0.2-1.7-0.5-2.6-2-2.6c-0.7,0-1.5,0.2-2.2,0.5c1.5-4.8,4.3-7.2,8.4-7C45.7,19.1,47.2,21.1,47,25z",mask:"M0,0v64h64V0H0z M40.9,37c-4.1,5.3-7.5,8-10.4,8c-1.7,0-3.2-1.6-4.4-4.8c-0.8-3-1.6-5.9-2.4-8.9 c-0.9-3.2-1.9-4.8-2.9-4.8c-0.2,0-1,0.5-2.4,1.4L17,26c1.5-1.3,2.9-2.6,4.4-3.9c2-1.7,3.5-2.6,4.4-2.7c2.3-0.2,3.8,1.4,4.3,4.8 c0.6,3.7,1,6,1.2,6.9c0.7,3.1,1.4,4.6,2.2,4.6c0.6,0,1.6-1,2.8-3c1.3-2,1.9-3.5,2-4.5c0.2-1.7-0.5-2.6-2-2.6c-0.7,0-1.5,0.2-2.2,0.5 c1.5-4.8,4.3-7.2,8.4-7c3.1,0.1,4.5,2.1,4.4,6C46.9,27.9,44.8,31.9,40.9,37z",color:"#1ab7ea"},vine:{icon:"M45.2,31.9c-0.8,0.2-1.5,0.3-2.2,0.3c-3.8,0-6.7-2.6-6.7-7.2c0-2.3,0.9-3.4,2.1-3.4 c1.2,0,2,1.1,2,3.2c0,1.2-0.3,2.5-0.6,3.3c0,0,1.2,2,4.4,1.4c0.7-1.5,1-3.5,1-5.2c0-4.6-2.3-7.3-6.6-7.3c-4.4,0-7,3.4-7,7.9 c0,4.4,2.1,8.2,5.5,10c-1.4,2.9-3.3,5.4-5.2,7.3c-3.5-4.2-6.6-9.8-7.9-20.7h-5.1c2.4,18.1,9.4,23.9,11.2,25c1.1,0.6,2,0.6,2.9,0.1 c1.5-0.9,6-5.4,8.6-10.7c1.1,0,2.3-0.1,3.6-0.4V31.9z",mask:"M0,0v64h64V0H0z M38.4,21.5c-1.2,0-2.1,1.2-2.1,3.4c0,4.6,2.9,7.2,6.7,7.2c0.7,0,1.4-0.1,2.2-0.3v3.6 c-1.3,0.3-2.5,0.4-3.6,0.4c-2.5,5.3-7,9.8-8.6,10.7c-1,0.5-1.9,0.6-2.9-0.1c-1.9-1.1-8.9-6.9-11.2-25H24c1.3,10.9,4.4,16.5,7.9,20.7 c1.9-1.9,3.7-4.4,5.2-7.3c-3.4-1.7-5.5-5.5-5.5-10c0-4.5,2.6-7.9,7-7.9c4.3,0,6.6,2.7,6.6,7.3c0,1.7-0.4,3.7-1,5.2 c-3.2,0.6-4.4-1.4-4.4-1.4c0.2-0.8,0.6-2.1,0.6-3.3C40.3,22.6,39.5,21.5,38.4,21.5z",color:"#00BF8F"},vk:{icon:"M44.94,44.84h-0.2c-2.17-.36-3.66-1.92-4.92-3.37C39.1,40.66,38,38.81,36.7,39c-1.85.3-.93,3.52-1.71,4.9-0.62,1.11-3.29.91-5.12,0.71-5.79-.62-8.75-3.77-11.35-7.14A64.13,64.13,0,0,1,11.6,26a10.59,10.59,0,0,1-1.51-4.49C11,20.7,12.56,21,14.11,21c1.31,0,3.36-.29,4.32.2C19,21.46,19.57,23,20,24a37.18,37.18,0,0,0,3.31,5.82c0.56,0.81,1.41,2.35,2.41,2.14s1.06-2.63,1.1-4.18c0-1.77,0-4-.5-4.9S25,22,24.15,21.47c0.73-1.49,2.72-1.63,5.12-1.63,2,0,4.84-.23,5.62,1.12s0.25,3.85.2,5.71c-0.06,2.09-.41,4.25,1,5.21,1.09-.12,1.68-1.2,2.31-2A28,28,0,0,0,41.72,24c0.44-1,.91-2.65,1.71-3,1.21-.47,3.15-0.1,4.92-0.1,1.46,0,4.05-.41,4.52.61,0.39,0.85-.75,3-1.1,3.57a61.88,61.88,0,0,1-4.12,5.61c-0.58.78-1.78,2-1.71,3.27,0.05,0.94,1,1.67,1.71,2.35a33.12,33.12,0,0,1,3.92,4.18c0.47,0.62,1.5,2,1.4,2.76C52.66,45.81,46.88,44.24,44.94,44.84Z",mask:"M0,0v64h64V0H0z M44.94,44.84h-0.2c-2.17-.36-3.66-1.92-4.92-3.37C39.1,40.66,38,38.81,36.7,39c-1.85.3-.93,3.52-1.71,4.9-0.62,1.11-3.29.91-5.12,0.71-5.79-.62-8.75-3.77-11.35-7.14A64.13,64.13,0,0,1,11.6,26a10.59,10.59,0,0,1-1.51-4.49C11,20.7,12.56,21,14.11,21c1.31,0,3.36-.29,4.32.2C19,21.46,19.57,23,20,24a37.18,37.18,0,0,0,3.31,5.82c0.56,0.81,1.41,2.35,2.41,2.14s1.06-2.63,1.1-4.18c0-1.77,0-4-.5-4.9S25,22,24.15,21.47c0.73-1.49,2.72-1.63,5.12-1.63,2,0,4.84-.23,5.62,1.12s0.25,3.85.2,5.71c-0.06,2.09-.41,4.25,1,5.21,1.09-.12,1.68-1.2,2.31-2A28,28,0,0,0,41.72,24c0.44-1,.91-2.65,1.71-3,1.21-.47,3.15-0.1,4.92-0.1,1.46,0,4.05-.41,4.52.61,0.39,0.85-.75,3-1.1,3.57a61.88,61.88,0,0,1-4.12,5.61c-0.58.78-1.78,2-1.71,3.27,0.05,0.94,1,1.67,1.71,2.35a33.12,33.12,0,0,1,3.92,4.18c0.47,0.62,1.5,2,1.4,2.76C52.66,45.81,46.88,44.24,44.94,44.84Z",color:"#45668e"},vsco:{icon:"M32,16c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5 C34.5,17.1,33.4,16,32,16z M18.5,29.5c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5 C20.9,30.6,19.8,29.5,18.5,29.5z M25.2,22.8c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5 C27.7,23.9,26.6,22.8,25.2,22.8z M38.7,27.6c1.4,0,2.5-1.1,2.5-2.5c0-1.4-1.1-2.5-2.5-2.5c-1.4,0-2.5,1.1-2.5,2.5 C36.2,26.5,37.3,27.6,38.7,27.6z M25.1,36.2c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5 C27.6,37.3,26.5,36.2,25.1,36.2z M31.9,34.4c1.4,0,2.5-1.1,2.5-2.5c0-1.4-1.1-2.5-2.5-2.5c-1.4,0-2.5,1.1-2.5,2.5 C29.5,33.3,30.6,34.4,31.9,34.4z M45.5,29.5c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5 C48,30.6,46.9,29.5,45.5,29.5z M32,43.1c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5 C34.5,44.2,33.4,43.1,32,43.1z M38.8,36.3c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5 C41.2,37.4,40.1,36.3,38.8,36.3z",mask:"M0,0v64h64V0H0z M18.5,34.5c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5 C20.9,33.4,19.8,34.5,18.5,34.5z M25.1,41.1c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5 C27.6,40,26.5,41.1,25.1,41.1z M25.2,27.7c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5 C27.7,26.6,26.6,27.7,25.2,27.7z M32,48c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5 C34.5,46.9,33.4,48,32,48z M29.5,31.9c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5c0,1.4-1.1,2.5-2.5,2.5 C30.6,34.4,29.5,33.3,29.5,31.9z M32,20.9c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5 C34.5,19.8,33.4,20.9,32,20.9z M38.7,22.7c1.4,0,2.5,1.1,2.5,2.5c0,1.4-1.1,2.5-2.5,2.5c-1.4,0-2.5-1.1-2.5-2.5 C36.2,23.8,37.3,22.7,38.7,22.7z M38.8,41.2c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5 C41.2,40.1,40.1,41.2,38.8,41.2z M45.5,34.5c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5 C48,33.4,46.9,34.5,45.5,34.5z",color:"#83878A"},wechat:{icon:"M48.769,46.072c2.85-2.068,4.672-5.121,4.672-8.518c0-6.219-6.053-11.262-13.518-11.262s-13.519,5.043-13.519,11.262 c0,6.221,6.054,11.266,13.519,11.266c1.541,0,3.031-0.219,4.412-0.617l0.396-0.061c0.262,0,0.494,0.08,0.717,0.209l2.963,1.709 l0.26,0.084c0.248,0,0.449-0.201,0.449-0.451l-0.074-0.328l-0.607-2.275l-0.047-0.285C48.392,46.5,48.54,46.232,48.769,46.072z M24.782,13.854c-8.959,0-16.222,6.053-16.222,13.519c0,4.072,2.185,7.74,5.604,10.219c0.274,0.193,0.455,0.514,0.455,0.879 l-0.057,0.344l-0.731,2.729l-0.088,0.395c0,0.299,0.243,0.541,0.541,0.541l0.313-0.102l3.551-2.051 c0.266-0.152,0.548-0.248,0.86-0.248l0.477,0.07c1.657,0.479,3.445,0.742,5.296,0.742l0.891-0.021 c-0.352-1.055-0.544-2.166-0.544-3.311c0-6.811,6.623-12.33,14.794-12.33l0.881,0.022C39.581,18.794,32.874,13.854,24.782,13.854z M35.415,35.754c-0.994,0-1.801-0.807-1.801-1.803s0.807-1.803,1.801-1.803c0.998,0,1.803,0.807,1.803,1.803 S36.413,35.754,35.415,35.754z M44.431,35.754c-0.998,0-1.805-0.807-1.805-1.803s0.807-1.803,1.805-1.803 c0.992,0,1.799,0.807,1.799,1.803S45.423,35.754,44.431,35.754z M19.375,25.21c-1.195,0-2.162-0.969-2.162-2.162 c0-1.194,0.967-2.163,2.162-2.163c1.194,0,2.163,0.969,2.163,2.163C21.538,24.241,20.569,25.21,19.375,25.21z M30.188,25.21 c-1.196,0-2.162-0.969-2.162-2.162c0-1.194,0.966-2.163,2.162-2.163c1.195,0,2.162,0.969,2.162,2.163 C32.351,24.241,31.384,25.21,30.188,25.21z",mask:"M65.6,65.6H-1.6V-1.6H65.6V65.6z M49.738,46.043c2.846-2.061,4.662-5.107,4.662-8.498 c0-6.207-6.043-11.244-13.492-11.244c-7.453,0-13.494,5.037-13.494,11.244c0,6.213,6.041,11.246,13.494,11.246 c1.537,0,3.025-0.221,4.402-0.615l0.395-0.059c0.262,0,0.498,0.078,0.717,0.207l2.955,1.707l0.26,0.082 c0.252,0,0.451-0.203,0.451-0.449l-0.074-0.328l-0.605-2.271l-0.047-0.287C49.361,46.477,49.508,46.211,49.738,46.043L49.738,46.043 z M25.793,13.887C16.85,13.887,9.6,19.93,9.6,27.383c0,4.066,2.182,7.723,5.596,10.197c0.275,0.195,0.453,0.518,0.453,0.879 l-0.055,0.344l-0.732,2.725l-0.086,0.393c0,0.301,0.24,0.541,0.539,0.541l0.311-0.1l3.545-2.049c0.27-0.152,0.551-0.248,0.861-0.248 l0.475,0.068c1.654,0.479,3.439,0.742,5.287,0.742l0.891-0.021c-0.354-1.053-0.543-2.16-0.543-3.309 c0-6.793,6.611-12.305,14.768-12.305l0.879,0.021C40.564,18.818,33.871,13.887,25.793,13.887z M36.408,35.746 c-0.996,0-1.799-0.805-1.799-1.799c0-0.992,0.803-1.799,1.799-1.799s1.799,0.807,1.799,1.799 C38.207,34.941,37.404,35.746,36.408,35.746z M45.404,35.746c-0.996,0-1.799-0.805-1.799-1.799c0-0.992,0.803-1.799,1.799-1.799 s1.799,0.807,1.799,1.799C47.203,34.941,46.4,35.746,45.404,35.746z M20.395,25.221c-1.189,0-2.158-0.965-2.158-2.158 s0.969-2.158,2.158-2.158c1.193,0,2.162,0.965,2.162,2.158S21.588,25.221,20.395,25.221z M31.191,25.221 c-1.193,0-2.158-0.965-2.158-2.158s0.965-2.158,2.158-2.158s2.158,0.965,2.158,2.158S32.385,25.221,31.191,25.221z",color:"#00c80f"},whatsapp:{icon:"M 48 31.589844 C 48 40.195312 40.96875 47.175781 32.289062 47.175781 C 29.535156 47.175781 26.949219 46.472656 24.695312 45.234375 L 16 48 L 18.835938 39.636719 C 17.40625 37.289062 16.582031 34.53125 16.582031 31.589844 C 16.582031 22.980469 23.613281 16 32.289062 16 C 40.96875 16 48 22.980469 48 31.589844 Z M 32.289062 18.484375 C 25.007812 18.484375 19.082031 24.363281 19.082031 31.589844 C 19.082031 34.457031 20.019531 37.109375 21.597656 39.269531 L 19.949219 44.136719 L 25.023438 42.527344 C 27.109375 43.894531 29.609375 44.691406 32.292969 44.691406 C 39.574219 44.691406 45.5 38.816406 45.5 31.589844 C 45.5 24.363281 39.574219 18.484375 32.289062 18.484375 Z M 40.222656 35.179688 C 40.125 35.019531 39.871094 34.921875 39.484375 34.730469 C 39.101562 34.542969 37.207031 33.617188 36.855469 33.488281 C 36.5 33.363281 36.242188 33.296875 35.988281 33.679688 C 35.730469 34.0625 34.992188 34.921875 34.769531 35.179688 C 34.542969 35.433594 34.320312 35.464844 33.933594 35.273438 C 33.546875 35.082031 32.308594 34.679688 30.835938 33.378906 C 29.691406 32.367188 28.917969 31.117188 28.695312 30.734375 C 28.472656 30.351562 28.671875 30.144531 28.863281 29.953125 C 29.039062 29.78125 29.25 29.507812 29.441406 29.285156 C 29.636719 29.0625 29.699219 28.902344 29.828125 28.648438 C 29.957031 28.390625 29.890625 28.167969 29.792969 27.976562 C 29.699219 27.785156 28.925781 25.90625 28.605469 25.140625 C 28.285156 24.375 27.964844 24.503906 27.742188 24.503906 C 27.515625 24.503906 27.257812 24.472656 27.003906 24.472656 C 26.746094 24.472656 26.328125 24.566406 25.976562 24.949219 C 25.621094 25.332031 24.628906 26.257812 24.628906 28.136719 C 24.628906 30.015625 26.007812 31.832031 26.199219 32.085938 C 26.394531 32.34375 28.863281 36.324219 32.777344 37.855469 C 36.691406 39.386719 36.691406 38.875 37.398438 38.8125 C 38.105469 38.746094 39.675781 37.886719 40 36.996094 C 40.320312 36.101562 40.320312 35.335938 40.222656 35.179688 Z M 40.222656 35.179688",mask:"M0,0v64h64V0H0z M 48 31.589844 C 48 40.195312 40.96875 47.175781 32.289062 47.175781 C 29.535156 47.175781 26.949219 46.472656 24.695312 45.234375 L 16 48 L 18.835938 39.636719 C 17.40625 37.289062 16.582031 34.53125 16.582031 31.589844 C 16.582031 22.980469 23.613281 16 32.289062 16 C 40.96875 16 48 22.980469 48 31.589844 Z M 32.289062 18.484375 C 25.007812 18.484375 19.082031 24.363281 19.082031 31.589844 C 19.082031 34.457031 20.019531 37.109375 21.597656 39.269531 L 19.949219 44.136719 L 25.023438 42.527344 C 27.109375 43.894531 29.609375 44.691406 32.292969 44.691406 C 39.574219 44.691406 45.5 38.816406 45.5 31.589844 C 45.5 24.363281 39.574219 18.484375 32.289062 18.484375 Z M 40.222656 35.179688 C 40.125 35.019531 39.871094 34.921875 39.484375 34.730469 C 39.101562 34.542969 37.207031 33.617188 36.855469 33.488281 C 36.5 33.363281 36.242188 33.296875 35.988281 33.679688 C 35.730469 34.0625 34.992188 34.921875 34.769531 35.179688 C 34.542969 35.433594 34.320312 35.464844 33.933594 35.273438 C 33.546875 35.082031 32.308594 34.679688 30.835938 33.378906 C 29.691406 32.367188 28.917969 31.117188 28.695312 30.734375 C 28.472656 30.351562 28.671875 30.144531 28.863281 29.953125 C 29.039062 29.78125 29.25 29.507812 29.441406 29.285156 C 29.636719 29.0625 29.699219 28.902344 29.828125 28.648438 C 29.957031 28.390625 29.890625 28.167969 29.792969 27.976562 C 29.699219 27.785156 28.925781 25.90625 28.605469 25.140625 C 28.285156 24.375 27.964844 24.503906 27.742188 24.503906 C 27.515625 24.503906 27.257812 24.472656 27.003906 24.472656 C 26.746094 24.472656 26.328125 24.566406 25.976562 24.949219 C 25.621094 25.332031 24.628906 26.257812 24.628906 28.136719 C 24.628906 30.015625 26.007812 31.832031 26.199219 32.085938 C 26.394531 32.34375 28.863281 36.324219 32.777344 37.855469 C 36.691406 39.386719 36.691406 38.875 37.398438 38.8125 C 38.105469 38.746094 39.675781 37.886719 40 36.996094 C 40.320312 36.101562 40.320312 35.335938 40.222656 35.179688 Z M 40.222656 35.179688",color:"#25D366"},yelp:{icon:"M29.5,35.7c0.5-0.1,0.9-0.6,0.9-1.2c0-0.6-0.3-1.2-0.8-1.4c0,0-1.5-0.6-1.5-0.6 c-5-2.1-5.2-2.1-5.5-2.1c-0.4,0-0.7,0.2-1,0.6c-0.5,0.8-0.7,3.3-0.5,5c0.1,0.6,0.2,1,0.3,1.3c0.2,0.4,0.5,0.6,0.9,0.6 c0.2,0,0.4,0,5.1-1.5C27.5,36.4,29.5,35.7,29.5,35.7z M32.2,37.6c-0.6-0.2-1.2-0.1-1.5,0.4c0,0-1,1.2-1,1.2 c-3.5,4.1-3.7,4.3-3.7,4.5c-0.1,0.1-0.1,0.3-0.1,0.4c0,0.2,0.1,0.4,0.3,0.6c0.8,1,4.7,2.4,6,2.2c0.4-0.1,0.7-0.3,0.9-0.7 C33,46.1,33,45.9,33,41c0,0,0-2.2,0-2.2C33.1,38.3,32.7,37.8,32.2,37.6z M32.3,16.8c-0.1-0.4-0.4-0.7-0.9-0.8 c-1.3-0.3-6.5,1.1-7.5,2.1c-0.3,0.3-0.4,0.7-0.3,1.1c0.2,0.3,6.5,10.4,6.5,10.4c0.9,1.5,1.7,1.3,2,1.2c0.3-0.1,1-0.3,0.9-2.1 C33,26.6,32.4,17.3,32.3,16.8z M36.9,33.4C36.9,33.4,36.8,33.5,36.9,33.4c0.2-0.1,0.7-0.2,1.5-0.4c5.3-1.3,5.5-1.3,5.7-1.5 c0.3-0.2,0.5-0.6,0.5-1c0,0,0,0,0,0c-0.1-1.3-2.4-4.7-3.5-5.2c-0.4-0.2-0.8-0.2-1.1,0c-0.2,0.1-0.4,0.3-3.2,4.2c0,0-1.3,1.7-1.3,1.8 c-0.3,0.4-0.3,1,0,1.5C35.8,33.3,36.3,33.6,36.9,33.4z M44.4,38.6c-0.2-0.1-0.3-0.2-5-1.7c0,0-2-0.7-2.1-0.7c-0.5-0.2-1.1,0-1.4,0.5 c-0.4,0.5-0.5,1.1-0.1,1.6l0.8,1.3c2.8,4.5,3,4.8,3.2,5c0.3,0.2,0.7,0.3,1.1,0.1c1.2-0.5,3.7-3.7,3.9-5 C44.8,39.2,44.7,38.8,44.4,38.6z",mask:"M0,0v64h64V0H0z M22.4,37.9c-0.4,0-0.7-0.2-0.9-0.6c-0.1-0.3-0.2-0.7-0.3-1.3c-0.2-1.7,0-4.2,0.5-5 c0.2-0.4,0.6-0.6,1-0.6c0.3,0,0.5,0.1,5.5,2.1c0,0,1.5,0.6,1.5,0.6c0.5,0.2,0.9,0.7,0.8,1.4c0,0.6-0.4,1.1-0.9,1.2 c0,0-2.1,0.7-2.1,0.7C22.8,37.9,22.7,37.9,22.4,37.9z M33,41c0,4.9,0,5-0.1,5.3c-0.1,0.4-0.4,0.6-0.9,0.7c-1.2,0.2-5.1-1.2-6-2.2 c-0.2-0.2-0.3-0.4-0.3-0.6c0-0.2,0-0.3,0.1-0.4c0.1-0.2,0.2-0.4,3.7-4.5c0,0,1-1.2,1-1.2c0.3-0.4,1-0.6,1.5-0.4 c0.6,0.2,0.9,0.7,0.9,1.2C33,38.8,33,41,33,41z M32.2,30.8c-0.3,0.1-1,0.3-2-1.2c0,0-6.4-10.1-6.5-10.4c-0.1-0.3,0-0.7,0.3-1.1 c1-1,6.1-2.4,7.5-2.1c0.4,0.1,0.7,0.4,0.9,0.8c0.1,0.4,0.7,9.8,0.8,11.9C33.2,30.5,32.4,30.7,32.2,30.8z M35.4,31.3 c0,0,1.3-1.8,1.3-1.8c2.8-3.9,3-4.1,3.2-4.2c0.3-0.2,0.7-0.2,1.1,0c1.1,0.5,3.4,3.9,3.5,5.2c0,0,0,0,0,0c0,0.4-0.1,0.8-0.5,1 c-0.2,0.1-0.4,0.2-5.7,1.5c-0.8,0.2-1.3,0.3-1.6,0.4c0,0,0,0,0,0c-0.5,0.1-1.1-0.1-1.4-0.6C35.1,32.3,35.1,31.7,35.4,31.3z  M44.7,39.6c-0.2,1.3-2.7,4.5-3.9,5c-0.4,0.2-0.8,0.1-1.1-0.1c-0.2-0.2-0.4-0.5-3.2-5l-0.8-1.3c-0.3-0.5-0.3-1.1,0.1-1.6 c0.4-0.5,0.9-0.6,1.4-0.5c0,0,2.1,0.7,2.1,0.7c4.6,1.5,4.8,1.6,5,1.7C44.7,38.8,44.8,39.2,44.7,39.6z",color:"#B90C04"},youtube:{icon:"M46.7,26c0,0-0.3-2.1-1.2-3c-1.1-1.2-2.4-1.2-3-1.3C38.3,21.4,32,21.4,32,21.4h0 c0,0-6.3,0-10.5,0.3c-0.6,0.1-1.9,0.1-3,1.3c-0.9,0.9-1.2,3-1.2,3S17,28.4,17,30.9v2.3c0,2.4,0.3,4.9,0.3,4.9s0.3,2.1,1.2,3 c1.1,1.2,2.6,1.2,3.3,1.3c2.4,0.2,10.2,0.3,10.2,0.3s6.3,0,10.5-0.3c0.6-0.1,1.9-0.1,3-1.3c0.9-0.9,1.2-3,1.2-3s0.3-2.4,0.3-4.9 v-2.3C47,28.4,46.7,26,46.7,26z M28.9,35.9l0-8.4l8.1,4.2L28.9,35.9z",mask:"M0,0v64h64V0H0z M47,33.1c0,2.4-0.3,4.9-0.3,4.9s-0.3,2.1-1.2,3c-1.1,1.2-2.4,1.2-3,1.3 C38.3,42.5,32,42.6,32,42.6s-7.8-0.1-10.2-0.3c-0.7-0.1-2.2-0.1-3.3-1.3c-0.9-0.9-1.2-3-1.2-3S17,35.6,17,33.1v-2.3 c0-2.4,0.3-4.9,0.3-4.9s0.3-2.1,1.2-3c1.1-1.2,2.4-1.2,3-1.3c4.2-0.3,10.5-0.3,10.5-0.3h0c0,0,6.3,0,10.5,0.3c0.6,0.1,1.9,0.1,3,1.3 c0.9,0.9,1.2,3,1.2,3s0.3,2.4,0.3,4.9V33.1z M28.9,35.9l8.1-4.2l-8.1-4.2L28.9,35.9z",color:"#ff3333"}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(16)),o=s(n(1)),i=n(95),a=n(72);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.bgColor,n=e.networkKey;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},a.socialSvgMask,{fill:t||(0,i.colorFor)(n)})}function d(e){var t=e.bgColor,n=e.networkKey,r=c(e,["bgColor","networkKey"]);return o.default.createElement("g",u({},r,{className:"social-svg-mask",style:f({bgColor:t,networkKey:n})}),o.default.createElement("path",{d:(0,i.maskFor)(n)}))}d.propTypes={bgColor:r.default.string,networkKey:r.default.string.isRequired};var h=d;t.default=h},,,function(e,t,n){},,function(e,t,n){"use strict";var r=n(8),o=n(12),i=n(1),a=n.n(i),s=n(27),u=n(15),c=n(28),l=n(46),f=n(20),d=!0,h=!1,p=null,v={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function m(e){e.metaKey||e.altKey||e.ctrlKey||(d=!0)}function g(){d=!1}function y(){"hidden"===this.visibilityState&&h&&(d=!0)}function b(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return d||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!v[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function w(){h=!0,window.clearTimeout(p),p=window.setTimeout((function(){h=!1}),100)}function _(){return{isFocusVisible:b,onBlurVisible:w,ref:i.useCallback((function(e){var t,n=s.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",m,!0),t.addEventListener("mousedown",g,!0),t.addEventListener("pointerdown",g,!0),t.addEventListener("touchstart",g,!0),t.addEventListener("visibilitychange",y,!0))}),[])}}var x=n(53),E=n(11),C=n(69),k=n(29),S=n(61);function T(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(i.isValidElement)(e)?t(e):e}(e)})),n}function O(e,t,n){return null!=n[t]?n[t]:e.props[t]}function I(e,t,n){var r=T(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var u in t){if(o[u])for(r=0;r<o[u].length;r++){var c=o[u][r];s[o[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if(Object(i.isValidElement)(s)){var u=a in t,c=a in r,l=t[a],f=Object(i.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&Object(i.isValidElement)(l)&&(o[a]=Object(i.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:O(s,"exit",e),enter:O(s,"enter",e)})):o[a]=Object(i.cloneElement)(s,{in:!1}):o[a]=Object(i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:O(s,"exit",e),enter:O(s,"enter",e)})}})),o}var N=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},R=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(Object(C.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Object(k.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,T(n.children,(function(e){return Object(i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:O(e,"appear",n),enter:O(e,"enter",n),exit:O(e,"exit",n)})}))):I(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=T(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(E.a)(e,["component","childFactory"]),o=this.state.contextValue,i=N(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.a.createElement(S.a.Provider,{value:o},i):a.a.createElement(S.a.Provider,{value:o},a.a.createElement(t,r,i))},t}(a.a.Component);R.propTypes={},R.defaultProps={component:"div",childFactory:function(e){return e}};var A=R,P="undefined"===typeof window?i.useEffect:i.useLayoutEffect;var D=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,o=e.rippleX,a=e.rippleY,s=e.rippleSize,c=e.in,f=e.onExited,d=void 0===f?function(){}:f,h=e.timeout,p=i.useState(!1),v=p[0],m=p[1],g=Object(u.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+o},b=Object(u.a)(t.child,v&&t.childLeaving,r&&t.childPulsate),w=Object(l.a)(d);return P((function(){if(!c){m(!0);var e=setTimeout(w,h);return function(){clearTimeout(e)}}}),[w,c,h]),i.createElement("span",{className:g,style:y},i.createElement("span",{className:b}))},M=i.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,s=e.classes,c=e.className,l=Object(o.a)(e,["center","classes","className"]),f=i.useState([]),d=f[0],h=f[1],p=i.useRef(0),v=i.useRef(null);i.useEffect((function(){v.current&&(v.current(),v.current=null)}),[d]);var m=i.useRef(!1),g=i.useRef(null),y=i.useRef(null),b=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,o=e.rippleSize,a=e.cb;h((function(e){return[].concat(Object(x.a)(e),[i.createElement(D,{key:p.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o})])})),p.current+=1,v.current=a}),[s]),_=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,i=t.center,s=void 0===i?a||t.pulsate:i,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,d,h=c?null:b.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,_=v.clientX,x=v.clientY;l=Math.round(_-p.left),f=Math.round(x-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var E=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,C=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(E,2)+Math.pow(C,2))}e.touches?null===y.current&&(y.current=function(){w({pulsate:o,rippleX:l,rippleY:f,rippleSize:d,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):w({pulsate:o,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,w]),E=i.useCallback((function(){_({},{pulsate:!0})}),[_]),C=i.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(g.current=setTimeout((function(){C(e,t)})));y.current=null,h((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:E,start:_,stop:C}}),[E,_,C]),i.createElement("span",Object(r.a)({className:Object(u.a)(s.root,c),ref:b},l),i.createElement(A,{component:null,exit:!0},d))})),j=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(M)),L=i.forwardRef((function(e,t){var n=e.action,a=e.buttonRef,f=e.centerRipple,d=void 0!==f&&f,h=e.children,p=e.classes,v=e.className,m=e.component,g=void 0===m?"button":m,y=e.disabled,b=void 0!==y&&y,w=e.disableRipple,x=void 0!==w&&w,E=e.disableTouchRipple,C=void 0!==E&&E,k=e.focusRipple,S=void 0!==k&&k,T=e.focusVisibleClassName,O=e.onBlur,I=e.onClick,N=e.onFocus,R=e.onFocusVisible,A=e.onKeyDown,P=e.onKeyUp,D=e.onMouseDown,M=e.onMouseLeave,L=e.onMouseUp,F=e.onTouchEnd,B=e.onTouchMove,U=e.onTouchStart,V=e.onDragLeave,z=e.tabIndex,W=void 0===z?0:z,q=e.TouchRippleProps,H=e.type,G=void 0===H?"button":H,K=Object(o.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=i.useRef(null);var $=i.useRef(null),X=i.useState(!1),Q=X[0],J=X[1];b&&Q&&J(!1);var Z=_(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return Object(l.a)((function(r){return t&&t(r),!n&&$.current&&$.current[e](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){J(!0),Y.current.focus()}}}),[]),i.useEffect((function(){Q&&S&&!x&&$.current.pulsate()}),[x,S,Q]);var oe=re("start",D),ie=re("stop",V),ae=re("stop",L),se=re("stop",(function(e){Q&&e.preventDefault(),M&&M(e)})),ue=re("start",U),ce=re("stop",F),le=re("stop",B),fe=re("stop",(function(e){Q&&(te(e),J(!1)),O&&O(e)}),!1),de=Object(l.a)((function(e){Y.current||(Y.current=e.currentTarget),ee(e)&&(J(!0),R&&R(e)),N&&N(e)})),he=function(){var e=s.findDOMNode(Y.current);return g&&"button"!==g&&!("A"===e.tagName&&e.href)},pe=i.useRef(!1),ve=Object(l.a)((function(e){S&&!pe.current&&Q&&$.current&&" "===e.key&&(pe.current=!0,e.persist(),$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!b&&(e.preventDefault(),I&&I(e))})),me=Object(l.a)((function(e){S&&" "===e.key&&$.current&&Q&&!e.defaultPrevented&&(pe.current=!1,e.persist(),$.current.stop(e,(function(){$.current.pulsate(e)}))),P&&P(e),I&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&I(e)})),ge=g;"button"===ge&&K.href&&(ge="a");var ye={};"button"===ge?(ye.type=G,ye.disabled=b):("a"===ge&&K.href||(ye.role="button"),ye["aria-disabled"]=b);var be=Object(c.a)(a,t),we=Object(c.a)(ne,Y),_e=Object(c.a)(be,we),xe=i.useState(!1),Ee=xe[0],Ce=xe[1];i.useEffect((function(){Ce(!0)}),[]);var ke=Ee&&!x&&!b;return i.createElement(ge,Object(r.a)({className:Object(u.a)(p.root,v,Q&&[p.focusVisible,T],b&&p.disabled),onBlur:fe,onClick:I,onFocus:de,onKeyDown:ve,onKeyUp:me,onMouseDown:oe,onMouseLeave:se,onMouseUp:ae,onDragLeave:ie,onTouchEnd:ce,onTouchMove:le,onTouchStart:ue,ref:_e,tabIndex:b?-1:W},ye,K),h,ke?i.createElement(j,Object(r.a)({ref:$,center:d},q)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(L)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r);var i=o.a.createContext(null);function a(){return o.a.useContext(i)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(8),o=n(11),i=n(17),a=n.n(i),s=n(1),u=n.n(s),c=n(18),l=n(75),f=["bsPrefix","variant","size","active","className","block","type","as"],d=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.variant,s=e.size,d=e.active,h=e.className,p=e.block,v=e.type,m=e.as,g=Object(o.a)(e,f),y=Object(c.a)(n,"btn"),b=a()(h,y,d&&"active",i&&y+"-"+i,p&&y+"-block",s&&y+"-"+s);if(g.href)return u.a.createElement(l.a,Object(r.a)({},g,{as:m,ref:t,className:a()(b,g.disabled&&"disabled")}));t&&(g.ref=t),v?g.type=v:m||(g.type="button");var w=m||"button";return u.a.createElement(w,Object(r.a)({},g,{className:b}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=d},function(e,t,n){"use strict";var r=n(12),o=n(8),i=n(1),a=n(15),s=n(20),u=n(37),c=n(204),l=n(31),f=i.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,f=e.color,d=void 0===f?"default":f,h=e.component,p=void 0===h?"button":h,v=e.disabled,m=void 0!==v&&v,g=e.disableElevation,y=void 0!==g&&g,b=e.disableFocusRipple,w=void 0!==b&&b,_=e.endIcon,x=e.focusVisibleClassName,E=e.fullWidth,C=void 0!==E&&E,k=e.size,S=void 0===k?"medium":k,T=e.startIcon,O=e.type,I=void 0===O?"button":O,N=e.variant,R=void 0===N?"text":N,A=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),P=T&&i.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(l.a)(S))])},T),D=_&&i.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(l.a)(S))])},_);return i.createElement(c.a,Object(o.a)({className:Object(a.a)(s.root,s[R],u,"inherit"===d?s.colorInherit:"default"!==d&&s["".concat(R).concat(Object(l.a)(d))],"medium"!==S&&[s["".concat(R,"Size").concat(Object(l.a)(S))],s["size".concat(Object(l.a)(S))]],y&&s.disableElevation,m&&s.disabled,C&&s.fullWidth),component:p,disabled:m,focusRipple:!w,focusVisibleClassName:Object(a.a)(s.focusVisible,x),ref:t,type:I},A),i.createElement("span",{className:s.label},P,n,D))}));t.a=Object(s.a)((function(e){return{root:Object(o.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.a)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(u.a)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(u.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(u.a)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(u.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var o=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(o[e]="".concat(t[e]," ").concat(n[e]))})),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),o=n(39);function i(e){return e&&"object"===Object(o.a)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var o,i=t.props[n];for(o in i)void 0===r[o]&&(r[o]=i[o]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(8),o=n(12),i=n(1),a=n(15),s=n(31),u=n(20),c=n(37),l=n(50),f=i.forwardRef((function(e,t){var n=e.classes,u=e.className,c=e.color,f=void 0===c?"primary":c,d=e.value,h=e.valueBuffer,p=e.variant,v=void 0===p?"indeterminate":p,m=Object(o.a)(e,["classes","className","color","value","valueBuffer","variant"]),g=Object(l.a)(),y={},b={bar1:{},bar2:{}};if("determinate"===v||"buffer"===v)if(void 0!==d){y["aria-valuenow"]=Math.round(d),y["aria-valuemin"]=0,y["aria-valuemax"]=100;var w=d-100;"rtl"===g.direction&&(w=-w),b.bar1.transform="translateX(".concat(w,"%)")}else 0;if("buffer"===v)if(void 0!==h){var _=(h||0)-100;"rtl"===g.direction&&(_=-_),b.bar2.transform="translateX(".concat(_,"%)")}else 0;return i.createElement("div",Object(r.a)({className:Object(a.a)(n.root,n["color".concat(Object(s.a)(f))],u,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[v]),role:"progressbar"},y,{ref:t},m),"buffer"===v?i.createElement("div",{className:Object(a.a)(n.dashed,n["dashedColor".concat(Object(s.a)(f))])}):null,i.createElement("div",{className:Object(a.a)(n.bar,n["barColor".concat(Object(s.a)(f))],("indeterminate"===v||"query"===v)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[v]),style:b.bar1}),"determinate"===v?null:i.createElement("div",{className:Object(a.a)(n.bar,("indeterminate"===v||"query"===v)&&n.bar2Indeterminate,"buffer"===v?[n["color".concat(Object(s.a)(f))],n.bar2Buffer]:n["barColor".concat(Object(s.a)(f))]),style:b.bar2}))}));t.a=Object(u.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(c.d)(t,.62):Object(c.b)(t,.5)},n=t(e.palette.primary.main),r=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:r},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(f)},function(e,t,n){"use strict";var r=n(9),o=n(78),i=n(45),a=n(40),s=n(51);function u(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function c(e,t){this._pairs=[],e&&Object(s.a)(e,this,t)}var l=c.prototype;l.append=function(e,t){this._pairs.push([e,t])},l.toString=function(e){var t=e?function(t){return e.call(this,t,u)}:u;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var f=c;function d(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function h(e,t,n){if(!t)return e;var o,i=n&&n.encode||d,a=n&&n.serialize;if(o=a?a(t,n):r.a.isURLSearchParams(t)?t.toString():new f(t,n).toString(i)){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}var p=function(){function e(){Object(i.a)(this,e),this.handlers=[]}return Object(a.a)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){r.a.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),v=n(21),m={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:f,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var y=function(e){function t(e,n,o,i){var a=e[i++],s=Number.isFinite(+a),u=i>=e.length;return a=!a&&r.a.isArray(o)?o.length:a,u?(r.a.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!s):(o[a]&&r.a.isObject(o[a])||(o[a]=[]),t(e,n,o[a],i)&&r.a.isArray(o[a])&&(o[a]=function(e){var t,n,r={},o=Object.keys(e),i=o.length;for(t=0;t<i;t++)r[n=o[t]]=e[n];return r}(o[a])),!s)}if(r.a.isFormData(e)&&r.a.isFunction(e.entries)){var n={};return r.a.forEachEntry(e,(function(e,o){t(function(e){return r.a.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),o,n,0)})),n}return null},b={"Content-Type":void 0};var w={transitional:m,adapter:["xhr","http"],transformRequest:[function(e,t){var n,o=t.getContentType()||"",i=o.indexOf("application/json")>-1,a=r.a.isObject(e);if(a&&r.a.isHTMLForm(e)&&(e=new FormData(e)),r.a.isFormData(e))return i&&i?JSON.stringify(y(e)):e;if(r.a.isArrayBuffer(e)||r.a.isBuffer(e)||r.a.isStream(e)||r.a.isFile(e)||r.a.isBlob(e))return e;if(r.a.isArrayBufferView(e))return e.buffer;if(r.a.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Object(s.a)(e,new g.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,o){return g.isNode&&r.a.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=r.a.isFileList(e))||o.indexOf("multipart/form-data")>-1){var u=this.env&&this.env.FormData;return Object(s.a)(n?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(r.a.isString(e))try{return(t||JSON.parse)(e),r.a.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||w.transitional,n=t&&t.forcedJSONParsing,o="json"===this.responseType;if(e&&r.a.isString(e)&&(n&&!this.responseType||o)){var i=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw v.a.from(a,v.a.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:g.classes.FormData,Blob:g.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.a.forEach(["delete","get","head"],(function(e){w.headers[e]={}})),r.a.forEach(["post","put","patch"],(function(e){w.headers[e]=r.a.merge(b)}));var _=w,x=n(22),E=r.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C=Symbol("internals");function k(e){return e&&String(e).trim().toLowerCase()}function S(e){return!1===e||null==e?e:r.a.isArray(e)?e.map(S):String(e)}function T(e,t,n,o,i){return r.a.isFunction(o)?o.call(this,t,n):(i&&(t=n),r.a.isString(t)?r.a.isString(o)?-1!==t.indexOf(o):r.a.isRegExp(o)?o.test(t):void 0:void 0)}var O=function(e,t){function n(e){Object(i.a)(this,n),e&&this.set(e)}return Object(a.a)(n,[{key:"set",value:function(e,t,n){var o=this;function i(e,t,n){var i=k(t);if(!i)throw new Error("header name must be a non-empty string");var a=r.a.findKey(o,i);(!a||void 0===o[a]||!0===n||void 0===n&&!1!==o[a])&&(o[a||t]=S(e))}var a=function(e,t){return r.a.forEach(e,(function(e,n){return i(e,n,t)}))};return r.a.isPlainObject(e)||e instanceof this.constructor?a(e,t):r.a.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,o={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||o[t]&&E[t]||("set-cookie"===t?o[t]?o[t].push(n):o[t]=[n]:o[t]=o[t]?o[t]+", "+n:n)})),o}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=k(e)){var n=r.a.findKey(this,e);if(n){var o=this[n];if(!t)return o;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(o);if(r.a.isFunction(t))return t.call(this,o,n);if(r.a.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=k(e)){var n=r.a.findKey(this,e);return!(!n||void 0===this[n]||t&&!T(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,o=!1;function i(e){if(e=k(e)){var i=r.a.findKey(n,e);!i||t&&!T(0,n[i],i,t)||(delete n[i],o=!0)}}return r.a.isArray(e)?e.forEach(i):i(e),o}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var o=t[n];e&&!T(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return r.a.forEach(this,(function(o,i){var a=r.a.findKey(n,i);if(a)return t[a]=S(o),void delete t[i];var s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();s!==i&&delete t[i],t[s]=S(o),n[s]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return r.a.forEach(this,(function(n,o){null!=n&&!1!==n&&(t[o]=e&&r.a.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=Object(x.a)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[C]=this[C]={accessors:{}}).accessors,n=this.prototype;function o(e){var o=k(e);t[o]||(!function(e,t){var n=r.a.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[o]=!0)}return r.a.isArray(e)?e.forEach(o):o(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);O.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),r.a.freezeMethods(O.prototype),r.a.freezeMethods(O);var I=O;function N(e,t){var n=this||_,o=t||n,i=I.from(o.headers),a=o.data;return r.a.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function R(e){return!(!e||!e.__CANCEL__)}function A(e,t,n){v.a.call(this,null==e?"canceled":e,v.a.ERR_CANCELED,t,n),this.name="CanceledError"}r.a.inherits(A,v.a,{__CANCEL__:!0});var P=A,D=n(79);var M=g.isStandardBrowserEnv?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.a.isString(o)&&s.push("path="+o),r.a.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function j(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var L=g.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.a.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var F=function(e,t){e=e||10;var n,r=new Array(e),o=new Array(e),i=0,a=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=o[a];n||(n=u),r[i]=s,o[i]=u;for(var l=a,f=0;l!==i;)f+=r[l++],l%=e;if((i=(i+1)%e)===a&&(a=(a+1)%e),!(u-n<t)){var d=c&&u-c;return d?Math.round(1e3*f/d):void 0}}};function B(e,t){var n=0,r=F(50,250);return function(o){var i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,u=r(s);n=i;var c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&i<=a?(a-i)/u:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}var U="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var o,i=e.data,a=I.from(e.headers).normalize(),s=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}r.a.isFormData(i)&&(g.isStandardBrowserEnv||g.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(l+":"+f))}var d=j(e.baseURL,e.url);function p(){if(c){var r=I.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new v.a("Request failed with status code "+n.status,[v.a.ERR_BAD_REQUEST,v.a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),h(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(n(new v.a("Request aborted",v.a.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new v.a("Network Error",v.a.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||m;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new v.a(t,r.clarifyTimeoutError?v.a.ETIMEDOUT:v.a.ECONNABORTED,e,c)),c=null},g.isStandardBrowserEnv){var y=(e.withCredentials||L(d))&&e.xsrfCookieName&&M.read(e.xsrfCookieName);y&&a.set(e.xsrfHeaderName,y)}void 0===i&&a.setContentType(null),"setRequestHeader"in c&&r.a.forEach(a.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),r.a.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&c.addEventListener("progress",B(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",B(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=function(t){c&&(n(!t||t.type?new P(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));var b=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);b&&-1===g.protocols.indexOf(b)?n(new v.a("Unsupported protocol "+b+":",v.a.ERR_BAD_REQUEST,e)):c.send(i||null)}))},V={http:D.a,xhr:U};r.a.forEach(V,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var z=function(e){for(var t,n,o=(e=r.a.isArray(e)?e:[e]).length,i=0;i<o&&(t=e[i],!(n=r.a.isString(t)?V[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new v.a("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(r.a.hasOwnProp(V,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!r.a.isFunction(n))throw new TypeError("adapter is not a function");return n};function W(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new P(null,e)}function q(e){return W(e),e.headers=I.from(e.headers),e.data=N.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),z(e.adapter||_.adapter)(e).then((function(t){return W(e),t.data=N.call(e,e.transformResponse,t),t.headers=I.from(t.headers),t}),(function(t){return R(t)||(W(e),t&&t.response&&(t.response.data=N.call(e,e.transformResponse,t.response),t.response.headers=I.from(t.response.headers))),Promise.reject(t)}))}var H=function(e){return e instanceof I?e.toJSON():e};function G(e,t){t=t||{};var n={};function o(e,t,n){return r.a.isPlainObject(e)&&r.a.isPlainObject(t)?r.a.merge.call({caseless:n},e,t):r.a.isPlainObject(t)?r.a.merge({},t):r.a.isArray(t)?t.slice():t}function i(e,t,n){return r.a.isUndefined(t)?r.a.isUndefined(e)?void 0:o(void 0,e,n):o(e,t,n)}function a(e,t){if(!r.a.isUndefined(t))return o(void 0,t)}function s(e,t){return r.a.isUndefined(t)?r.a.isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function u(n,r,i){return i in t?o(n,r):i in e?o(void 0,n):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:function(e,t){return i(H(e),H(t),!0)}};return r.a.forEach(Object.keys(Object.assign({},e,t)),(function(o){var a=c[o]||i,s=a(e[o],t[o],o);r.a.isUndefined(s)&&a!==u||(n[o]=s)})),n}var K="1.4.0",Y={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Y[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var $={};Y.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new v.a(r(o," has been removed"+(t?" in "+t:"")),v.a.ERR_DEPRECATED);return t&&!$[o]&&($[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var X={assertOptions:function(e,t,n){if("object"!==typeof e)throw new v.a("options must be an object",v.a.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new v.a("option "+i+" must be "+u,v.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new v.a("Unknown option "+i,v.a.ERR_BAD_OPTION)}},validators:Y},Q=X.validators,J=function(){function e(t){Object(i.a)(this,e),this.defaults=t,this.interceptors={request:new p,response:new p}}return Object(a.a)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,o=t=G(this.defaults,t),i=o.transitional,a=o.paramsSerializer,s=o.headers;void 0!==i&&X.assertOptions(i,{silentJSONParsing:Q.transitional(Q.boolean),forcedJSONParsing:Q.transitional(Q.boolean),clarifyTimeoutError:Q.transitional(Q.boolean)},!1),null!=a&&(r.a.isFunction(a)?t.paramsSerializer={serialize:a}:X.assertOptions(a,{encode:Q.function,serialize:Q.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=s&&r.a.merge(s.common,s[t.method]))&&r.a.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete s[e]})),t.headers=I.concat(n,s);var u=[],c=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var l,f=[];this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)}));var d,h=0;if(!c){var p=[q.bind(this),void 0];for(p.unshift.apply(p,u),p.push.apply(p,f),d=p.length,l=Promise.resolve(t);h<d;)l=l.then(p[h++],p[h++]);return l}d=u.length;var v=t;for(h=0;h<d;){var m=u[h++],g=u[h++];try{v=m(v)}catch(y){g.call(this,y);break}}try{l=q.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,d=f.length;h<d;)l=l.then(f[h++],f[h++]);return l}},{key:"getUri",value:function(e){return h(j((e=G(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();r.a.forEach(["delete","get","head","options"],(function(e){J.prototype[e]=function(t,n){return this.request(G(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.a.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(G(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}J.prototype[e]=t(),J.prototype[e+"Form"]=t(!0)}));var Z=J,ee=function(){function e(t){if(Object(i.a)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,o){r.reason||(r.reason=new P(e,t,o),n(r.reason))}))}return Object(a.a)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}();var te={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(te).forEach((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];te[r]=n}));var ne=te;var re=function e(t){var n=new Z(t),i=Object(o.a)(Z.prototype.request,n);return r.a.extend(i,Z.prototype,n,{allOwnKeys:!0}),r.a.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(G(t,n))},i}(_);re.Axios=Z,re.CanceledError=P,re.CancelToken=ee,re.isCancel=R,re.VERSION=K,re.toFormData=s.a,re.AxiosError=v.a,re.Cancel=re.CanceledError,re.all=function(e){return Promise.all(e)},re.spread=function(e){return function(t){return e.apply(null,t)}},re.isAxiosError=function(e){return r.a.isObject(e)&&!0===e.isAxiosError},re.mergeConfig=G,re.AxiosHeaders=I,re.formToJSON=function(e){return y(r.a.isHTMLForm(e)?new FormData(e):e)},re.HttpStatusCode=ne,re.default=re;t.a=re},function(e,t,n){"use strict";var r=n(8),o=n(12),i=n(1),a=n.n(i),s=n(236),u=n(22),c=n(39),l=n(130),f=(n(90),n(15));function d(e){return e&&e.ownerDocument||document}var h=n(31),p=n(20),v=n(27);function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=this;clearTimeout(t),t=setTimeout((function(){e.apply(a,o)}),n)}return r.clear=function(){clearTimeout(t)},r}function g(e){return d(e).defaultView||window}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var b=n(205),w=n(238),_=n(54),x=n(28);var E="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var C=i.forwardRef((function(e,t){var n=e.children,r=e.container,o=e.disablePortal,a=void 0!==o&&o,s=e.onRendered,u=i.useState(null),c=u[0],l=u[1],f=Object(x.a)(i.isValidElement(n)?n.ref:null,t);return E((function(){a||l(function(e){return e="function"===typeof e?e():e,v.findDOMNode(e)}(r)||document.body)}),[r,a]),E((function(){if(c&&!a)return Object(_.a)(t,c),function(){Object(_.a)(t,null)}}),[t,c,a]),E((function(){s&&(c||a)&&s()}),[s,c,a]),a?i.isValidElement(n)?i.cloneElement(n,{ref:f}):n:c?v.createPortal(n,c):c})),k=n(46),S=n(76),T=n(45),O=n(40),I=n(53);function N(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function R(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function A(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,i=[t,n].concat(Object(I.a)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===i.indexOf(e)&&-1===a.indexOf(e.tagName)&&R(e,o)}))}function D(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function M(e,t){var n,r=[],o=[],i=e.container;if(!t.disableScrollLock){if(function(e){var t=d(e);return t.body===e?g(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){var a=N();r.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(A(i)+a,"px"),n=d(i).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){o.push(e.style.paddingRight),e.style.paddingRight="".concat(A(e)+a,"px")}))}var s=i.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:i;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){o[t]?e.style.paddingRight=o[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var j=function(){function e(){Object(T.a)(this,e),this.modals=[],this.containers=[]}return Object(O.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&R(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);P(t,e.mountNode,e.modalRef,r,!0);var o=D(this.containers,(function(e){return e.container===t}));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=D(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=M(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=D(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&R(e.modalRef,!0),P(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var o=r.modals[r.modals.length-1];o.modalRef&&R(o.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var L=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,o=e.disableEnforceFocus,a=void 0!==o&&o,s=e.disableRestoreFocus,u=void 0!==s&&s,c=e.getDoc,l=e.isEnabled,f=e.open,h=i.useRef(),p=i.useRef(null),m=i.useRef(null),g=i.useRef(),y=i.useRef(null),b=i.useCallback((function(e){y.current=v.findDOMNode(e)}),[]),w=Object(x.a)(t.ref,b),_=i.useRef();return i.useEffect((function(){_.current=f}),[f]),!_.current&&f&&"undefined"!==typeof window&&(g.current=c().activeElement),i.useEffect((function(){if(f){var e=d(y.current);r||!y.current||y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var t=function(){null!==y.current&&(e.hasFocus()&&!a&&l()&&!h.current?y.current&&!y.current.contains(e.activeElement)&&y.current.focus():h.current=!1)},n=function(t){!a&&l()&&9===t.keyCode&&e.activeElement===y.current&&(h.current=!0,t.shiftKey?m.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var o=setInterval((function(){t()}),50);return function(){clearInterval(o),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}}),[r,a,u,l,f]),i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:w}),i.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},F={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},B=i.forwardRef((function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,u=Object(o.a)(e,["invisible","open"]);return s?i.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},u,{style:Object(r.a)({},F.root,a?F.invisible:{},u.style)})):null}));var U=new j,V=i.forwardRef((function(e,t){var n=Object(b.a)(),a=Object(w.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),s=a.BackdropComponent,u=void 0===s?B:s,c=a.BackdropProps,l=a.children,f=a.closeAfterTransition,h=void 0!==f&&f,p=a.container,m=a.disableAutoFocus,g=void 0!==m&&m,_=a.disableBackdropClick,E=void 0!==_&&_,T=a.disableEnforceFocus,O=void 0!==T&&T,I=a.disableEscapeKeyDown,N=void 0!==I&&I,A=a.disablePortal,P=void 0!==A&&A,D=a.disableRestoreFocus,M=void 0!==D&&D,j=a.disableScrollLock,F=void 0!==j&&j,V=a.hideBackdrop,z=void 0!==V&&V,W=a.keepMounted,q=void 0!==W&&W,H=a.manager,G=void 0===H?U:H,K=a.onBackdropClick,Y=a.onClose,$=a.onEscapeKeyDown,X=a.onRendered,Q=a.open,J=Object(o.a)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=i.useState(!0),ee=Z[0],te=Z[1],ne=i.useRef({}),re=i.useRef(null),oe=i.useRef(null),ie=Object(x.a)(oe,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(a),se=function(){return d(re.current)},ue=function(){return ne.current.modalRef=oe.current,ne.current.mountNode=re.current,ne.current},ce=function(){G.mount(ue(),{disableScrollLock:F}),oe.current.scrollTop=0},le=Object(k.a)((function(){var e=function(e){return e="function"===typeof e?e():e,v.findDOMNode(e)}(p)||se().body;G.add(ue(),e),oe.current&&ce()})),fe=i.useCallback((function(){return G.isTopModal(ue())}),[G]),de=Object(k.a)((function(e){re.current=e,e&&(X&&X(),Q&&fe()?ce():R(oe.current,!0))})),he=i.useCallback((function(){G.remove(ue())}),[G]);if(i.useEffect((function(){return function(){he()}}),[he]),i.useEffect((function(){Q?le():ae&&h||he()}),[Q,he,ae,h,le]),!q&&!Q&&(!ae||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:S.a}),ve={};return void 0===l.props.tabIndex&&(ve.tabIndex=l.props.tabIndex||"-1"),ae&&(ve.onEnter=y((function(){te(!1)}),l.props.onEnter),ve.onExited=y((function(){te(!0),h&&he()}),l.props.onExited)),i.createElement(C,{ref:de,container:p,disablePortal:P},i.createElement("div",Object(r.a)({ref:ie,onKeyDown:function(e){"Escape"===e.key&&fe()&&($&&$(e),N||(e.stopPropagation(),Y&&Y(e,"escapeKeyDown")))},role:"presentation"},J,{style:Object(r.a)({},pe.root,!Q&&ee?pe.hidden:{},J.style)}),z?null:i.createElement(u,Object(r.a)({open:Q,onClick:function(e){e.target===e.currentTarget&&(K&&K(e),!E&&Y&&Y(e,"backdropClick"))}},c)),i.createElement(L,{disableEnforceFocus:O,disableAutoFocus:g,disableRestoreFocus:M,getDoc:se,isEnabled:fe,open:Q},i.cloneElement(l,ve))))})),z=n(63),W=n(50);function q(e,t){var n=e.timeout,r=e.style,o=void 0===r?{}:r;return{duration:o.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:o.transitionDelay}}function H(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var G={entering:{opacity:1,transform:H(1)},entered:{opacity:1,transform:"none"}},K=i.forwardRef((function(e,t){var n=e.children,a=e.disableStrictModeCompat,s=void 0!==a&&a,c=e.in,l=e.onEnter,f=e.onEntered,d=e.onEntering,h=e.onExit,p=e.onExited,v=e.onExiting,m=e.style,g=e.timeout,y=void 0===g?"auto":g,b=e.TransitionComponent,w=void 0===b?z.e:b,_=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),E=i.useRef(),C=i.useRef(),k=Object(W.a)(),S=k.unstable_strictMode&&!s,T=i.useRef(null),O=Object(x.a)(n.ref,t),I=Object(x.a)(S?T:void 0,O),N=function(e){return function(t,n){if(e){var r=S?[T.current,t]:[t,n],o=Object(u.a)(r,2),i=o[0],a=o[1];void 0===a?e(i):e(i,a)}}},R=N(d),A=N((function(e,t){!function(e){e.scrollTop}(e);var n,r=q({style:m,timeout:y},{mode:"enter"}),o=r.duration,i=r.delay;"auto"===y?(n=k.transitions.getAutoHeightDuration(e.clientHeight),C.current=n):n=o,e.style.transition=[k.transitions.create("opacity",{duration:n,delay:i}),k.transitions.create("transform",{duration:.666*n,delay:i})].join(","),l&&l(e,t)})),P=N(f),D=N(v),M=N((function(e){var t,n=q({style:m,timeout:y},{mode:"exit"}),r=n.duration,o=n.delay;"auto"===y?(t=k.transitions.getAutoHeightDuration(e.clientHeight),C.current=t):t=r,e.style.transition=[k.transitions.create("opacity",{duration:t,delay:o}),k.transitions.create("transform",{duration:.666*t,delay:o||.333*t})].join(","),e.style.opacity="0",e.style.transform=H(.75),h&&h(e)})),j=N(p);return i.useEffect((function(){return function(){clearTimeout(E.current)}}),[]),i.createElement(w,Object(r.a)({appear:!0,in:c,nodeRef:S?T:void 0,onEnter:A,onEntered:P,onEntering:R,onExit:M,onExited:j,onExiting:D,addEndListener:function(e,t){var n=S?e:t;"auto"===y&&(E.current=setTimeout(n,C.current||0))},timeout:"auto"===y?null:y},_),(function(e,t){return i.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:H(.75),visibility:"exited"!==e||c?void 0:"hidden"},G[e],m,n.props.style),ref:I},t))}))}));K.muiSupportAuto=!0;var Y=K,$=i.forwardRef((function(e,t){var n=e.classes,a=e.className,s=e.component,u=void 0===s?"div":s,c=e.square,l=void 0!==c&&c,d=e.elevation,h=void 0===d?1:d,p=e.variant,v=void 0===p?"elevation":p,m=Object(o.a)(e,["classes","className","component","square","elevation","variant"]);return i.createElement(u,Object(r.a)({className:Object(f.a)(n.root,a,"outlined"===v?n.outlined:n["elevation".concat(h)],!l&&n.rounded),ref:t},m))})),X=Object(p.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})($);function Q(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function J(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Z(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ee(e){return"function"===typeof e?e():e}var te=i.forwardRef((function(e,t){var n=e.action,a=e.anchorEl,s=e.anchorOrigin,u=void 0===s?{vertical:"top",horizontal:"left"}:s,c=e.anchorPosition,l=e.anchorReference,h=void 0===l?"anchorEl":l,p=e.children,b=e.classes,w=e.className,_=e.container,x=e.elevation,E=void 0===x?8:x,C=e.getContentAnchorEl,k=e.marginThreshold,S=void 0===k?16:k,T=e.onEnter,O=e.onEntered,I=e.onEntering,N=e.onExit,R=e.onExited,A=e.onExiting,P=e.open,D=e.PaperProps,M=void 0===D?{}:D,j=e.transformOrigin,L=void 0===j?{vertical:"top",horizontal:"left"}:j,F=e.TransitionComponent,B=void 0===F?Y:F,U=e.transitionDuration,z=void 0===U?"auto":U,W=e.TransitionProps,q=void 0===W?{}:W,H=Object(o.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),G=i.useRef(),K=i.useCallback((function(e){if("anchorPosition"===h)return c;var t=ee(a),n=(t&&1===t.nodeType?t:d(G.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+Q(n,r),left:n.left+J(n,u.horizontal)}}),[a,u.horizontal,u.vertical,c,h]),$=i.useCallback((function(e){var t=0;if(C&&"anchorEl"===h){var n=C(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,h,C]),te=i.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Q(e,L.vertical)+t,horizontal:J(e,L.horizontal)}}),[L.horizontal,L.vertical]),ne=i.useCallback((function(e){var t=$(e),n={width:e.offsetWidth,height:e.offsetHeight},r=te(n,t);if("none"===h)return{top:null,left:null,transformOrigin:Z(r)};var o=K(t),i=o.top-r.vertical,s=o.left-r.horizontal,u=i+n.height,c=s+n.width,l=g(ee(a)),f=l.innerHeight-S,d=l.innerWidth-S;if(i<S){var p=i-S;i-=p,r.vertical+=p}else if(u>f){var v=u-f;i-=v,r.vertical+=v}if(s<S){var m=s-S;s-=m,r.horizontal+=m}else if(c>d){var y=c-d;s-=y,r.horizontal+=y}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:Z(r)}}),[a,h,K,$,te,S]),re=i.useCallback((function(){var e=G.current;if(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[ne]),oe=i.useCallback((function(e){G.current=v.findDOMNode(e)}),[]);i.useEffect((function(){P&&re()})),i.useImperativeHandle(n,(function(){return P?{updatePosition:function(){re()}}:null}),[P,re]),i.useEffect((function(){if(P){var e=m((function(){re()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[P,re]);var ie=z;"auto"!==z||B.muiSupportAuto||(ie=void 0);var ae=_||(a?d(ee(a)).body:void 0);return i.createElement(V,Object(r.a)({container:ae,open:P,ref:t,BackdropProps:{invisible:!0},className:Object(f.a)(b.root,w)},H),i.createElement(B,Object(r.a)({appear:!0,in:P,onEnter:T,onEntered:O,onExit:N,onExited:R,onExiting:A,timeout:ie},q,{onEntering:y((function(e,t){I&&I(e,t),re()}),q.onEntering)}),i.createElement(X,Object(r.a)({elevation:E,ref:oe},M,{className:Object(f.a)(b.paper,M.className)}),p)))})),ne=Object(p.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(te),re=n(62),oe=i.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.className,u=e.component,c=void 0===u?"ul":u,l=e.dense,d=void 0!==l&&l,h=e.disablePadding,p=void 0!==h&&h,v=e.subheader,m=Object(o.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),g=i.useMemo((function(){return{dense:d}}),[d]);return i.createElement(re.a.Provider,{value:g},i.createElement(c,Object(r.a)({className:Object(f.a)(a.root,s,d&&a.dense,!p&&a.padding,v&&a.subheader),ref:t},m),v,n))})),ie=Object(p.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(oe);function ae(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function se(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ue(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function ce(e,t,n,r,o,i){for(var a=!1,s=o(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&ue(s,i)&&!u)return void s.focus();s=o(e,s,n)}}var le="undefined"===typeof window?i.useEffect:i.useLayoutEffect,fe=i.forwardRef((function(e,t){var n=e.actions,a=e.autoFocus,s=void 0!==a&&a,u=e.autoFocusItem,c=void 0!==u&&u,l=e.children,f=e.className,h=e.disabledItemsFocusable,p=void 0!==h&&h,m=e.disableListWrap,g=void 0!==m&&m,y=e.onKeyDown,b=e.variant,w=void 0===b?"selectedMenu":b,_=Object(o.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),E=i.useRef(null),C=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});le((function(){s&&E.current.focus()}),[s]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!E.current.style.width;if(e.clientHeight<E.current.clientHeight&&n){var r="".concat(N(),"px");E.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,E.current.style.width="calc(100% + ".concat(r,")")}return E.current}}}),[]);var k=i.useCallback((function(e){E.current=v.findDOMNode(e)}),[]),S=Object(x.a)(k,t),T=-1;i.Children.forEach(l,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===T)&&(T=t))}));var O=i.Children.map(l,(function(e,t){if(t===T){var n={};return c&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===w&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return i.createElement(ie,Object(r.a)({role:"menu",ref:S,className:f,onKeyDown:function(e){var t=E.current,n=e.key,r=d(t).activeElement;if("ArrowDown"===n)e.preventDefault(),ce(t,r,g,p,ae);else if("ArrowUp"===n)e.preventDefault(),ce(t,r,g,p,se);else if("Home"===n)e.preventDefault(),ce(t,null,g,p,ae);else if("End"===n)e.preventDefault(),ce(t,null,g,p,se);else if(1===n.length){var o=C.current,i=n.toLowerCase(),a=performance.now();o.keys.length>0&&(a-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=a,o.keys.push(i);var s=r&&!o.repeating&&ue(r,o);o.previousKeyMatched&&(s||ce(t,r,!1,p,ae,o))?e.preventDefault():o.previousKeyMatched=!1}y&&y(e)},tabIndex:s?0:-1},_),O)})),de={vertical:"top",horizontal:"right"},he={vertical:"top",horizontal:"left"},pe=i.forwardRef((function(e,t){var n=e.autoFocus,a=void 0===n||n,s=e.children,u=e.classes,c=e.disableAutoFocusItem,l=void 0!==c&&c,d=e.MenuListProps,h=void 0===d?{}:d,p=e.onClose,m=e.onEntering,g=e.open,y=e.PaperProps,b=void 0===y?{}:y,w=e.PopoverClasses,x=e.transitionDuration,E=void 0===x?"auto":x,C=e.TransitionProps,k=(C=void 0===C?{}:C).onEntering,S=Object(o.a)(C,["onEntering"]),T=e.variant,O=void 0===T?"selectedMenu":T,I=Object(o.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),N=Object(W.a)(),R=a&&!l&&g,A=i.useRef(null),P=i.useRef(null),D=-1;i.Children.map(s,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("menu"!==O&&e.props.selected||-1===D)&&(D=t))}));var M=i.Children.map(s,(function(e,t){return t===D?i.cloneElement(e,{ref:function(t){P.current=v.findDOMNode(t),Object(_.a)(e.ref,t)}}):e}));return i.createElement(ne,Object(r.a)({getContentAnchorEl:function(){return P.current},classes:w,onClose:p,TransitionProps:Object(r.a)({onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,N),m&&m(e,t),k&&k(e,t)}},S),anchorOrigin:"rtl"===N.direction?de:he,transformOrigin:"rtl"===N.direction?de:he,PaperProps:Object(r.a)({},b,{classes:Object(r.a)({},b.classes,{root:u.paper})}),open:g,ref:t,transitionDuration:E},I),i.createElement(fe,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:A,autoFocus:a&&(-1===D||l),autoFocusItem:R,variant:O},h,{className:Object(f.a)(u.list,h.className)}),M))})),ve=Object(p.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(pe);function me(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(me(e.value)&&""!==e.value||t&&me(e.defaultValue)&&""!==e.defaultValue)}function ye(e,t){return"object"===Object(c.a)(t)&&null!==t?e===t:String(e)===String(t)}var be=i.forwardRef((function(e,t){var n=e["aria-label"],a=e.autoFocus,s=e.autoWidth,c=e.children,p=e.classes,v=e.className,m=e.defaultValue,g=e.disabled,y=e.displayEmpty,b=e.IconComponent,w=e.inputRef,_=e.labelId,E=e.MenuProps,C=void 0===E?{}:E,k=e.multiple,S=e.name,T=e.onBlur,O=e.onChange,I=e.onClose,N=e.onFocus,R=e.onOpen,A=e.open,P=e.readOnly,D=e.renderValue,M=e.SelectDisplayProps,j=void 0===M?{}:M,L=e.tabIndex,F=(e.type,e.value),B=e.variant,U=void 0===B?"standard":B,V=Object(o.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),z=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),a=o[0],s=o[1];return[r?t:a,i.useCallback((function(e){r||s(e)}),[])]}({controlled:F,default:m,name:"Select"}),W=Object(u.a)(z,2),q=W[0],H=W[1],G=i.useRef(null),K=i.useState(null),Y=K[0],$=K[1],X=i.useRef(null!=A).current,Q=i.useState(),J=Q[0],Z=Q[1],ee=i.useState(!1),te=ee[0],ne=ee[1],re=Object(x.a)(t,w);i.useImperativeHandle(re,(function(){return{focus:function(){Y.focus()},node:G.current,value:q}}),[Y,q]),i.useEffect((function(){a&&Y&&Y.focus()}),[a,Y]),i.useEffect((function(){if(Y){var e=d(Y).getElementById(_);if(e){var t=function(){getSelection().isCollapsed&&Y.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[_,Y]);var oe,ie,ae=function(e,t){e?R&&R(t):I&&I(t),X||(Z(s?null:Y.clientWidth),ne(e))},se=i.Children.toArray(c),ue=function(e){return function(t){var n;if(k||ae(!1,t),k){n=Array.isArray(q)?q.slice():[];var r=q.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),q!==n&&(H(n),O&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:S}}),O(t,e)))}},ce=null!==Y&&(X?A:te);delete V["aria-invalid"];var le=[],fe=!1;(ge({value:q})||y)&&(D?oe=D(q):fe=!0);var de=se.map((function(e){if(!i.isValidElement(e))return null;var t;if(k){if(!Array.isArray(q))throw new Error(Object(l.a)(2));(t=q.some((function(t){return ye(t,e.props.value)})))&&fe&&le.push(e.props.children)}else(t=ye(q,e.props.value))&&fe&&(ie=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));fe&&(oe=k?le.join(", "):ie);var he,pe=J;!s&&X&&Y&&(pe=Y.clientWidth),he="undefined"!==typeof L?L:g?null:0;var me=j.id||(S?"mui-component-select-".concat(S):void 0);return i.createElement(i.Fragment,null,i.createElement("div",Object(r.a)({className:Object(f.a)(p.root,p.select,p.selectMenu,p[U],v,g&&p.disabled),ref:$,tabIndex:he,role:"button","aria-disabled":g?"true":void 0,"aria-expanded":ce?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[_,me].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ae(!0,e))}},onMouseDown:g||P?null:function(e){0===e.button&&(e.preventDefault(),Y.focus(),ae(!0,e))},onBlur:function(e){!ce&&T&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:q,name:S}}),T(e))},onFocus:N},j,{id:me}),function(e){return null==e||"string"===typeof e&&!e.trim()}(oe)?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):oe),i.createElement("input",Object(r.a)({value:Array.isArray(q)?q.join(","):q,name:S,ref:G,"aria-hidden":!0,onChange:function(e){var t=se.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=se[t];H(n.props.value),O&&O(e,n)}},tabIndex:-1,className:p.nativeInput,autoFocus:a},V)),i.createElement(b,{className:Object(f.a)(p.icon,p["icon".concat(Object(h.a)(U))],ce&&p.iconOpen,g&&p.disabled)}),i.createElement(ve,Object(r.a)({id:"menu-".concat(S||""),anchorEl:Y,open:ce,onClose:function(e){ae(!1,e)}},C,{MenuListProps:Object(r.a)({"aria-labelledby":_,role:"listbox",disableListWrap:!0},C.MenuListProps),PaperProps:Object(r.a)({},C.PaperProps,{style:Object(r.a)({minWidth:pe},null!=C.PaperProps?C.PaperProps.style:null)})}),de))}));function we(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var _e=i.createContext();var xe=_e;function Ee(){return i.useContext(xe)}var Ce=i.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.className,u=e.color,c=void 0===u?"inherit":u,l=e.component,d=void 0===l?"svg":l,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,w=Object(o.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(d,Object(r.a)({className:Object(f.a)(a.root,s,"inherit"!==c&&a["color".concat(Object(h.a)(c))],"default"!==v&&"medium"!==v&&a["fontSize".concat(Object(h.a)(v))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},w),n,g?i.createElement("title",null,g):null)}));Ce.muiName="SvgIcon";var ke=Object(p.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Ce);var Se=function(e,t){var n=function(t,n){return a.a.createElement(ke,Object(r.a)({ref:n},t),e)};return n.muiName=ke.muiName,a.a.memo(a.a.forwardRef(n))}(i.createElement("path",{d:"M7 10l5 5 5-5z"}));function Te(e,t){return parseInt(e[t],10)||0}var Oe="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,Ie={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Ne=i.forwardRef((function(e,t){var n=e.onChange,a=e.rows,s=e.rowsMax,u=e.rowsMin,c=e.maxRows,l=e.minRows,f=void 0===l?1:l,d=e.style,h=e.value,p=Object(o.a)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=c||s,g=a||u||f,y=i.useRef(null!=h).current,b=i.useRef(null),w=Object(x.a)(t,b),_=i.useRef(null),E=i.useRef(0),C=i.useState({}),k=C[0],S=C[1],T=i.useCallback((function(){var t=b.current,n=window.getComputedStyle(t),r=_.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var o=n["box-sizing"],i=Te(n,"padding-bottom")+Te(n,"padding-top"),a=Te(n,"border-bottom-width")+Te(n,"border-top-width"),s=r.scrollHeight-i;r.value="x";var u=r.scrollHeight-i,c=s;g&&(c=Math.max(Number(g)*u,c)),v&&(c=Math.min(Number(v)*u,c));var l=(c=Math.max(c,u))+("border-box"===o?i+a:0),f=Math.abs(c-s)<=1;S((function(e){return E.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(E.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,g,e.placeholder]);i.useEffect((function(){var e=m((function(){E.current=0,T()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[T]),Oe((function(){T()})),i.useEffect((function(){E.current=0}),[h]);return i.createElement(i.Fragment,null,i.createElement("textarea",Object(r.a)({value:h,onChange:function(e){E.current=0,y||T(),n&&n(e)},ref:w,rows:g,style:Object(r.a)({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},d)},p)),i.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:_,tabIndex:-1,style:Object(r.a)({},Ie,d)}))})),Re="undefined"===typeof window?i.useEffect:i.useLayoutEffect,Ae=i.forwardRef((function(e,t){var n=e["aria-describedby"],a=e.autoComplete,s=e.autoFocus,u=e.classes,c=e.className,d=(e.color,e.defaultValue),p=e.disabled,v=e.endAdornment,m=(e.error,e.fullWidth),g=void 0!==m&&m,y=e.id,b=e.inputComponent,w=void 0===b?"input":b,_=e.inputProps,E=void 0===_?{}:_,C=e.inputRef,k=(e.margin,e.multiline),S=void 0!==k&&k,T=e.name,O=e.onBlur,I=e.onChange,N=e.onClick,R=e.onFocus,A=e.onKeyDown,P=e.onKeyUp,D=e.placeholder,M=e.readOnly,j=e.renderSuffix,L=e.rows,F=e.rowsMax,B=e.rowsMin,U=e.maxRows,V=e.minRows,z=e.startAdornment,W=e.type,q=void 0===W?"text":W,H=e.value,G=Object(o.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),K=null!=E.value?E.value:H,Y=i.useRef(null!=K).current,$=i.useRef(),X=i.useCallback((function(e){0}),[]),Q=Object(x.a)(E.ref,X),J=Object(x.a)(C,Q),Z=Object(x.a)($,J),ee=i.useState(!1),te=ee[0],ne=ee[1],re=i.useContext(_e);var oe=we({props:e,muiFormControl:re,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});oe.focused=re?re.focused:te,i.useEffect((function(){!re&&p&&te&&(ne(!1),O&&O())}),[re,p,te,O]);var ie=re&&re.onFilled,ae=re&&re.onEmpty,se=i.useCallback((function(e){ge(e)?ie&&ie():ae&&ae()}),[ie,ae]);Re((function(){Y&&se({value:K})}),[K,se,Y]);i.useEffect((function(){se($.current)}),[]);var ue=w,ce=Object(r.a)({},E,{ref:Z});"string"!==typeof ue?ce=Object(r.a)({inputRef:Z,type:q},ce,{ref:null}):S?!L||U||V||F||B?(ce=Object(r.a)({minRows:L||V,rowsMax:F,maxRows:U},ce),ue=Ne):ue="textarea":ce=Object(r.a)({type:q},ce);return i.useEffect((function(){re&&re.setAdornedStart(Boolean(z))}),[re,z]),i.createElement("div",Object(r.a)({className:Object(f.a)(u.root,u["color".concat(Object(h.a)(oe.color||"primary"))],c,oe.disabled&&u.disabled,oe.error&&u.error,g&&u.fullWidth,oe.focused&&u.focused,re&&u.formControl,S&&u.multiline,z&&u.adornedStart,v&&u.adornedEnd,"dense"===oe.margin&&u.marginDense),onClick:function(e){$.current&&e.currentTarget===e.target&&$.current.focus(),N&&N(e)},ref:t},G),z,i.createElement(xe.Provider,{value:null},i.createElement(ue,Object(r.a)({"aria-invalid":oe.error,"aria-describedby":n,autoComplete:a,autoFocus:s,defaultValue:d,disabled:oe.disabled,id:y,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?$.current:{value:"x"})},name:T,placeholder:D,readOnly:M,required:oe.required,rows:L,value:K,onKeyDown:A,onKeyUp:P},ce,{className:Object(f.a)(u.input,E.className,oe.disabled&&u.disabled,S&&u.inputMultiline,oe.hiddenLabel&&u.inputHiddenLabel,z&&u.inputAdornedStart,v&&u.inputAdornedEnd,"search"===q&&u.inputTypeSearch,"dense"===oe.margin&&u.inputMarginDense),onBlur:function(e){O&&O(e),E.onBlur&&E.onBlur(e),re&&re.onBlur?re.onBlur(e):ne(!1)},onChange:function(e){if(!Y){var t=e.target||$.current;if(null==t)throw new Error(Object(l.a)(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];E.onChange&&E.onChange.apply(E,[e].concat(r)),I&&I.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(R&&R(e),E.onFocus&&E.onFocus(e),re&&re.onFocus?re.onFocus(e):ne(!0))}}))),v,j?j(Object(r.a)({},oe,{startAdornment:z})):null)})),Pe=Object(p.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},o={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(r.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Ae),De=i.forwardRef((function(e,t){var n=e.disableUnderline,a=e.classes,s=e.fullWidth,u=void 0!==s&&s,c=e.inputComponent,l=void 0===c?"input":c,d=e.multiline,h=void 0!==d&&d,p=e.type,v=void 0===p?"text":p,m=Object(o.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Pe,Object(r.a)({classes:Object(r.a)({},a,{root:Object(f.a)(a.root,!n&&a.underline),underline:null}),fullWidth:u,inputComponent:l,multiline:h,ref:t,type:v},m))}));De.muiName="Input";var Me=Object(p.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(De),je=i.forwardRef((function(e,t){var n=e.classes,a=e.className,s=e.disabled,u=e.IconComponent,c=e.inputRef,l=e.variant,d=void 0===l?"standard":l,p=Object(o.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return i.createElement(i.Fragment,null,i.createElement("select",Object(r.a)({className:Object(f.a)(n.root,n.select,n[d],a,s&&n.disabled),disabled:s,ref:c||t},p)),e.multiple?null:i.createElement(u,{className:Object(f.a)(n.icon,n["icon".concat(Object(h.a)(d))],s&&n.disabled)}))})),Le=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Fe=i.createElement(Me,null),Be=i.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.IconComponent,u=void 0===s?Se:s,c=e.input,l=void 0===c?Fe:c,f=e.inputProps,d=(e.variant,Object(o.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),h=we({props:e,muiFormControl:Ee(),states:["variant"]});return i.cloneElement(l,Object(r.a)({inputComponent:je,inputProps:Object(r.a)({children:n,classes:a,IconComponent:u,variant:h.variant,type:void 0},f,l?l.props.inputProps:{}),ref:t},d))}));Be.muiName="Select";Object(p.a)(Le,{name:"MuiNativeSelect"})(Be);var Ue=i.forwardRef((function(e,t){var n=e.disableUnderline,a=e.classes,s=e.fullWidth,u=void 0!==s&&s,c=e.inputComponent,l=void 0===c?"input":c,d=e.multiline,h=void 0!==d&&d,p=e.type,v=void 0===p?"text":p,m=Object(o.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Pe,Object(r.a)({classes:Object(r.a)({},a,{root:Object(f.a)(a.root,!n&&a.underline),underline:null}),fullWidth:u,inputComponent:l,multiline:h,ref:t,type:v},m))}));Ue.muiName="Input";var Ve=Object(p.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Ue),ze=n(44),We=i.forwardRef((function(e,t){e.children;var n=e.classes,a=e.className,s=e.label,u=e.labelWidth,c=e.notched,l=e.style,d=Object(o.a)(e,["children","classes","className","label","labelWidth","notched","style"]),p="rtl"===Object(W.a)().direction?"right":"left";if(void 0!==s)return i.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(f.a)(n.root,a),ref:t,style:l},d),i.createElement("legend",{className:Object(f.a)(n.legendLabelled,c&&n.legendNotched)},s?i.createElement("span",null,s):i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var v=u>0?.75*u+8:.01;return i.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(ze.a)({},"padding".concat(Object(h.a)(p)),8),l),className:Object(f.a)(n.root,a),ref:t},d),i.createElement("legend",{className:n.legend,style:{width:c?v:.01}},i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),qe=Object(p.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(We),He=i.forwardRef((function(e,t){var n=e.classes,a=e.fullWidth,s=void 0!==a&&a,u=e.inputComponent,c=void 0===u?"input":u,l=e.label,d=e.labelWidth,h=void 0===d?0:d,p=e.multiline,v=void 0!==p&&p,m=e.notched,g=e.type,y=void 0===g?"text":g,b=Object(o.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return i.createElement(Pe,Object(r.a)({renderSuffix:function(e){return i.createElement(qe,{className:n.notchedOutline,label:l,labelWidth:h,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(f.a)(n.root,n.underline),notchedOutline:null}),fullWidth:s,inputComponent:c,multiline:v,ref:t,type:y},b))}));He.muiName="Input";var Ge=Object(p.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(He),Ke=Le,Ye=i.createElement(Me,null),$e=i.createElement(Ve,null),Xe=i.forwardRef((function e(t,n){var a=t.autoWidth,u=void 0!==a&&a,c=t.children,l=t.classes,f=t.displayEmpty,d=void 0!==f&&f,h=t.IconComponent,p=void 0===h?Se:h,v=t.id,m=t.input,g=t.inputProps,y=t.label,b=t.labelId,w=t.labelWidth,_=void 0===w?0:w,x=t.MenuProps,E=t.multiple,C=void 0!==E&&E,k=t.native,S=void 0!==k&&k,T=t.onClose,O=t.onOpen,I=t.open,N=t.renderValue,R=t.SelectDisplayProps,A=t.variant,P=void 0===A?"standard":A,D=Object(o.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),M=S?je:be,j=we({props:t,muiFormControl:Ee(),states:["variant"]}).variant||P,L=m||{standard:Ye,outlined:i.createElement(Ge,{label:y,labelWidth:_}),filled:$e}[j];return i.cloneElement(L,Object(r.a)({inputComponent:M,inputProps:Object(r.a)({children:c,IconComponent:p,variant:j,type:void 0,multiple:C},S?{id:v}:{autoWidth:u,displayEmpty:d,labelId:b,MenuProps:x,onClose:T,onOpen:O,open:I,renderValue:N,SelectDisplayProps:Object(r.a)({id:v},R)},g,{classes:g?Object(s.a)({baseClasses:l,newClasses:g.classes,Component:e}):l},m?m.props.inputProps:{}),ref:n},D))}));Xe.muiName="Select";t.a=Object(p.a)(Ke,{name:"MuiSelect"})(Xe)},function(e,t,n){"use strict";var r=n(8),o=n(11),i=n(17),a=n.n(i),s=n(1),u=n.n(s),c=n(82),l=n(84),f=n(18),d=["bsPrefix","className","as"],h=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,s=e.as,c=Object(o.a)(e,d);n=Object(f.a)(n,"navbar-brand");var l=s||(c.href?"a":"span");return u.a.createElement(l,Object(r.a)({},c,{ref:t,className:a()(i,n)}))}));h.displayName="NavbarBrand";var p=h,v=n(128);function m(e,t){return function(e){var t=Object(v.a)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var g=/([A-Z])/g;var y=/^ms-/;function b(e){return function(e){return e.replace(g,"-$1").toLowerCase()}(e).replace(y,"-ms-")}var w=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var _=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(b(t))||m(e).getPropertyValue(b(t));Object.keys(t).forEach((function(o){var i=t[o];i||0===i?!function(e){return!(!e||!w.test(e))}(o)?n+=b(o)+": "+i+";":r+=o+"("+i+") ":e.style.removeProperty(b(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},x=n(63),E=n(129),C=!1,k=!1;try{var S={get passive(){return C=!0},get once(){return k=C=!0}};E.a&&(window.addEventListener("test",S,S),window.removeEventListener("test",S,!0))}catch(te){}var T=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!k){var o=r.once,i=r.capture,a=n;!k&&o&&(a=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=a),e.addEventListener(t,a,C?r:i)}e.addEventListener(t,n,r)};var O=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};var I=function(e,t,n,r){return T(e,t,n,r),function(){O(e,t,n,r)}};function N(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)}),t+n),i=I(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),i()}}function R(e,t,n,r){null==n&&(n=function(e){var t=_(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=N(e,n,r),i=I(e,"transitionend",t);return function(){o(),i()}}function A(e,t){var n=_(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function P(e,t){var n=A(e,"transitionDuration"),r=A(e,"transitionDelay"),o=R(e,(function(n){n.target===e&&(o(),t(n))}),n+r)}var D=n(56);var M,j=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],L={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function F(e,t){var n=t["offset"+e[0].toUpperCase()+e.slice(1)],r=L[e];return n+parseInt(_(t,r[0]),10)+parseInt(_(t,r[1]),10)}var B=((M={})[x.c]="collapse",M[x.d]="collapsing",M[x.b]="collapsing",M[x.a]="collapse show",M),U={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:F},V=u.a.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,c=e.onEntered,l=e.onExit,f=e.onExiting,d=e.className,h=e.children,p=e.dimension,v=void 0===p?"height":p,m=e.getDimensionValue,g=void 0===m?F:m,y=Object(o.a)(e,j),b="function"===typeof v?v():v,w=Object(s.useMemo)((function(){return Object(D.a)((function(e){e.style[b]="0"}),n)}),[b,n]),_=Object(s.useMemo)((function(){return Object(D.a)((function(e){var t="scroll"+b[0].toUpperCase()+b.slice(1);e.style[b]=e[t]+"px"}),i)}),[b,i]),E=Object(s.useMemo)((function(){return Object(D.a)((function(e){e.style[b]=null}),c)}),[b,c]),C=Object(s.useMemo)((function(){return Object(D.a)((function(e){e.style[b]=g(b,e)+"px",e.offsetHeight}),l)}),[l,g,b]),k=Object(s.useMemo)((function(){return Object(D.a)((function(e){e.style[b]=null}),f)}),[b,f]);return u.a.createElement(x.e,Object(r.a)({ref:t,addEndListener:P},y,{"aria-expanded":y.role?y.in:null,onEnter:w,onEntering:_,onEntered:E,onExit:C,onExiting:k}),(function(e,t){return u.a.cloneElement(h,Object(r.a)({},t,{className:a()(d,h.props.className,B[e],"width"===b&&"width")}))}))}));V.defaultProps=U;var z=V,W=n(52),q=["children","bsPrefix"],H=u.a.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=Object(o.a)(e,q);return i=Object(f.a)(i,"navbar-collapse"),u.a.createElement(W.a.Consumer,null,(function(e){return u.a.createElement(z,Object(r.a)({in:!(!e||!e.expanded)},a),u.a.createElement("div",{ref:t,className:i},n))}))}));H.displayName="NavbarCollapse";var G=H,K=n(85),Y=["bsPrefix","className","children","label","as","onClick"],$=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,c=e.children,l=e.label,d=e.as,h=void 0===d?"button":d,p=e.onClick,v=Object(o.a)(e,Y);n=Object(f.a)(n,"navbar-toggler");var m=Object(s.useContext)(W.a)||{},g=m.onToggle,y=m.expanded,b=Object(K.a)((function(e){p&&p(e),g&&g()}));return"button"===h&&(v.type="button"),u.a.createElement(h,Object(r.a)({},v,{ref:t,onClick:b,"aria-label":l,className:a()(i,n,!y&&"collapsed")}),c||u.a.createElement("span",{className:n+"-icon"}))}));$.displayName="NavbarToggle",$.defaultProps={label:"Toggle navigation"};var X=$,Q=n(48),J=["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"],Z=Object(l.a)("navbar-text",{Component:"span"}),ee=u.a.forwardRef((function(e,t){var n=Object(c.a)(e,{expanded:"onToggle"}),i=n.bsPrefix,l=n.expand,d=n.variant,h=n.bg,p=n.fixed,v=n.sticky,m=n.className,g=n.children,y=n.as,b=void 0===y?"nav":y,w=n.expanded,_=n.onToggle,x=n.onSelect,E=n.collapseOnSelect,C=Object(o.a)(n,J),k=Object(f.a)(i,"navbar"),S=Object(s.useCallback)((function(){x&&x.apply(void 0,arguments),E&&w&&_&&_(!1)}),[x,E,w,_]);void 0===C.role&&"nav"!==b&&(C.role="navigation");var T=k+"-expand";"string"===typeof l&&(T=T+"-"+l);var O=Object(s.useMemo)((function(){return{onToggle:function(){return _&&_(!w)},bsPrefix:k,expanded:!!w}}),[k,w,_]);return u.a.createElement(W.a.Provider,{value:O},u.a.createElement(Q.a.Provider,{value:S},u.a.createElement(b,Object(r.a)({ref:t},C,{className:a()(m,k,l&&T,d&&k+"-"+d,h&&"bg-"+h,v&&"sticky-"+v,p&&"fixed-"+p)}),g)))}));ee.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},ee.displayName="Navbar",ee.Brand=p,ee.Toggle=X,ee.Collapse=G,ee.Text=Z;t.a=ee},function(e,t,n){"use strict";var r=n(8),o=n(11),i=n(17),a=n.n(i),s=n(1),u=n.n(s),c=(n(71),n(16)),l=n.n(c),f=["as","className","type","tooltip"],d={type:l.a.string,tooltip:l.a.bool,as:l.a.elementType},h=u.a.forwardRef((function(e,t){var n=e.as,i=void 0===n?"div":n,s=e.className,c=e.type,l=void 0===c?"valid":c,d=e.tooltip,h=void 0!==d&&d,p=Object(o.a)(e,f);return u.a.createElement(i,Object(r.a)({},p,{ref:t,className:a()(s,l+"-"+(h?"tooltip":"feedback"))}))}));h.displayName="Feedback",h.propTypes=d;var p=h,v=u.a.createContext({controlId:void 0}),m=n(18),g=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],y=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,l=e.className,f=e.type,d=void 0===f?"checkbox":f,h=e.isValid,p=void 0!==h&&h,y=e.isInvalid,b=void 0!==y&&y,w=e.isStatic,_=e.as,x=void 0===_?"input":_,E=Object(o.a)(e,g),C=Object(s.useContext)(v),k=C.controlId,S=C.custom?[c,"custom-control-input"]:[i,"form-check-input"],T=S[0],O=S[1];return i=Object(m.a)(T,O),u.a.createElement(x,Object(r.a)({},E,{ref:t,type:d,id:n||k,className:a()(l,i,p&&"is-valid",b&&"is-invalid",w&&"position-static")}))}));y.displayName="FormCheckInput";var b=y,w=["bsPrefix","bsCustomPrefix","className","htmlFor"],_=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.bsCustomPrefix,c=e.className,l=e.htmlFor,f=Object(o.a)(e,w),d=Object(s.useContext)(v),h=d.controlId,p=d.custom?[i,"custom-control-label"]:[n,"form-check-label"],g=p[0],y=p[1];return n=Object(m.a)(g,y),u.a.createElement("label",Object(r.a)({},f,{ref:t,htmlFor:l||h,className:a()(c,n)}))}));_.displayName="FormCheckLabel";var x=_,E=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],C=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,l=e.inline,f=void 0!==l&&l,d=e.disabled,h=void 0!==d&&d,g=e.isValid,y=void 0!==g&&g,w=e.isInvalid,_=void 0!==w&&w,C=e.feedbackTooltip,k=void 0!==C&&C,S=e.feedback,T=e.className,O=e.style,I=e.title,N=void 0===I?"":I,R=e.type,A=void 0===R?"checkbox":R,P=e.label,D=e.children,M=e.custom,j=e.as,L=void 0===j?"input":j,F=Object(o.a)(e,E),B="switch"===A||M,U=B?[c,"custom-control"]:[i,"form-check"],V=U[0],z=U[1];i=Object(m.a)(V,z);var W=Object(s.useContext)(v).controlId,q=Object(s.useMemo)((function(){return{controlId:n||W,custom:B}}),[W,B,n]),H=B||null!=P&&!1!==P&&!D,G=u.a.createElement(b,Object(r.a)({},F,{type:"switch"===A?"checkbox":A,ref:t,isValid:y,isInvalid:_,isStatic:!H,disabled:h,as:L}));return u.a.createElement(v.Provider,{value:q},u.a.createElement("div",{style:O,className:a()(T,i,B&&"custom-"+A,f&&i+"-inline")},D||u.a.createElement(u.a.Fragment,null,G,H&&u.a.createElement(x,{title:N},P),(y||_)&&u.a.createElement(p,{type:y?"valid":"invalid",tooltip:k},S))))}));C.displayName="FormCheck",C.Input=b,C.Label=x;var k=C,S=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],T=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,l=e.className,f=e.isValid,d=e.isInvalid,h=e.lang,p=e.as,g=void 0===p?"input":p,y=Object(o.a)(e,S),b=Object(s.useContext)(v),w=b.controlId,_=b.custom?[c,"custom-file-input"]:[i,"form-control-file"],x=_[0],E=_[1];return i=Object(m.a)(x,E),u.a.createElement(g,Object(r.a)({},y,{ref:t,id:n||w,type:"file",lang:h,className:a()(l,i,f&&"is-valid",d&&"is-invalid")}))}));T.displayName="FormFileInput";var O=T,I=["bsPrefix","bsCustomPrefix","className","htmlFor"],N=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.bsCustomPrefix,c=e.className,l=e.htmlFor,f=Object(o.a)(e,I),d=Object(s.useContext)(v),h=d.controlId,p=d.custom?[i,"custom-file-label"]:[n,"form-file-label"],g=p[0],y=p[1];return n=Object(m.a)(g,y),u.a.createElement("label",Object(r.a)({},f,{ref:t,htmlFor:l||h,className:a()(c,n),"data-browse":f["data-browse"]}))}));N.displayName="FormFileLabel";var R=N,A=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],P=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,l=e.disabled,f=void 0!==l&&l,d=e.isValid,h=void 0!==d&&d,g=e.isInvalid,y=void 0!==g&&g,b=e.feedbackTooltip,w=void 0!==b&&b,_=e.feedback,x=e.className,E=e.style,C=e.label,k=e.children,S=e.custom,T=e.lang,I=e["data-browse"],N=e.as,P=void 0===N?"div":N,D=e.inputAs,M=void 0===D?"input":D,j=Object(o.a)(e,A),L=S?[c,"custom"]:[i,"form-file"],F=L[0],B=L[1];i=Object(m.a)(F,B);var U=Object(s.useContext)(v).controlId,V=Object(s.useMemo)((function(){return{controlId:n||U,custom:S}}),[U,S,n]),z=null!=C&&!1!==C&&!k,W=u.a.createElement(O,Object(r.a)({},j,{ref:t,isValid:h,isInvalid:y,disabled:f,as:M,lang:T}));return u.a.createElement(v.Provider,{value:V},u.a.createElement(P,{style:E,className:a()(x,i,S&&"custom-file")},k||u.a.createElement(u.a.Fragment,null,S?u.a.createElement(u.a.Fragment,null,W,z&&u.a.createElement(R,{"data-browse":I},C)):u.a.createElement(u.a.Fragment,null,z&&u.a.createElement(R,null,C),W),(h||y)&&u.a.createElement(p,{type:h?"valid":"invalid",tooltip:w},_))))}));P.displayName="FormFile",P.Input=O,P.Label=R;var D=P,M=(n(59),["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),j=u.a.forwardRef((function(e,t){var n,i,c=e.bsPrefix,l=e.bsCustomPrefix,f=e.type,d=e.size,h=e.htmlSize,p=e.id,g=e.className,y=e.isValid,b=void 0!==y&&y,w=e.isInvalid,_=void 0!==w&&w,x=e.plaintext,E=e.readOnly,C=e.custom,k=e.as,S=void 0===k?"input":k,T=Object(o.a)(e,M),O=Object(s.useContext)(v).controlId,I=C?[l,"custom"]:[c,"form-control"],N=I[0],R=I[1];if(c=Object(m.a)(N,R),x)(i={})[c+"-plaintext"]=!0,n=i;else if("file"===f){var A;(A={})[c+"-file"]=!0,n=A}else if("range"===f){var P;(P={})[c+"-range"]=!0,n=P}else if("select"===S&&C){var D;(D={})[c+"-select"]=!0,D[c+"-select-"+d]=d,n=D}else{var j;(j={})[c]=!0,j[c+"-"+d]=d,n=j}return u.a.createElement(S,Object(r.a)({},T,{type:f,size:h,ref:t,readOnly:E,id:p||O,className:a()(g,n,b&&"is-valid",_&&"is-invalid")}))}));j.displayName="FormControl";var L=Object.assign(j,{Feedback:p}),F=["bsPrefix","className","children","controlId","as"],B=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,c=e.children,l=e.controlId,f=e.as,d=void 0===f?"div":f,h=Object(o.a)(e,F);n=Object(m.a)(n,"form-group");var p=Object(s.useMemo)((function(){return{controlId:l}}),[l]);return u.a.createElement(v.Provider,{value:p},u.a.createElement(d,Object(r.a)({},h,{ref:t,className:a()(i,n)}),c))}));B.displayName="FormGroup";var U=B,V=["bsPrefix","className","as"],z=["xl","lg","md","sm","xs"],W=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,s=e.as,c=void 0===s?"div":s,l=Object(o.a)(e,V),f=Object(m.a)(n,"col"),d=[],h=[];return z.forEach((function(e){var t,n,r,o=l[e];if(delete l[e],"object"===typeof o&&null!=o){var i=o.span;t=void 0===i||i,n=o.offset,r=o.order}else t=o;var a="xs"!==e?"-"+e:"";t&&d.push(!0===t?""+f+a:""+f+a+"-"+t),null!=r&&h.push("order"+a+"-"+r),null!=n&&h.push("offset"+a+"-"+n)})),d.length||d.push(f),u.a.createElement(c,Object(r.a)({},l,{ref:t,className:a.a.apply(void 0,[i].concat(d,h))}))}));W.displayName="Col";var q=W,H=["as","bsPrefix","column","srOnly","className","htmlFor"],G=u.a.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,c=e.bsPrefix,l=e.column,f=e.srOnly,d=e.className,h=e.htmlFor,p=Object(o.a)(e,H),g=Object(s.useContext)(v).controlId;c=Object(m.a)(c,"form-label");var y="col-form-label";"string"===typeof l&&(y=y+" "+y+"-"+l);var b=a()(d,c,f&&"sr-only",l&&y);return h=h||g,l?u.a.createElement(q,Object(r.a)({ref:t,as:"label",className:b,htmlFor:h},p)):u.a.createElement(i,Object(r.a)({ref:t,className:b,htmlFor:h},p))}));G.displayName="FormLabel",G.defaultProps={column:!1,srOnly:!1};var K=G,Y=["bsPrefix","className","as","muted"],$=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,s=e.as,c=void 0===s?"small":s,l=e.muted,f=Object(o.a)(e,Y);return n=Object(m.a)(n,"form-text"),u.a.createElement(c,Object(r.a)({},f,{ref:t,className:a()(i,n,l&&"text-muted")}))}));$.displayName="FormText";var X=$,Q=u.a.forwardRef((function(e,t){return u.a.createElement(k,Object(r.a)({},e,{ref:t,type:"switch"}))}));Q.displayName="Switch",Q.Input=k.Input,Q.Label=k.Label;var J=Q,Z=n(84),ee=["bsPrefix","inline","className","validated","as"],te=Object(Z.a)("form-row"),ne=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.inline,s=e.className,c=e.validated,l=e.as,f=void 0===l?"form":l,d=Object(o.a)(e,ee);return n=Object(m.a)(n,"form"),u.a.createElement(f,Object(r.a)({},d,{ref:t,className:a()(s,c&&"was-validated",i&&n+"-inline")}))}));ne.displayName="Form",ne.defaultProps={inline:!1},ne.Row=te,ne.Group=U,ne.Control=L,ne.Check=k,ne.File=D,ne.Switch=J,ne.Label=K,ne.Text=X;t.a=ne},function(e,t,n){"use strict";var r=n(8),o=n(11),i=n(17),a=n.n(i),s=(n(71),n(1)),u=n.n(s),c=n(82),l=n(18),f=n(52),d=u.a.createContext(null);d.displayName="CardContext";var h=d,p=Function.prototype.bind.call(Function.prototype.call,[].slice);var v=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var m=function(e,t){return Object(s.useMemo)((function(){return function(e,t){var n=v(e),r=v(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},g=u.a.createContext(null);g.displayName="NavContext";var y=g,b=n(48),w=u.a.createContext(null),_=["as","onSelect","activeKey","role","onKeyDown"],x=function(){},E=u.a.forwardRef((function(e,t){var n,i,a=e.as,c=void 0===a?"ul":a,l=e.onSelect,f=e.activeKey,d=e.role,h=e.onKeyDown,v=Object(o.a)(e,_),g=Object(s.useReducer)((function(e){return!e}),!1)[1],E=Object(s.useRef)(!1),C=Object(s.useContext)(b.a),k=Object(s.useContext)(w);k&&(d=d||"tablist",f=k.activeKey,n=k.getControlledId,i=k.getControllerId);var S=Object(s.useRef)(null),T=function(e){var t=S.current;if(!t)return null;var n,r=(n="[data-rb-event-key]:not(.disabled)",p(t.querySelectorAll(n))),o=t.querySelector(".active");if(!o)return null;var i=r.indexOf(o);if(-1===i)return null;var a=i+e;return a>=r.length&&(a=0),a<0&&(a=r.length-1),r[a]},O=function(e,t){null!=e&&(l&&l(e,t),C&&C(e,t))};Object(s.useEffect)((function(){if(S.current&&E.current){var e=S.current.querySelector("[data-rb-event-key].active");e&&e.focus()}E.current=!1}));var I=m(t,S);return u.a.createElement(b.a.Provider,{value:O},u.a.createElement(y.Provider,{value:{role:d,activeKey:Object(b.b)(f),getControlledId:n||x,getControllerId:i||x}},u.a.createElement(c,Object(r.a)({},v,{onKeyDown:function(e){var t;switch(h&&h(e),e.key){case"ArrowLeft":case"ArrowUp":t=T(-1);break;case"ArrowRight":case"ArrowDown":t=T(1);break;default:return}t&&(e.preventDefault(),O(t.dataset.rbEventKey,e),E.current=!0,g())},ref:I,role:d}))))})),C=["bsPrefix","className","children","as"],k=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,s=e.children,c=e.as,f=void 0===c?"div":c,d=Object(o.a)(e,C);return n=Object(l.a)(n,"nav-item"),u.a.createElement(f,Object(r.a)({},d,{ref:t,className:a()(i,n)}),s)}));k.displayName="NavItem";var S=k,T=n(75),O=n(85),I=(n(59),["active","className","eventKey","onSelect","onClick","as"]),N=u.a.forwardRef((function(e,t){var n=e.active,i=e.className,c=e.eventKey,l=e.onSelect,f=e.onClick,d=e.as,h=Object(o.a)(e,I),p=Object(b.b)(c,h.href),v=Object(s.useContext)(b.a),m=Object(s.useContext)(y),g=n;if(m){h.role||"tablist"!==m.role||(h.role="tab");var w=m.getControllerId(p),_=m.getControlledId(p);h["data-rb-event-key"]=p,h.id=w||h.id,h["aria-controls"]=_||h["aria-controls"],g=null==n&&null!=p?m.activeKey===p:n}"tab"===h.role&&(h.disabled&&(h.tabIndex=-1,h["aria-disabled"]=!0),h["aria-selected"]=g);var x=Object(O.a)((function(e){f&&f(e),null!=p&&(l&&l(p,e),v&&v(p,e))}));return u.a.createElement(d,Object(r.a)({},h,{ref:t,onClick:x,className:a()(i,g&&"active")}))}));N.defaultProps={disabled:!1};var R=N,A=["bsPrefix","disabled","className","href","eventKey","onSelect","as"],P={disabled:!1,as:T.a},D=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.disabled,s=e.className,c=e.href,f=e.eventKey,d=e.onSelect,h=e.as,p=Object(o.a)(e,A);return n=Object(l.a)(n,"nav-link"),u.a.createElement(R,Object(r.a)({},p,{href:c,ref:t,eventKey:f,as:h,disabled:i,onSelect:d,className:a()(s,n,i&&"disabled")}))}));D.displayName="NavLink",D.defaultProps=P;var M=D,j=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"],L=u.a.forwardRef((function(e,t){var n,i,d,p=Object(c.a)(e,{activeKey:"onSelect"}),v=p.as,m=void 0===v?"div":v,g=p.bsPrefix,y=p.variant,b=p.fill,w=p.justify,_=p.navbar,x=p.navbarScroll,C=p.className,k=p.children,S=p.activeKey,T=Object(o.a)(p,j),O=Object(l.a)(g,"nav"),I=!1,N=Object(s.useContext)(f.a),R=Object(s.useContext)(h);return N?(i=N.bsPrefix,I=null==_||_):R&&(d=R.cardHeaderBsPrefix),u.a.createElement(E,Object(r.a)({as:m,ref:t,activeKey:S,className:a()(C,(n={},n[O]=!I,n[i+"-nav"]=I,n[i+"-nav-scroll"]=I&&x,n[d+"-"+y]=!!d,n[O+"-"+y]=!!y,n[O+"-fill"]=b,n[O+"-justified"]=w,n))},T),k)}));L.displayName="Nav",L.defaultProps={justify:!1,fill:!1},L.Item=S,L.Link=M;t.a=L},function(e,t,n){"use strict";var r=n(12),o=n(44),i=n(8),a=n(1),s=n(15),u=n(20),c=n(204);var l=n(28),f=n(62),d=n(27),h="undefined"===typeof window?a.useEffect:a.useLayoutEffect,p=a.forwardRef((function(e,t){var n=e.alignItems,o=void 0===n?"center":n,u=e.autoFocus,p=void 0!==u&&u,v=e.button,m=void 0!==v&&v,g=e.children,y=e.classes,b=e.className,w=e.component,_=e.ContainerComponent,x=void 0===_?"li":_,E=e.ContainerProps,C=(E=void 0===E?{}:E).className,k=Object(r.a)(E,["className"]),S=e.dense,T=void 0!==S&&S,O=e.disabled,I=void 0!==O&&O,N=e.disableGutters,R=void 0!==N&&N,A=e.divider,P=void 0!==A&&A,D=e.focusVisibleClassName,M=e.selected,j=void 0!==M&&M,L=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),F=a.useContext(f.a),B={dense:T||F.dense||!1,alignItems:o},U=a.useRef(null);h((function(){p&&U.current&&U.current.focus()}),[p]);var V,z,W=a.Children.toArray(g),q=W.length&&(V=W[W.length-1],z=["ListItemSecondaryAction"],a.isValidElement(V)&&-1!==z.indexOf(V.type.muiName)),H=a.useCallback((function(e){U.current=d.findDOMNode(e)}),[]),G=Object(l.a)(H,t),K=Object(i.a)({className:Object(s.a)(y.root,b,B.dense&&y.dense,!R&&y.gutters,P&&y.divider,I&&y.disabled,m&&y.button,"center"!==o&&y.alignItemsFlexStart,q&&y.secondaryAction,j&&y.selected),disabled:I},L),Y=w||"li";return m&&(K.component=w||"div",K.focusVisibleClassName=Object(s.a)(y.focusVisible,D),Y=c.a),q?(Y=K.component||w?Y:"div","li"===x&&("li"===Y?Y="div":"li"===K.component&&(K.component="div")),a.createElement(f.a.Provider,{value:B},a.createElement(x,Object(i.a)({className:Object(s.a)(y.container,C),ref:G},k),a.createElement(Y,K,W),W.pop()))):a.createElement(f.a.Provider,{value:B},a.createElement(Y,Object(i.a)({ref:G},K),W))})),v=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p),m=a.forwardRef((function(e,t){var n,o=e.classes,u=e.className,c=e.component,l=void 0===c?"li":c,f=e.disableGutters,d=void 0!==f&&f,h=e.ListItemClasses,p=e.role,m=void 0===p?"menuitem":p,g=e.selected,y=e.tabIndex,b=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),a.createElement(v,Object(i.a)({button:!0,role:m,tabIndex:n,component:l,selected:g,disableGutters:d,classes:Object(i.a)({dense:o.dense},h),className:Object(s.a)(o.root,u,g&&o.selected,!d&&o.gutters),ref:t},b))}));t.a=Object(u.a)((function(e){return{root:Object(i.a)({},e.typography.body1,Object(o.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(i.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(m)}]]);
//# sourceMappingURL=2.57ba74ca.chunk.js.map